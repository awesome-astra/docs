<!-- Elements added to main will be displayed on all pages -->

<!doctype html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
        <meta name="description" content="Your Wiki to implement Awesome Applications with Astra">
      
      
        <meta name="author" content="Cedrick Lunven">
      
      
        <link rel="canonical" href="https://awesome-astra.github.io/pages/develop/sdk/astra-db-client-java/">
      
      
        <link rel="prev" href="../../">
      
      
        <link rel="next" href="../astra-vector-client-python/">
      
      <link rel="icon" href="../../../../img/favicon.svg">
      <meta name="generator" content="mkdocs-1.4.3, mkdocs-material-9.1.13">
    
    
      
        <title>• Astra DB Client - Awesome-Astra</title>
      
    
    
      <link rel="stylesheet" href="../../../../assets/stylesheets/main.85bb2934.min.css">
      
        
        <link rel="stylesheet" href="../../../../assets/stylesheets/palette.a6bdf11c.min.css">
      
      

    
    
    
      
        
        
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,300i,400,400i,700,700i%7CRoboto+Mono:400,400i,700,700i&display=fallback">
        <style>:root{--md-text-font:"Roboto";--md-code-font:"Roboto Mono"}</style>
      
    
    
    <script>__md_scope=new URL("../../../..",location),__md_hash=e=>[...e].reduce((e,_)=>(e<<5)-e+_.charCodeAt(0),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script>
    
      
  


  
  


  <script id="__analytics">function __md_analytics(){function n(){dataLayer.push(arguments)}window.dataLayer=window.dataLayer||[],n("js",new Date),n("config","G-MDYTQ5XG33"),document.addEventListener("DOMContentLoaded",function(){document.forms.search&&document.forms.search.query.addEventListener("blur",function(){this.value&&n("event","search",{search_term:this.value})}),document$.subscribe(function(){var a=document.forms.feedback;if(void 0!==a)for(var e of a.querySelectorAll("[type=submit]"))e.addEventListener("click",function(e){e.preventDefault();var t=document.location.pathname,e=this.getAttribute("data-md-value");n("event","feedback",{page:t,data:e}),a.firstElementChild.disabled=!0;e=a.querySelector(".md-feedback__note [data-md-value='"+e+"']");e&&(e.hidden=!1)}),a.hidden=!1}),location$.subscribe(function(e){n("config","G-MDYTQ5XG33",{page_path:e.pathname})})});var e=document.createElement("script");e.async=!0,e.src="https://www.googletagmanager.com/gtag/js?id=G-MDYTQ5XG33",document.getElementById("__analytics").insertAdjacentElement("afterEnd",e)}</script>

  
    <script>"undefined"!=typeof __md_analytics&&__md_analytics()</script>
  

    
    
    
  </head>
  
  
    
    
      
    
    
    
    
    <body dir="ltr" data-md-color-scheme="default" data-md-color-primary="indigo" data-md-color-accent="indigo">
  
    
    
      <script>var palette=__md_get("__palette");if(palette&&"object"==typeof palette.color)for(var key of Object.keys(palette.color))document.body.setAttribute("data-md-color-"+key,palette.color[key])</script>
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#1-overview" class="md-skip">
          Skip to content
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
    
      

<header class="md-header" data-md-component="header">
  <nav class="md-header__inner md-grid" aria-label="Header">
    <a href="../../../.." title="Awesome-Astra" class="md-header__button md-logo" aria-label="Awesome-Astra" data-md-component="logo">
      
  <img src="../../../../img/favicon.ico" alt="logo">

    </a>
    <label class="md-header__button md-icon" for="__drawer">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3V6m0 5h18v2H3v-2m0 5h18v2H3v-2Z"/></svg>
    </label>
    <div class="md-header__title" data-md-component="header-title">
      <div class="md-header__ellipsis">
        <div class="md-header__topic">
          <span class="md-ellipsis">
            Awesome-Astra
          </span>
        </div>
        <div class="md-header__topic" data-md-component="header-topic">
          <span class="md-ellipsis">
            
              • Astra DB Client
            
          </span>
        </div>
      </div>
    </div>
    
      
        <form class="md-header__option" data-md-component="palette">
          
            
            
            
            <input class="md-option" data-md-color-media="" data-md-color-scheme="default" data-md-color-primary="indigo" data-md-color-accent="indigo"  aria-label="Switch to light mode"  type="radio" name="__palette" id="__palette_1">
            
              <label class="md-header__button md-icon" title="Switch to light mode" for="__palette_2" hidden>
                <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="m17.75 4.09-2.53 1.94.91 3.06-2.63-1.81-2.63 1.81.91-3.06-2.53-1.94L12.44 4l1.06-3 1.06 3 3.19.09m3.5 6.91-1.64 1.25.59 1.98-1.7-1.17-1.7 1.17.59-1.98L15.75 11l2.06-.05L18.5 9l.69 1.95 2.06.05m-2.28 4.95c.83-.08 1.72 1.1 1.19 1.85-.32.45-.66.87-1.08 1.27C15.17 23 8.84 23 4.94 19.07c-3.91-3.9-3.91-10.24 0-14.14.4-.4.82-.76 1.27-1.08.75-.53 1.93.36 1.85 1.19-.27 2.86.69 5.83 2.89 8.02a9.96 9.96 0 0 0 8.02 2.89m-1.64 2.02a12.08 12.08 0 0 1-7.8-3.47c-2.17-2.19-3.33-5-3.49-7.82-2.81 3.14-2.7 7.96.31 10.98 3.02 3.01 7.84 3.12 10.98.31Z"/></svg>
              </label>
            
          
            
            
            
            <input class="md-option" data-md-color-media="" data-md-color-scheme="slate" data-md-color-primary="teal" data-md-color-accent="teal"  aria-label="Switch to dark mode"  type="radio" name="__palette" id="__palette_2">
            
              <label class="md-header__button md-icon" title="Switch to dark mode" for="__palette_1" hidden>
                <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 7a5 5 0 0 1 5 5 5 5 0 0 1-5 5 5 5 0 0 1-5-5 5 5 0 0 1 5-5m0 2a3 3 0 0 0-3 3 3 3 0 0 0 3 3 3 3 0 0 0 3-3 3 3 0 0 0-3-3m0-7 2.39 3.42C13.65 5.15 12.84 5 12 5c-.84 0-1.65.15-2.39.42L12 2M3.34 7l4.16-.35A7.2 7.2 0 0 0 5.94 8.5c-.44.74-.69 1.5-.83 2.29L3.34 7m.02 10 1.76-3.77a7.131 7.131 0 0 0 2.38 4.14L3.36 17M20.65 7l-1.77 3.79a7.023 7.023 0 0 0-2.38-4.15l4.15.36m-.01 10-4.14.36c.59-.51 1.12-1.14 1.54-1.86.42-.73.69-1.5.83-2.29L20.64 17M12 22l-2.41-3.44c.74.27 1.55.44 2.41.44.82 0 1.63-.17 2.37-.44L12 22Z"/></svg>
              </label>
            
          
        </form>
      
    
    
    
      <label class="md-header__button md-icon" for="__search">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5Z"/></svg>
      </label>
      <div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" aria-label="Search" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="search-query" required>
      <label class="md-search__icon md-icon" for="__search">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5Z"/></svg>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12Z"/></svg>
      </label>
      <nav class="md-search__options" aria-label="Search">
        
          <a href="javascript:void(0)" class="md-search__icon md-icon" title="Share" aria-label="Share" data-clipboard data-clipboard-text="" data-md-component="search-share" tabindex="-1">
            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M18 16.08c-.76 0-1.44.3-1.96.77L8.91 12.7c.05-.23.09-.46.09-.7 0-.24-.04-.47-.09-.7l7.05-4.11c.54.5 1.25.81 2.04.81a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3c0 .24.04.47.09.7L8.04 9.81C7.5 9.31 6.79 9 6 9a3 3 0 0 0-3 3 3 3 0 0 0 3 3c.79 0 1.5-.31 2.04-.81l7.12 4.15c-.05.21-.08.43-.08.66 0 1.61 1.31 2.91 2.92 2.91 1.61 0 2.92-1.3 2.92-2.91A2.92 2.92 0 0 0 18 16.08Z"/></svg>
          </a>
        
        <button type="reset" class="md-search__icon md-icon" title="Clear" aria-label="Clear" tabindex="-1">
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12 19 6.41Z"/></svg>
        </button>
      </nav>
      
        <div class="md-search__suggest" data-md-component="search-suggest"></div>
      
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" data-md-scrollfix>
        <div class="md-search-result" data-md-component="search-result">
          <div class="md-search-result__meta">
            Initializing search
          </div>
          <ol class="md-search-result__list" role="presentation"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
    
    
      <div class="md-header__source">
        <a href="https://github.com/awesome-astra/docs" title="Go to repository" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><!--! Font Awesome Free 6.4.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2023 Fonticons, Inc.--><path d="M439.55 236.05 244 40.45a28.87 28.87 0 0 0-40.81 0l-40.66 40.63 51.52 51.52c27.06-9.14 52.68 16.77 43.39 43.68l49.66 49.66c34.23-11.8 61.18 31 35.47 56.69-26.49 26.49-70.21-2.87-56-37.34L240.22 199v121.85c25.3 12.54 22.26 41.85 9.08 55a34.34 34.34 0 0 1-48.55 0c-17.57-17.6-11.07-46.91 11.25-56v-123c-20.8-8.51-24.6-30.74-18.64-45L142.57 101 8.45 235.14a28.86 28.86 0 0 0 0 40.81l195.61 195.6a28.86 28.86 0 0 0 40.8 0l194.69-194.69a28.86 28.86 0 0 0 0-40.81z"/></svg>
  </div>
  <div class="md-source__repository">
    awesome-astra/docs
  </div>
</a>
      </div>
    
  </nav>
  
</header>
    
    <div class="md-container" data-md-component="container">
      
      
        
          
            
<nav class="md-tabs" aria-label="Tabs" data-md-component="tabs">
  <div class="md-grid">
    <ul class="md-tabs__list">
      
        
  
  


  <li class="md-tabs__item">
    <a href="../../../.." class="md-tabs__link">
      Home
    </a>
  </li>

      
        
  
  


  
  
  
    <li class="md-tabs__item">
      <a href="../../../astra/" class="md-tabs__link">
        Get Started
      </a>
    </li>
  

      
        
  
  


  
  
  
    <li class="md-tabs__item">
      <a href="../../../data/" class="md-tabs__link">
        Manage Data
      </a>
    </li>
  

      
        
  
  
    
  


  
  
  
    <li class="md-tabs__item">
      <a href="../../" class="md-tabs__link md-tabs__link--active">
        Developers
      </a>
    </li>
  

      
        
  
  


  
  
  
    <li class="md-tabs__item">
      <a href="../../../aiml/" class="md-tabs__link">
        AI/ML
      </a>
    </li>
  

      
        
  
  


  
  
  
    <li class="md-tabs__item">
      <a href="../../../tools/" class="md-tabs__link">
        Integration Ecosystem
      </a>
    </li>
  

      
        
  
  


  
  
  
    <li class="md-tabs__item">
      <a href="../../../gallery/" class="md-tabs__link">
        Sample App Gallery
      </a>
    </li>
  

      
        
  
  


  
  
  
    <li class="md-tabs__item">
      <a href="../../../contact/" class="md-tabs__link">
        Contact Us
      </a>
    </li>
  

      
    </ul>
  </div>
</nav>
          
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              
              <div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    

  


<nav class="md-nav md-nav--primary md-nav--lifted" aria-label="Navigation" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href="../../../.." title="Awesome-Astra" class="md-nav__button md-logo" aria-label="Awesome-Astra" data-md-component="logo">
      
  <img src="../../../../img/favicon.ico" alt="logo">

    </a>
    Awesome-Astra
  </label>
  
    <div class="md-nav__source">
      <a href="https://github.com/awesome-astra/docs" title="Go to repository" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><!--! Font Awesome Free 6.4.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2023 Fonticons, Inc.--><path d="M439.55 236.05 244 40.45a28.87 28.87 0 0 0-40.81 0l-40.66 40.63 51.52 51.52c27.06-9.14 52.68 16.77 43.39 43.68l49.66 49.66c34.23-11.8 61.18 31 35.47 56.69-26.49 26.49-70.21-2.87-56-37.34L240.22 199v121.85c25.3 12.54 22.26 41.85 9.08 55a34.34 34.34 0 0 1-48.55 0c-17.57-17.6-11.07-46.91 11.25-56v-123c-20.8-8.51-24.6-30.74-18.64-45L142.57 101 8.45 235.14a28.86 28.86 0 0 0 0 40.81l195.61 195.6a28.86 28.86 0 0 0 40.8 0l194.69-194.69a28.86 28.86 0 0 0 0-40.81z"/></svg>
  </div>
  <div class="md-source__repository">
    awesome-astra/docs
  </div>
</a>
    </div>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../../../.." class="md-nav__link">
        Home
      </a>
    </li>
  

    
      
      
      

  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
      
      
      <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_2" >
      
      
        
          
            
          
        
          
        
          
        
          
        
          
        
      
      
        
        
        <div class="md-nav__link md-nav__link--index ">
          <a href="../../../astra/">Get Started</a>
          
            <label for="__nav_2">
              <span class="md-nav__icon md-icon"></span>
            </label>
          
        </div>
      
      <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_2_label" aria-expanded="false">
        <label class="md-nav__title" for="__nav_2">
          <span class="md-nav__icon md-icon"></span>
          Get Started
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
          
            
              
  
  
  
    
      
    
    <li class="md-nav__item md-nav__item--section md-nav__item--nested">
      
      
      
      
      <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_2_2" >
      
      
        
          
        
          
        
          
        
          
        
      
      
        <label class="md-nav__link" for="__nav_2_2" id="__nav_2_2_label" tabindex="0">
          Astra Core
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_2_2_label" aria-expanded="false">
        <label class="md-nav__title" for="__nav_2_2">
          <span class="md-nav__icon md-icon"></span>
          Astra Core
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../astra/create-account/" class="md-nav__link">
        ‣ Create Account
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../astra/create-token/" class="md-nav__link">
        ‣ Create Token
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../astra/astra-cli/" class="md-nav__link">
        ‣ Astra CLI
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../astra/faq/" class="md-nav__link">
        ‣ FAQ
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

            
          
            
              
  
  
  
    
      
    
    <li class="md-nav__item md-nav__item--section md-nav__item--nested">
      
      
      
      
      <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_2_3" >
      
      
        
          
        
          
        
          
        
          
        
          
        
      
      
        <label class="md-nav__link" for="__nav_2_3" id="__nav_2_3_label" tabindex="0">
          Astra DB
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_2_3_label" aria-expanded="false">
        <label class="md-nav__title" for="__nav_2_3">
          <span class="md-nav__icon md-icon"></span>
          Astra DB
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../astra/create-instance/" class="md-nav__link">
        ‣ Create Database
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../astra/download-scb/" class="md-nav__link">
        ‣ Secure Connect Bundle
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../astra/resume-db/" class="md-nav__link">
        ‣ Resume a database
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../astra/multi-regions/" class="md-nav__link">
        ‣ Multi Regions
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../astra/cqlproxy/" class="md-nav__link">
        ‣ CQL Proxy
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

            
          
            
              
  
  
  
    
      
    
    <li class="md-nav__item md-nav__item--section md-nav__item--nested">
      
      
      
      
      <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_2_4" >
      
      
        
          
        
          
        
      
      
        <label class="md-nav__link" for="__nav_2_4" id="__nav_2_4_label" tabindex="0">
          Astra Streaming
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_2_4_label" aria-expanded="false">
        <label class="md-nav__title" for="__nav_2_4">
          <span class="md-nav__icon md-icon"></span>
          Astra Streaming
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../astra/create-topic/" class="md-nav__link">
        ‣ Create Topic
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../astra/cdc-for-astra/" class="md-nav__link">
        ‣ CDC for Astra Streaming
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

            
          
            
              
  
  
  
    
      
    
    <li class="md-nav__item md-nav__item--section md-nav__item--nested">
      
      
      
      
      <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_2_5" >
      
      
        
          
        
      
      
        <label class="md-nav__link" for="__nav_2_5" id="__nav_2_5_label" tabindex="0">
          Explore Stargate
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_2_5_label" aria-expanded="false">
        <label class="md-nav__title" for="__nav_2_5">
          <span class="md-nav__icon md-icon"></span>
          Explore Stargate
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../astra/astra-httpie/" class="md-nav__link">
        ‣ HTTPie
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

    
      
      
      

  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
      
      
      <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_3" >
      
      
        
          
            
          
        
          
        
          
        
          
        
      
      
        
        
        <div class="md-nav__link md-nav__link--index ">
          <a href="../../../data/">Manage Data</a>
          
            <label for="__nav_3">
              <span class="md-nav__icon md-icon"></span>
            </label>
          
        </div>
      
      <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_3_label" aria-expanded="false">
        <label class="md-nav__title" for="__nav_3">
          <span class="md-nav__icon md-icon"></span>
          Manage Data
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
          
            
              
  
  
  
    
      
    
    <li class="md-nav__item md-nav__item--section md-nav__item--nested">
      
      
      
      
      <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_3_2" >
      
      
        
          
        
          
        
          
        
      
      
        <label class="md-nav__link" for="__nav_3_2" id="__nav_3_2_label" tabindex="0">
          Load Data
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_3_2_label" aria-expanded="false">
        <label class="md-nav__title" for="__nav_3_2">
          <span class="md-nav__icon md-icon"></span>
          Load Data
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../data/load/astra-data-loader/" class="md-nav__link">
        ‣ Astra Data Loader
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../data/load/dsbulk/" class="md-nav__link">
        ‣ DSBulk
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../data/load/nosqlbench/" class="md-nav__link">
        ‣ NoSQL Bench
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

            
          
            
              
  
  
  
    
      
    
    <li class="md-nav__item md-nav__item--section md-nav__item--nested">
      
      
      
      
      <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_3_3" >
      
      
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
      
      
        <label class="md-nav__link" for="__nav_3_3" id="__nav_3_3_label" tabindex="0">
          Explore Data
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_3_3_label" aria-expanded="false">
        <label class="md-nav__title" for="__nav_3_3">
          <span class="md-nav__icon md-icon"></span>
          Explore Data
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../data/explore/cqlsh/" class="md-nav__link">
        ‣ Cqlsh
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../data/explore/netflix-data-explorer/" class="md-nav__link">
        ‣ Netflix Data Explorer
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../data/explore/datagrip/" class="md-nav__link">
        ‣ Datagrip
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../data/explore/dbschema/" class="md-nav__link">
        ‣ DBSchema
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../data/explore/dbeaver/" class="md-nav__link">
        ‣ DBeaver
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../tools/integration/grafana/" class="md-nav__link">
        ‣ Grafana
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../data/explore/mindsdb/" class="md-nav__link">
        ‣ MindsDB
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../data/explore/presto/" class="md-nav__link">
        ‣ Presto
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../data/explore/tableau/" class="md-nav__link">
        ‣ Tableau
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../data/explore/tableplus/" class="md-nav__link">
        ‣ TablePlus
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../data/explore/trino/" class="md-nav__link">
        ‣ Trino
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

            
          
            
              
  
  
  
    
      
    
    <li class="md-nav__item md-nav__item--section md-nav__item--nested">
      
      
      
      
      <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_3_4" >
      
      
        
          
        
      
      
        <label class="md-nav__link" for="__nav_3_4" id="__nav_3_4_label" tabindex="0">
          Data Modelling
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_3_4_label" aria-expanded="false">
        <label class="md-nav__title" for="__nav_3_4">
          <span class="md-nav__icon md-icon"></span>
          Data Modelling
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="http://kdm.kashliev.com/" class="md-nav__link">
        ‣ Kashliev KDM
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

    
      
      
      

  
  
    
  
  
    
    <li class="md-nav__item md-nav__item--active md-nav__item--nested">
      
      
      
      
      <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_4" checked>
      
      
        
          
            
          
        
          
        
          
        
          
        
          
        
          
        
      
      
        
        
        <div class="md-nav__link md-nav__link--index ">
          <a href="../../">Developers</a>
          
            <label for="__nav_4">
              <span class="md-nav__icon md-icon"></span>
            </label>
          
        </div>
      
      <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_4_label" aria-expanded="true">
        <label class="md-nav__title" for="__nav_4">
          <span class="md-nav__icon md-icon"></span>
          Developers
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
          
            
              
  
  
    
  
  
    
      
    
    <li class="md-nav__item md-nav__item--active md-nav__item--section md-nav__item--nested">
      
      
      
      
      <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_4_2" checked>
      
      
        
          
        
          
        
          
        
      
      
        <label class="md-nav__link" for="__nav_4_2" id="__nav_4_2_label" tabindex="0">
          SDK
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_4_2_label" aria-expanded="true">
        <label class="md-nav__title" for="__nav_4_2">
          <span class="md-nav__icon md-icon"></span>
          SDK
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
    
  
  
    <li class="md-nav__item md-nav__item--active">
      
      <input class="md-nav__toggle md-toggle" type="checkbox" id="__toc">
      
      
      
        <label class="md-nav__link md-nav__link--active" for="__toc">
          • Astra DB Client
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <a href="./" class="md-nav__link md-nav__link--active">
        • Astra DB Client
      </a>
      
        

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#1-overview" class="md-nav__link">
    1. Overview
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#2-prerequisites" class="md-nav__link">
    2. Prerequisites
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#3-getting-started" class="md-nav__link">
    3. Getting Started
  </a>
  
    <nav class="md-nav" aria-label="3. Getting Started">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#project-setup" class="md-nav__link">
    Project Setup
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#quickstart" class="md-nav__link">
    Quickstart
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#4-reference-guide" class="md-nav__link">
    4. Reference Guide
  </a>
  
    <nav class="md-nav" aria-label="4. Reference Guide">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#connection" class="md-nav__link">
    Connection
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#working-with-collections" class="md-nav__link">
    Working with Collections
  </a>
  
    <nav class="md-nav" aria-label="Working with Collections">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#overview" class="md-nav__link">
    Overview
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#create-collection" class="md-nav__link">
    Create Collection
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#list-collections" class="md-nav__link">
    List Collections
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#find-collection" class="md-nav__link">
    Find Collection
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#delete-collection" class="md-nav__link">
    Delete Collection
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#working-with-documents" class="md-nav__link">
    Working with Documents
  </a>
  
    <nav class="md-nav" aria-label="Working with Documents">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#insert-one" class="md-nav__link">
    Insert One
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#upsert-one" class="md-nav__link">
    Upsert One
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#insert-many" class="md-nav__link">
    Insert Many
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#insert-many-chunked" class="md-nav__link">
    Insert Many Chunked
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#upsert-many" class="md-nav__link">
    Upsert Many
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#find-by-id" class="md-nav__link">
    Find By Id
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#find-by-vector" class="md-nav__link">
    Find By Vector
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#find-one" class="md-nav__link">
    Find One
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#find" class="md-nav__link">
    Find
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#paging" class="md-nav__link">
    Paging
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#update-one" class="md-nav__link">
    Update One
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#update-many" class="md-nav__link">
    Update Many
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#delete-one" class="md-nav__link">
    Delete One
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#delete-many" class="md-nav__link">
    Delete Many
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#clear" class="md-nav__link">
    Clear
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#object-mapping" class="md-nav__link">
    Object Mapping
  </a>
  
    <nav class="md-nav" aria-label="Object Mapping">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#repository-pattern" class="md-nav__link">
    Repository Pattern
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#create-collection_1" class="md-nav__link">
    Create collection
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#insert-one_1" class="md-nav__link">
    Insert One
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#insert-many_1" class="md-nav__link">
    Insert Many
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#find-one_1" class="md-nav__link">
    Find One
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#find_1" class="md-nav__link">
    Find
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#update-one_1" class="md-nav__link">
    Update One
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#update-many_1" class="md-nav__link">
    Update Many
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#delete-one_1" class="md-nav__link">
    Delete One
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#delete-many_1" class="md-nav__link">
    Delete Many
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#clear_1" class="md-nav__link">
    Clear
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#working-with-databases" class="md-nav__link">
    Working with databases
  </a>
  
    <nav class="md-nav" aria-label="Working with databases">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#connection_1" class="md-nav__link">
    Connection
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#list-databases" class="md-nav__link">
    List databases
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#create-database" class="md-nav__link">
    Create database
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#find-database" class="md-nav__link">
    Find database
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#delete-database" class="md-nav__link">
    Delete database
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#working-with-keyspaces" class="md-nav__link">
    Working with Keyspaces
  </a>
  
    <nav class="md-nav" aria-label="Working with Keyspaces">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#create-keyspace" class="md-nav__link">
    Create Keyspace
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#delete-keyspace" class="md-nav__link">
    Delete Keyspace
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#find-keyspace" class="md-nav__link">
    Find Keyspace
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#6-class-diagram" class="md-nav__link">
    6. Class Diagram
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#7-working-with-cassio" class="md-nav__link">
    7. Working with CassIO
  </a>
  
    <nav class="md-nav" aria-label="7. Working with CassIO">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#connection_2" class="md-nav__link">
    Connection
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#metadatavectortable" class="md-nav__link">
    MetadataVectorTable
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#clusteredmetadatavectortable" class="md-nav__link">
    ClusteredMetadataVectorTable
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#8-working-with-langchain4j" class="md-nav__link">
    8. Working with Langchain4j
  </a>
  
</li>
      
    </ul>
  
</nav>
      
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../astra-vector-client-python/" class="md-nav__link">
        • AstraPy
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../astra-sdk-java/" class="md-nav__link">
        • Astra SDK Java
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

            
          
            
              
  
  
  
    
      
    
    <li class="md-nav__item md-nav__item--section md-nav__item--nested">
      
      
      
      
      <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_4_3" >
      
      
        
          
        
          
        
          
        
          
        
      
      
        <label class="md-nav__link" for="__nav_4_3" id="__nav_4_3_label" tabindex="0">
          Stargate Apis
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_4_3_label" aria-expanded="false">
        <label class="md-nav__title" for="__nav_4_3">
          <span class="md-nav__icon md-icon"></span>
          Stargate Apis
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../api/document/" class="md-nav__link">
        • Document
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../api/rest/" class="md-nav__link">
        • REST
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../api/graphql/" class="md-nav__link">
        • graphQL
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../api/grpc/" class="md-nav__link">
        • gRPC
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

            
          
            
              
  
  
  
    
      
    
    <li class="md-nav__item md-nav__item--section md-nav__item--nested">
      
      
      
      
      <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_4_4" >
      
      
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
      
      
        <label class="md-nav__link" for="__nav_4_4" id="__nav_4_4_label" tabindex="0">
          Languages
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_4_4_label" aria-expanded="false">
        <label class="md-nav__title" for="__nav_4_4">
          <span class="md-nav__icon md-icon"></span>
          Languages
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../languages/java/" class="md-nav__link">
        • Java
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../languages/javascript/" class="md-nav__link">
        • Javascript
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../languages/python/" class="md-nav__link">
        • Python
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../languages/go/" class="md-nav__link">
        • GoLang
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../languages/csharp/" class="md-nav__link">
        • CSharp
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../languages/scala/" class="md-nav__link">
        • Scala
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../languages/rust/" class="md-nav__link">
        • Rust
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

            
          
            
              
  
  
  
    
      
    
    <li class="md-nav__item md-nav__item--section md-nav__item--nested">
      
      
      
      
      <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_4_5" >
      
      
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
      
      
        <label class="md-nav__link" for="__nav_4_5" id="__nav_4_5_label" tabindex="0">
          Frameworks
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_4_5_label" aria-expanded="false">
        <label class="md-nav__title" for="__nav_4_5">
          <span class="md-nav__icon md-icon"></span>
          Frameworks
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../frameworks/spring/" class="md-nav__link">
        • Spring
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../frameworks/quarkus/" class="md-nav__link">
        • Quarkus
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../frameworks/micronaut/" class="md-nav__link">
        • Micronaut
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../frameworks/lagom/" class="md-nav__link">
        • Lagom
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../frameworks/fastapi/" class="md-nav__link">
        • FastAPI
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../frameworks/flask/" class="md-nav__link">
        • Flask
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../frameworks/django/" class="md-nav__link">
        • Django
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

            
          
            
              
  
  
  
    
      
    
    <li class="md-nav__item md-nav__item--section md-nav__item--nested">
      
      
      
      
      <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_4_6" >
      
      
        
          
        
          
        
          
        
          
        
          
        
      
      
        <label class="md-nav__link" for="__nav_4_6" id="__nav_4_6_label" tabindex="0">
          Platforms
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_4_6_label" aria-expanded="false">
        <label class="md-nav__title" for="__nav_4_6">
          <span class="md-nav__icon md-icon"></span>
          Platforms
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../platform/aws-gamesparks/" class="md-nav__link">
        • AWS GameSparks
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../platform/aws-lambda-function/" class="md-nav__link">
        • AWS Lambda Functions
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../platform/google-cloud-function/" class="md-nav__link">
        • Google Cloud Functions
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../platform/azure-function/" class="md-nav__link">
        • Microsoft Azure Functions
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../platform/circleci/" class="md-nav__link">
        • CircleCI
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

    
      
      
      

  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
      
      
      <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_5" >
      
      
        
          
            
          
        
          
        
      
      
        
        
        <div class="md-nav__link md-nav__link--index ">
          <a href="../../../aiml/">AI/ML</a>
          
            <label for="__nav_5">
              <span class="md-nav__icon md-icon"></span>
            </label>
          
        </div>
      
      <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_5_label" aria-expanded="false">
        <label class="md-nav__title" for="__nav_5">
          <span class="md-nav__icon md-icon"></span>
          AI/ML
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
          
            
              
  
  
  
    
      
    
    <li class="md-nav__item md-nav__item--section md-nav__item--nested">
      
      
      
      
      <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_5_2" >
      
      
        
          
        
          
        
          
        
          
        
          
        
          
        
      
      
        <label class="md-nav__link" for="__nav_5_2" id="__nav_5_2_label" tabindex="0">
          Topics
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_5_2_label" aria-expanded="false">
        <label class="md-nav__title" for="__nav_5_2">
          <span class="md-nav__icon md-icon"></span>
          Topics
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../aiml/llm/vector_demos/" class="md-nav__link">
        Vector Demos
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../aiml/llm/langchain/" class="md-nav__link">
        LangChain
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../aiml/llm/llamaindex/" class="md-nav__link">
        LlamaIndex
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../aiml/aws/aws-bedrock/" class="md-nav__link">
        AWS Bedrock (↪)
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../aiml/llm/cassio/" class="md-nav__link">
        CassIO
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../tools/integration/feast/" class="md-nav__link">
        Feast (↪)
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

    
      
      
      

  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
      
      
      <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_6" >
      
      
        
          
            
          
        
          
        
          
        
      
      
        
        
        <div class="md-nav__link md-nav__link--index ">
          <a href="../../../tools/">Integration Ecosystem</a>
          
            <label for="__nav_6">
              <span class="md-nav__icon md-icon"></span>
            </label>
          
        </div>
      
      <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_6_label" aria-expanded="false">
        <label class="md-nav__title" for="__nav_6">
          <span class="md-nav__icon md-icon"></span>
          Integration Ecosystem
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
          
            
              
  
  
  
    
      
    
    <li class="md-nav__item md-nav__item--section md-nav__item--nested">
      
      
      
      
      <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_6_2" >
      
      
        
          
        
          
        
          
        
      
      
        <label class="md-nav__link" for="__nav_6_2" id="__nav_6_2_label" tabindex="0">
          Cloud Providers
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_6_2_label" aria-expanded="false">
        <label class="md-nav__title" for="__nav_6_2">
          <span class="md-nav__icon md-icon"></span>
          Cloud Providers
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
      
      
      <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_6_2_1" >
      
      
        
          
        
          
        
          
        
          
        
      
      
        <label class="md-nav__link" for="__nav_6_2_1" id="__nav_6_2_1_label" tabindex="0">
          Amazon (AWS)
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" data-md-level="3" aria-labelledby="__nav_6_2_1_label" aria-expanded="false">
        <label class="md-nav__title" for="__nav_6_2_1">
          <span class="md-nav__icon md-icon"></span>
          Amazon (AWS)
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../platform/aws-lambda-function/" class="md-nav__link">
        Lambda Functions
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../platform/aws-gamesparks/" class="md-nav__link">
        AWS GameSparks
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../data/explore/awsglue/" class="md-nav__link">
        AWS Glue
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../aiml/aws/aws-bedrock/" class="md-nav__link">
        AWS Bedrock
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

            
          
            
              
  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
      
      
      <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_6_2_2" >
      
      
        
          
        
          
        
      
      
        <label class="md-nav__link" for="__nav_6_2_2" id="__nav_6_2_2_label" tabindex="0">
          Google (GCP)
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" data-md-level="3" aria-labelledby="__nav_6_2_2_label" aria-expanded="false">
        <label class="md-nav__title" for="__nav_6_2_2">
          <span class="md-nav__icon md-icon"></span>
          Google (GCP)
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../platform/google-cloud-function/" class="md-nav__link">
        Cloud Functions
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../tools/cloud-providers/google-dataflow/" class="md-nav__link">
        Dataflow
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

            
          
            
              
  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
      
      
      <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_6_2_3" >
      
      
        
          
        
          
        
      
      
        <label class="md-nav__link" for="__nav_6_2_3" id="__nav_6_2_3_label" tabindex="0">
          Microsoft (Azure)
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" data-md-level="3" aria-labelledby="__nav_6_2_3_label" aria-expanded="false">
        <label class="md-nav__title" for="__nav_6_2_3">
          <span class="md-nav__icon md-icon"></span>
          Microsoft (Azure)
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../platform/azure-function/" class="md-nav__link">
        Azure Functions
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../tools/integration/microsoft-powerquery/" class="md-nav__link">
        Power Query
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

            
          
            
              
  
  
  
    
      
    
    <li class="md-nav__item md-nav__item--section md-nav__item--nested">
      
      
      
      
      <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_6_3" >
      
      
        
          
        
          
        
          
        
          
        
          
        
      
      
        <label class="md-nav__link" for="__nav_6_3" id="__nav_6_3_label" tabindex="0">
          Tools
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_6_3_label" aria-expanded="false">
        <label class="md-nav__title" for="__nav_6_3">
          <span class="md-nav__icon md-icon"></span>
          Tools
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
      
      
      <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_6_3_1" >
      
      
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
      
      
        <label class="md-nav__link" for="__nav_6_3_1" id="__nav_6_3_1_label" tabindex="0">
          Middlewares
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" data-md-level="3" aria-labelledby="__nav_6_3_1_label" aria-expanded="false">
        <label class="md-nav__title" for="__nav_6_3_1">
          <span class="md-nav__icon md-icon"></span>
          Middlewares
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../tools/integration/apache-airflow/" class="md-nav__link">
        Apache Airflow
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../tools/integration/apache-beam/" class="md-nav__link">
        Apache Beam
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../tools/integration/flink/" class="md-nav__link">
        Apache Flink
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../tools/integration/apache-nifi/" class="md-nav__link">
        Apache Nifi
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../tools/integration/apache-spark/" class="md-nav__link">
        Apache Spark
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../tools/integration/authorizer/" class="md-nav__link">
        Authorizer
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../tools/integration/cadence/" class="md-nav__link">
        Cadence
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../tools/integration/celery/" class="md-nav__link">
        Celery
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../tools/integration/feast/" class="md-nav__link">
        Feast
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../tools/integration/vault/" class="md-nav__link">
        HashiCorp Vault
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../tools/integration/liquibase/" class="md-nav__link">
        Liquibase
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../tools/integration/pentaho/" class="md-nav__link">
        Pentaho Data Integration
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../tools/integration/quine.io/" class="md-nav__link">
        Quine
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../tools/integration/stepzen/" class="md-nav__link">
        StepZen
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../tools/integration/strapi/" class="md-nav__link">
        Strapi
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../tools/integration/temporal/" class="md-nav__link">
        Temporal
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

            
          
            
              
  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
      
      
      <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_6_3_2" >
      
      
        
          
        
          
        
          
        
          
        
      
      
        <label class="md-nav__link" for="__nav_6_3_2" id="__nav_6_3_2_label" tabindex="0">
          Developers IDE
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" data-md-level="3" aria-labelledby="__nav_6_3_2_label" aria-expanded="false">
        <label class="md-nav__title" for="__nav_6_3_2">
          <span class="md-nav__icon md-icon"></span>
          Developers IDE
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../tools/ide/datastation/" class="md-nav__link">
        DataStation
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../tools/ide/eclipse/" class="md-nav__link">
        Eclipse
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../tools/ide/intellij/" class="md-nav__link">
        IntelliJ
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../tools/ide/vscode/" class="md-nav__link">
        VSCode
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

            
          
            
              
  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
      
      
      <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_6_3_3" >
      
      
        
          
        
          
        
      
      
        <label class="md-nav__link" for="__nav_6_3_3" id="__nav_6_3_3_label" tabindex="0">
          Notebooks
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" data-md-level="3" aria-labelledby="__nav_6_3_3_label" aria-expanded="false">
        <label class="md-nav__title" for="__nav_6_3_3">
          <span class="md-nav__icon md-icon"></span>
          Notebooks
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../tools/notebooks/jupyter/" class="md-nav__link">
        Jupyter Notebooks
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../tools/notebooks/datastax-studio/" class="md-nav__link">
        DataStax Studio
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

            
          
            
              
  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
      
      
      <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_6_3_4" >
      
      
        
          
        
      
      
        <label class="md-nav__link" for="__nav_6_3_4" id="__nav_6_3_4_label" tabindex="0">
          Databases
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" data-md-level="3" aria-labelledby="__nav_6_3_4_label" aria-expanded="false">
        <label class="md-nav__title" for="__nav_6_3_4">
          <span class="md-nav__icon md-icon"></span>
          Databases
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../tools/databases/janusgraph/" class="md-nav__link">
        JanusGraph
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

            
          
            
              
  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
      
      
      <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_6_3_5" >
      
      
        
          
        
          
        
      
      
        <label class="md-nav__link" for="__nav_6_3_5" id="__nav_6_3_5_label" tabindex="0">
          Plugins
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" data-md-level="3" aria-labelledby="__nav_6_3_5_label" aria-expanded="false">
        <label class="md-nav__title" for="__nav_6_3_5">
          <span class="md-nav__icon md-icon"></span>
          Plugins
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../tools/plugins/astradb-vault-plugin/" class="md-nav__link">
        HashiCorp Vault
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../tools/plugins/github-actions/" class="md-nav__link">
        Github Actions
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

    
      
      
      

  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
      
      
      <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_7" >
      
      
        
          
            
          
        
      
      
        
        
        <div class="md-nav__link md-nav__link--index ">
          <a href="../../../gallery/">Sample App Gallery</a>
          
        </div>
      
      <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_7_label" aria-expanded="false">
        <label class="md-nav__title" for="__nav_7">
          <span class="md-nav__icon md-icon"></span>
          Sample App Gallery
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
          
        </ul>
      </nav>
    </li>
  

    
      
      
      

  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
      
      
      <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_8" >
      
      
        
          
            
          
        
      
      
        
        
        <div class="md-nav__link md-nav__link--index ">
          <a href="../../../contact/">Contact Us</a>
          
        </div>
      
      <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_8_label" aria-expanded="false">
        <label class="md-nav__title" for="__nav_8">
          <span class="md-nav__icon md-icon"></span>
          Contact Us
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
          
        </ul>
      </nav>
    </li>
  

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              
              <div class="md-sidebar md-sidebar--secondary" data-md-component="sidebar" data-md-type="toc" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#1-overview" class="md-nav__link">
    1. Overview
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#2-prerequisites" class="md-nav__link">
    2. Prerequisites
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#3-getting-started" class="md-nav__link">
    3. Getting Started
  </a>
  
    <nav class="md-nav" aria-label="3. Getting Started">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#project-setup" class="md-nav__link">
    Project Setup
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#quickstart" class="md-nav__link">
    Quickstart
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#4-reference-guide" class="md-nav__link">
    4. Reference Guide
  </a>
  
    <nav class="md-nav" aria-label="4. Reference Guide">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#connection" class="md-nav__link">
    Connection
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#working-with-collections" class="md-nav__link">
    Working with Collections
  </a>
  
    <nav class="md-nav" aria-label="Working with Collections">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#overview" class="md-nav__link">
    Overview
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#create-collection" class="md-nav__link">
    Create Collection
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#list-collections" class="md-nav__link">
    List Collections
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#find-collection" class="md-nav__link">
    Find Collection
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#delete-collection" class="md-nav__link">
    Delete Collection
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#working-with-documents" class="md-nav__link">
    Working with Documents
  </a>
  
    <nav class="md-nav" aria-label="Working with Documents">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#insert-one" class="md-nav__link">
    Insert One
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#upsert-one" class="md-nav__link">
    Upsert One
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#insert-many" class="md-nav__link">
    Insert Many
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#insert-many-chunked" class="md-nav__link">
    Insert Many Chunked
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#upsert-many" class="md-nav__link">
    Upsert Many
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#find-by-id" class="md-nav__link">
    Find By Id
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#find-by-vector" class="md-nav__link">
    Find By Vector
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#find-one" class="md-nav__link">
    Find One
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#find" class="md-nav__link">
    Find
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#paging" class="md-nav__link">
    Paging
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#update-one" class="md-nav__link">
    Update One
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#update-many" class="md-nav__link">
    Update Many
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#delete-one" class="md-nav__link">
    Delete One
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#delete-many" class="md-nav__link">
    Delete Many
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#clear" class="md-nav__link">
    Clear
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#object-mapping" class="md-nav__link">
    Object Mapping
  </a>
  
    <nav class="md-nav" aria-label="Object Mapping">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#repository-pattern" class="md-nav__link">
    Repository Pattern
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#create-collection_1" class="md-nav__link">
    Create collection
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#insert-one_1" class="md-nav__link">
    Insert One
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#insert-many_1" class="md-nav__link">
    Insert Many
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#find-one_1" class="md-nav__link">
    Find One
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#find_1" class="md-nav__link">
    Find
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#update-one_1" class="md-nav__link">
    Update One
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#update-many_1" class="md-nav__link">
    Update Many
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#delete-one_1" class="md-nav__link">
    Delete One
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#delete-many_1" class="md-nav__link">
    Delete Many
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#clear_1" class="md-nav__link">
    Clear
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#working-with-databases" class="md-nav__link">
    Working with databases
  </a>
  
    <nav class="md-nav" aria-label="Working with databases">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#connection_1" class="md-nav__link">
    Connection
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#list-databases" class="md-nav__link">
    List databases
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#create-database" class="md-nav__link">
    Create database
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#find-database" class="md-nav__link">
    Find database
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#delete-database" class="md-nav__link">
    Delete database
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#working-with-keyspaces" class="md-nav__link">
    Working with Keyspaces
  </a>
  
    <nav class="md-nav" aria-label="Working with Keyspaces">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#create-keyspace" class="md-nav__link">
    Create Keyspace
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#delete-keyspace" class="md-nav__link">
    Delete Keyspace
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#find-keyspace" class="md-nav__link">
    Find Keyspace
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#6-class-diagram" class="md-nav__link">
    6. Class Diagram
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#7-working-with-cassio" class="md-nav__link">
    7. Working with CassIO
  </a>
  
    <nav class="md-nav" aria-label="7. Working with CassIO">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#connection_2" class="md-nav__link">
    Connection
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#metadatavectortable" class="md-nav__link">
    MetadataVectorTable
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#clusteredmetadatavectortable" class="md-nav__link">
    ClusteredMetadataVectorTable
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#8-working-with-langchain4j" class="md-nav__link">
    8. Working with Langchain4j
  </a>
  
</li>
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          
            <div class="md-content" data-md-component="content">
              <article class="md-content__inner md-typeset">
                
                  


  <h1>• Astra DB Client</h1>

<p><link rel="stylesheet" href="https://maxcdn.bxootstrapcdn.com/font-awesome/4.6.1/css/font-awesome.min.css"></p>
<h2 id="1-overview">1. Overview<a class="headerlink" href="#1-overview" title="Permanent link">&para;</a></h2>
<p>The Astra DB Client, as the name suggests, is a client library that interacts with the various APIs of the Astra DataStax Platform. It enables users to connect to, utilize, and administer the Astra Vector product. The library encompasses two distinct clients working in tandem:</p>
<ul>
<li>
<p><strong>AstraDBAmin</strong>: This class is initialized exclusively using an organization administrator token and enables the creation and deletion of databases via the DevOps API. It facilitates automation and administration within your organization's tenant.</p>
</li>
<li>
<p><strong>AstraDB</strong>: This is the primary endpoint, connecting exclusively to a single database to perform all operations for your applications. It requires initialization with a database administrator token and also necessitates the API endpoint of your database.</p>
</li>
<li>
<p><strong>AstraDBCollection</strong>: This client class facilitates all operations at the collection level, including find(), insert(), and delete(). It is instantiated through the AstraDB class and accommodates operations on both vector and non-vector collections.</p>
</li>
<li>
<p><strong>AstraDBRepository<T></strong>:  This class represents a specialized form of AstraDBCollection designed for use with Java beans (T). It embodies the repository pattern, streamlining the management and access of domain entities.</p>
</li>
</ul>
<details class="info annotate" open="open">
<summary>Reference Architecture</summary>
<p><img src="../../../../img/sdk/reference-architecture.png" /></p>
</details>
<h2 id="2-prerequisites">2. Prerequisites<a class="headerlink" href="#2-prerequisites" title="Permanent link">&para;</a></h2>
<details class="success annotate" open="open">
<summary>Java and Apache Maven/Gradle Setup</summary>
<ul class="task-list">
<li class="task-list-item"><label class="task-list-control"><input type="checkbox" disabled checked/><span class="task-list-indicator"></span></label> <strong>Install Java Development Kit (JDK) 11++</strong></li>
</ul>
<p>Use the <a href="https://www.oracle.com/java/technologies/downloads/">java reference documentation</a>  to install a Java Development Kit (JDK) tailored for your operating system. After installation, you can validate your setup with the following command:</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-0-1" name="__codelineno-0-1" href="#__codelineno-0-1"></a>java<span class="w"> </span>--version
</code></pre></div>
<ul class="task-list">
<li class="task-list-item"><label class="task-list-control"><input type="checkbox" disabled checked/><span class="task-list-indicator"></span></label> <strong>Install Apache Maven (3.9+) or Gradle</strong></li>
</ul>
<p>Samples and tutorials are designed to be used with <code>Apache Maven</code>. Follow the instructions in the <a href="https://maven.apache.org/install.html">reference documentation</a> to install Maven. To validate your installation, use the following command:</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-1-1" name="__codelineno-1-1" href="#__codelineno-1-1"></a>mvn<span class="w"> </span>-version
</code></pre></div>
</details>
<details class="info annotate" open="open">
<summary>Astra Environment Setup</summary>
<ul class="task-list">
<li class="task-list-item"><label class="task-list-control"><input type="checkbox" disabled checked/><span class="task-list-indicator"></span></label> <strong>Create your DataStax Astra account</strong>:</li>
</ul>
<p><a href="https://astra.dev/3B7HcYo" class=md-button>Sign Up to Datastax Astra</a></p>
<ul class="task-list">
<li class="task-list-item"><label class="task-list-control"><input type="checkbox" disabled checked/><span class="task-list-indicator"></span></label> <strong>Create an organization level Astra Token</strong></li>
</ul>
<p>Once logged into the user interface, select settings from the left menu and then click on the tokens tab to create a new token.</p>
<p><img src="../../../../img/astra/astra-settings-1.png" /></p>
<p>You want to pick the following role:</p>
<table>
<thead>
<tr>
<th>Properties</th>
<th>Values</th>
</tr>
</thead>
<tbody>
<tr>
<td><strong>Token Role</strong></td>
<td><code>Organization Administrator</code></td>
</tr>
</tbody>
</table>
<p>The Token contains properties <code>Client ID</code>, <code>Client Secret</code> and the <code>token</code>. You will only need the third (starting with <code>AstraCS:</code>)</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-2-1" name="__codelineno-2-1" href="#__codelineno-2-1"></a>{
<a id="__codelineno-2-2" name="__codelineno-2-2" href="#__codelineno-2-2"></a>  &quot;ClientId&quot;: &quot;ROkiiDZdvPOvHRSgoZtyAapp&quot;,
<a id="__codelineno-2-3" name="__codelineno-2-3" href="#__codelineno-2-3"></a>  &quot;ClientSecret&quot;: &quot;fakedfaked&quot;,
<a id="__codelineno-2-4" name="__codelineno-2-4" href="#__codelineno-2-4"></a>  &quot;Token&quot;:&quot;AstraCS:fake&quot; &lt;========== use this field
<a id="__codelineno-2-5" name="__codelineno-2-5" href="#__codelineno-2-5"></a>}
</code></pre></div>
<p>To operate with <code>AstraDBAdmin</code>, this specific organization-level token is required. For tasks involving AstraDB at the database level, a database-level token suffices. The procedure for creating such a token is detailed in subsequent sections.</p>
</details>
<h2 id="3-getting-started">3. Getting Started<a class="headerlink" href="#3-getting-started" title="Permanent link">&para;</a></h2>
<h3 id="project-setup">Project Setup<a class="headerlink" href="#project-setup" title="Permanent link">&para;</a></h3>
<details class="info annotate" open="open">
<summary>Project Setup</summary>
<ul class="task-list">
<li class="task-list-item"><label class="task-list-control"><input type="checkbox" disabled checked/><span class="task-list-indicator"></span></label> <strong>If you are using <code>Maven</code> Update your <code>pom.xml</code> file with the latest version of the Vector SDK <a href="https://maven-badges.herokuapp.com/maven-central/com.datastax.astra/astra-db-client"><img alt="Maven Central" src="https://maven-badges.herokuapp.com/maven-central/com.datastax.astra/astra-spring-boot-starter/badge.svg" /></a></strong></li>
</ul>
<div class="highlight"><pre><span></span><code><a id="__codelineno-3-1" name="__codelineno-3-1" href="#__codelineno-3-1"></a><span class="nt">&lt;dependency&gt;</span>
<a id="__codelineno-3-2" name="__codelineno-3-2" href="#__codelineno-3-2"></a><span class="w">  </span><span class="nt">&lt;groupId&gt;</span>com.datastax.astra<span class="nt">&lt;/groupId&gt;</span>
<a id="__codelineno-3-3" name="__codelineno-3-3" href="#__codelineno-3-3"></a><span class="w">  </span><span class="nt">&lt;artifactId&gt;</span>astra-db-client<span class="nt">&lt;/artifactId&gt;</span>
<a id="__codelineno-3-4" name="__codelineno-3-4" href="#__codelineno-3-4"></a><span class="w">  </span><span class="nt">&lt;version&gt;</span>${latest}<span class="nt">&lt;/version&gt;</span>
<a id="__codelineno-3-5" name="__codelineno-3-5" href="#__codelineno-3-5"></a><span class="nt">&lt;/dependency&gt;</span>
</code></pre></div>
<ul class="task-list">
<li class="task-list-item"><label class="task-list-control"><input type="checkbox" disabled checked/><span class="task-list-indicator"></span></label> <strong>If you are using gradle change the <code>build.dgradle</code> with</strong></li>
</ul>
<div class="highlight"><pre><span></span><code><a id="__codelineno-4-1" name="__codelineno-4-1" href="#__codelineno-4-1"></a>dependencies {
<a id="__codelineno-4-2" name="__codelineno-4-2" href="#__codelineno-4-2"></a>    compile &#39;com.datastax.astra:astra-db-client-1.0&#39;
<a id="__codelineno-4-3" name="__codelineno-4-3" href="#__codelineno-4-3"></a>}
</code></pre></div>
</details>
<h3 id="quickstart">Quickstart<a class="headerlink" href="#quickstart" title="Permanent link">&para;</a></h3>
<details class="info annotate" open="open">
<summary>Getting your token and Api Endpoint</summary>
<p><code>AstraDB</code> class is the entry point of the SDK. It enables interactions with one particular database within your Astra environment. The initialization can be achieved in multiple ways:</p>
<ul>
<li>Using a <code>token</code> along with the <code>api_endpoint</code>. Both are retrieved from the Astra user interface.</li>
<li>Using a <code>token</code> with the database identifier and eventually the region.</li>
</ul>
<p>To establish this connection, you can generate a token via the user interface. This token will be assigned the <code>Database Administrator</code> permission level, which grants sufficient privileges for interacting with a specific database.</p>
<p>The <code>api_endpoint</code> is obtained from the user interface. It adheres to the following pattern: <code>https://{database-identifier}-{database-region}.apps.astra.datastax.com.</code></p>
<p><img src="../../../../img/sdk/jsonapi-endpoint.png" /></p>
</details>
<div class="highlight"><table class="highlighttable"><tr><th colspan="2" class="filename"><span class="filename">Quickstart.java</span></th></tr><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-5-1"> 1</a></span>
<span class="normal"><a href="#__codelineno-5-2"> 2</a></span>
<span class="normal"><a href="#__codelineno-5-3"> 3</a></span>
<span class="normal"><a href="#__codelineno-5-4"> 4</a></span>
<span class="normal"><a href="#__codelineno-5-5"> 5</a></span>
<span class="normal"><a href="#__codelineno-5-6"> 6</a></span>
<span class="normal"><a href="#__codelineno-5-7"> 7</a></span>
<span class="normal"><a href="#__codelineno-5-8"> 8</a></span>
<span class="normal"><a href="#__codelineno-5-9"> 9</a></span>
<span class="normal"><a href="#__codelineno-5-10">10</a></span>
<span class="normal"><a href="#__codelineno-5-11">11</a></span>
<span class="normal"><a href="#__codelineno-5-12">12</a></span>
<span class="normal"><a href="#__codelineno-5-13">13</a></span>
<span class="normal"><a href="#__codelineno-5-14">14</a></span>
<span class="normal"><a href="#__codelineno-5-15">15</a></span>
<span class="normal"><a href="#__codelineno-5-16">16</a></span>
<span class="normal"><a href="#__codelineno-5-17">17</a></span>
<span class="normal"><a href="#__codelineno-5-18">18</a></span>
<span class="normal"><a href="#__codelineno-5-19">19</a></span>
<span class="normal"><a href="#__codelineno-5-20">20</a></span>
<span class="normal"><a href="#__codelineno-5-21">21</a></span>
<span class="normal"><a href="#__codelineno-5-22">22</a></span>
<span class="normal"><a href="#__codelineno-5-23">23</a></span>
<span class="normal"><a href="#__codelineno-5-24">24</a></span>
<span class="normal"><a href="#__codelineno-5-25">25</a></span>
<span class="normal"><a href="#__codelineno-5-26">26</a></span>
<span class="normal"><a href="#__codelineno-5-27">27</a></span>
<span class="normal"><a href="#__codelineno-5-28">28</a></span>
<span class="normal"><a href="#__codelineno-5-29">29</a></span>
<span class="normal"><a href="#__codelineno-5-30">30</a></span>
<span class="normal"><a href="#__codelineno-5-31">31</a></span>
<span class="normal"><a href="#__codelineno-5-32">32</a></span>
<span class="normal"><a href="#__codelineno-5-33">33</a></span>
<span class="normal"><a href="#__codelineno-5-34">34</a></span>
<span class="normal"><a href="#__codelineno-5-35">35</a></span>
<span class="normal"><a href="#__codelineno-5-36">36</a></span>
<span class="normal"><a href="#__codelineno-5-37">37</a></span>
<span class="normal"><a href="#__codelineno-5-38">38</a></span>
<span class="normal"><a href="#__codelineno-5-39">39</a></span>
<span class="normal"><a href="#__codelineno-5-40">40</a></span>
<span class="normal"><a href="#__codelineno-5-41">41</a></span>
<span class="normal"><a href="#__codelineno-5-42">42</a></span>
<span class="normal"><a href="#__codelineno-5-43">43</a></span>
<span class="normal"><a href="#__codelineno-5-44">44</a></span>
<span class="normal"><a href="#__codelineno-5-45">45</a></span>
<span class="normal"><a href="#__codelineno-5-46">46</a></span>
<span class="normal"><a href="#__codelineno-5-47">47</a></span>
<span class="normal"><a href="#__codelineno-5-48">48</a></span>
<span class="normal"><a href="#__codelineno-5-49">49</a></span>
<span class="normal"><a href="#__codelineno-5-50">50</a></span>
<span class="normal"><a href="#__codelineno-5-51">51</a></span>
<span class="normal"><a href="#__codelineno-5-52">52</a></span></pre></div></td><td class="code"><div><pre><span></span><code><a id="__codelineno-5-1" name="__codelineno-5-1"></a><span class="kn">package</span><span class="w"> </span><span class="nn">com.dtsx.astra.sdk.documentation</span><span class="p">;</span>
<a id="__codelineno-5-2" name="__codelineno-5-2"></a>
<a id="__codelineno-5-3" name="__codelineno-5-3"></a><span class="kn">import</span><span class="w"> </span><span class="nn">com.dtsx.astra.sdk.AstraDB</span><span class="p">;</span>
<a id="__codelineno-5-4" name="__codelineno-5-4"></a><span class="kn">import</span><span class="w"> </span><span class="nn">com.dtsx.astra.sdk.AstraDBCollection</span><span class="p">;</span>
<a id="__codelineno-5-5" name="__codelineno-5-5"></a><span class="kn">import</span><span class="w"> </span><span class="nn">io.stargate.sdk.data.domain.query.Filter</span><span class="p">;</span>
<a id="__codelineno-5-6" name="__codelineno-5-6"></a><span class="kn">import</span><span class="w"> </span><span class="nn">io.stargate.sdk.data.domain.JsonDocument</span><span class="p">;</span>
<a id="__codelineno-5-7" name="__codelineno-5-7"></a><span class="kn">import</span><span class="w"> </span><span class="nn">io.stargate.sdk.data.domain.JsonDocumentResult</span><span class="p">;</span>
<a id="__codelineno-5-8" name="__codelineno-5-8"></a>
<a id="__codelineno-5-9" name="__codelineno-5-9"></a><span class="kn">import</span><span class="w"> </span><span class="nn">java.util.Map</span><span class="p">;</span>
<a id="__codelineno-5-10" name="__codelineno-5-10"></a><span class="kn">import</span><span class="w"> </span><span class="nn">java.util.stream.Stream</span><span class="p">;</span>
<a id="__codelineno-5-11" name="__codelineno-5-11"></a>
<a id="__codelineno-5-12" name="__codelineno-5-12"></a><span class="kd">public</span><span class="w"> </span><span class="kd">class</span> <span class="nc">QuickStart</span><span class="w"> </span><span class="p">{</span>
<a id="__codelineno-5-13" name="__codelineno-5-13"></a><span class="w">  </span><span class="kd">public</span><span class="w"> </span><span class="kd">static</span><span class="w"> </span><span class="kt">void</span><span class="w"> </span><span class="nf">main</span><span class="p">(</span><span class="n">String</span><span class="o">[]</span><span class="w"> </span><span class="n">args</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<a id="__codelineno-5-14" name="__codelineno-5-14"></a>
<a id="__codelineno-5-15" name="__codelineno-5-15"></a><span class="w">    </span><span class="c1">// Initialize the client</span>
<a id="__codelineno-5-16" name="__codelineno-5-16"></a><span class="w">    </span><span class="n">AstraDB</span><span class="w"> </span><span class="n">myDb</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">new</span><span class="w"> </span><span class="n">AstraDB</span><span class="p">(</span><span class="s">&quot;TOKEN&quot;</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;API_ENDPOINT&quot;</span><span class="p">);</span>
<a id="__codelineno-5-17" name="__codelineno-5-17"></a>
<a id="__codelineno-5-18" name="__codelineno-5-18"></a><span class="w">    </span><span class="c1">// Create a collection</span>
<a id="__codelineno-5-19" name="__codelineno-5-19"></a><span class="w">    </span><span class="n">AstraDBCollection</span><span class="w"> </span><span class="n">demoCollection</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">myDb</span><span class="p">.</span><span class="na">createCollection</span><span class="p">(</span><span class="s">&quot;demo&quot;</span><span class="p">,</span><span class="mi">14</span><span class="p">);</span>
<a id="__codelineno-5-20" name="__codelineno-5-20"></a>
<a id="__codelineno-5-21" name="__codelineno-5-21"></a><span class="w">   </span><span class="c1">// Insert vectors</span>
<a id="__codelineno-5-22" name="__codelineno-5-22"></a><span class="w">   </span><span class="n">demoCollection</span><span class="p">.</span><span class="na">insertOne</span><span class="p">(</span>
<a id="__codelineno-5-23" name="__codelineno-5-23"></a><span class="w">       </span><span class="k">new</span><span class="w"> </span><span class="n">JsonDocument</span><span class="p">()</span>
<a id="__codelineno-5-24" name="__codelineno-5-24"></a><span class="w">           </span><span class="p">.</span><span class="na">id</span><span class="p">(</span><span class="s">&quot;doc1&quot;</span><span class="p">)</span><span class="w"> </span><span class="c1">// generated if not set</span>
<a id="__codelineno-5-25" name="__codelineno-5-25"></a><span class="w">           </span><span class="p">.</span><span class="na">vector</span><span class="p">(</span><span class="k">new</span><span class="w"> </span><span class="kt">float</span><span class="o">[]</span><span class="p">{</span><span class="mf">1f</span><span class="p">,</span><span class="w"> </span><span class="mf">0f</span><span class="p">,</span><span class="w"> </span><span class="mf">1f</span><span class="p">,</span><span class="w"> </span><span class="mf">1f</span><span class="p">,</span><span class="w"> </span><span class="mf">1f</span><span class="p">,</span><span class="w"> </span><span class="mf">1f</span><span class="p">,</span><span class="w"> </span><span class="mf">0f</span><span class="p">,</span><span class="w"> </span><span class="mf">0f</span><span class="p">,</span><span class="w"> </span><span class="mf">0f</span><span class="p">,</span><span class="w"> </span><span class="mf">0f</span><span class="p">,</span><span class="w"> </span><span class="mf">0f</span><span class="p">,</span><span class="w"> </span><span class="mf">0f</span><span class="p">,</span><span class="w"> </span><span class="mf">0f</span><span class="p">,</span><span class="w"> </span><span class="mf">0f</span><span class="p">})</span>
<a id="__codelineno-5-26" name="__codelineno-5-26"></a><span class="w">           </span><span class="p">.</span><span class="na">put</span><span class="p">(</span><span class="s">&quot;product_name&quot;</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;HealthyFresh - Beef raw dog food&quot;</span><span class="p">)</span>
<a id="__codelineno-5-27" name="__codelineno-5-27"></a><span class="w">           </span><span class="p">.</span><span class="na">put</span><span class="p">(</span><span class="s">&quot;product_price&quot;</span><span class="p">,</span><span class="w"> </span><span class="mf">12.99</span><span class="p">));</span>
<a id="__codelineno-5-28" name="__codelineno-5-28"></a><span class="w">    </span><span class="n">demoCollection</span><span class="p">.</span><span class="na">insertOne</span><span class="p">(</span>
<a id="__codelineno-5-29" name="__codelineno-5-29"></a><span class="w">        </span><span class="k">new</span><span class="w"> </span><span class="n">JsonDocument</span><span class="p">()</span>
<a id="__codelineno-5-30" name="__codelineno-5-30"></a><span class="w">           </span><span class="p">.</span><span class="na">id</span><span class="p">(</span><span class="s">&quot;doc2&quot;</span><span class="p">)</span>
<a id="__codelineno-5-31" name="__codelineno-5-31"></a><span class="w">           </span><span class="p">.</span><span class="na">vector</span><span class="p">(</span><span class="k">new</span><span class="w"> </span><span class="kt">float</span><span class="o">[]</span><span class="p">{</span><span class="mf">1f</span><span class="p">,</span><span class="w"> </span><span class="mf">1f</span><span class="p">,</span><span class="w"> </span><span class="mf">1f</span><span class="p">,</span><span class="w"> </span><span class="mf">1f</span><span class="p">,</span><span class="w"> </span><span class="mf">1f</span><span class="p">,</span><span class="w"> </span><span class="mf">0f</span><span class="p">,</span><span class="w"> </span><span class="mf">0f</span><span class="p">,</span><span class="w"> </span><span class="mf">0f</span><span class="p">,</span><span class="w"> </span><span class="mf">0f</span><span class="p">,</span><span class="w"> </span><span class="mf">0f</span><span class="p">,</span><span class="w"> </span><span class="mf">0f</span><span class="p">,</span><span class="w"> </span><span class="mf">0f</span><span class="p">,</span><span class="w"> </span><span class="mf">0f</span><span class="p">,</span><span class="w"> </span><span class="mf">0f</span><span class="p">})</span>
<a id="__codelineno-5-32" name="__codelineno-5-32"></a><span class="w">           </span><span class="p">.</span><span class="na">put</span><span class="p">(</span><span class="s">&quot;product_name&quot;</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;HealthyFresh - Chicken raw dog food&quot;</span><span class="p">)</span>
<a id="__codelineno-5-33" name="__codelineno-5-33"></a><span class="w">           </span><span class="p">.</span><span class="na">put</span><span class="p">(</span><span class="s">&quot;product_price&quot;</span><span class="p">,</span><span class="w"> </span><span class="mf">9.99</span><span class="p">));</span>
<a id="__codelineno-5-34" name="__codelineno-5-34"></a><span class="w">    </span><span class="n">demoCollection</span><span class="p">.</span><span class="na">insertOne</span><span class="p">(</span>
<a id="__codelineno-5-35" name="__codelineno-5-35"></a><span class="w">        </span><span class="k">new</span><span class="w"> </span><span class="n">JsonDocument</span><span class="p">()</span>
<a id="__codelineno-5-36" name="__codelineno-5-36"></a><span class="w">           </span><span class="p">.</span><span class="na">id</span><span class="p">(</span><span class="s">&quot;doc3&quot;</span><span class="p">)</span>
<a id="__codelineno-5-37" name="__codelineno-5-37"></a><span class="w">           </span><span class="p">.</span><span class="na">vector</span><span class="p">(</span><span class="k">new</span><span class="w"> </span><span class="kt">float</span><span class="o">[]</span><span class="p">{</span><span class="mf">1f</span><span class="p">,</span><span class="w"> </span><span class="mf">1f</span><span class="p">,</span><span class="w"> </span><span class="mf">1f</span><span class="p">,</span><span class="w"> </span><span class="mf">1f</span><span class="p">,</span><span class="w"> </span><span class="mf">1f</span><span class="p">,</span><span class="w"> </span><span class="mf">0f</span><span class="p">,</span><span class="w"> </span><span class="mf">0f</span><span class="p">,</span><span class="w"> </span><span class="mf">0f</span><span class="p">,</span><span class="w"> </span><span class="mf">0f</span><span class="p">,</span><span class="w"> </span><span class="mf">0f</span><span class="p">,</span><span class="w"> </span><span class="mf">0f</span><span class="p">,</span><span class="w"> </span><span class="mf">0f</span><span class="p">,</span><span class="w"> </span><span class="mf">0f</span><span class="p">,</span><span class="w"> </span><span class="mf">0f</span><span class="p">})</span>
<a id="__codelineno-5-38" name="__codelineno-5-38"></a><span class="w">           </span><span class="p">.</span><span class="na">data</span><span class="p">(</span><span class="n">Map</span><span class="p">.</span><span class="na">of</span><span class="p">(</span><span class="s">&quot;product_name&quot;</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;HealthyFresh - Chicken raw dog food&quot;</span><span class="p">)));</span>
<a id="__codelineno-5-39" name="__codelineno-5-39"></a><span class="w">    </span><span class="n">demoCollection</span><span class="p">.</span><span class="na">insertOne</span><span class="p">(</span>
<a id="__codelineno-5-40" name="__codelineno-5-40"></a><span class="w">        </span><span class="k">new</span><span class="w"> </span><span class="n">JsonDocument</span><span class="p">()</span>
<a id="__codelineno-5-41" name="__codelineno-5-41"></a><span class="w">           </span><span class="p">.</span><span class="na">id</span><span class="p">(</span><span class="s">&quot;doc4&quot;</span><span class="p">)</span>
<a id="__codelineno-5-42" name="__codelineno-5-42"></a><span class="w">           </span><span class="p">.</span><span class="na">vector</span><span class="p">(</span><span class="k">new</span><span class="w"> </span><span class="kt">float</span><span class="o">[]</span><span class="p">{</span><span class="mf">1.0f</span><span class="p">,</span><span class="w"> </span><span class="mf">1.0f</span><span class="p">,</span><span class="w"> </span><span class="mf">1.0f</span><span class="p">,</span><span class="w"> </span><span class="mf">1.0f</span><span class="p">,</span><span class="w"> </span><span class="mf">1.0f</span><span class="p">,</span><span class="w"> </span><span class="mf">0.0f</span><span class="p">,</span><span class="w"> </span><span class="mf">0.0f</span><span class="p">,</span><span class="w"> </span><span class="mf">0.0f</span><span class="p">,</span><span class="w"> </span><span class="mf">0.0f</span><span class="p">,</span><span class="w"> </span><span class="mf">0.0f</span><span class="p">,</span><span class="w"> </span><span class="mf">0.0f</span><span class="p">,</span><span class="w"> </span><span class="mf">0.0f</span><span class="p">,</span><span class="w"> </span><span class="mf">0.0f</span><span class="p">,</span><span class="w"> </span><span class="mf">0.0f</span><span class="p">})</span>
<a id="__codelineno-5-43" name="__codelineno-5-43"></a><span class="w">           </span><span class="p">.</span><span class="na">put</span><span class="p">(</span><span class="s">&quot;product_name&quot;</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;HealthyFresh - Chicken raw dog food&quot;</span><span class="p">)</span>
<a id="__codelineno-5-44" name="__codelineno-5-44"></a><span class="w">           </span><span class="p">.</span><span class="na">put</span><span class="p">(</span><span class="s">&quot;product_price&quot;</span><span class="p">,</span><span class="w"> </span><span class="mf">9.99</span><span class="p">));</span>
<a id="__codelineno-5-45" name="__codelineno-5-45"></a>
<a id="__codelineno-5-46" name="__codelineno-5-46"></a><span class="w">    </span><span class="c1">// Perform a similarity search</span>
<a id="__codelineno-5-47" name="__codelineno-5-47"></a><span class="w">    </span><span class="kt">float</span><span class="o">[]</span><span class="w"> </span><span class="n">embeddings</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">new</span><span class="w"> </span><span class="kt">float</span><span class="o">[]</span><span class="w"> </span><span class="p">{</span><span class="mf">1f</span><span class="p">,</span><span class="w"> </span><span class="mf">1f</span><span class="p">,</span><span class="w"> </span><span class="mf">1f</span><span class="p">,</span><span class="w"> </span><span class="mf">1f</span><span class="p">,</span><span class="w"> </span><span class="mf">1f</span><span class="p">,</span><span class="w"> </span><span class="mf">0f</span><span class="p">,</span><span class="w"> </span><span class="mf">0f</span><span class="p">,</span><span class="w"> </span><span class="mf">0f</span><span class="p">,</span><span class="w"> </span><span class="mf">0f</span><span class="p">,</span><span class="w"> </span><span class="mf">0f</span><span class="p">,</span><span class="w"> </span><span class="mf">0f</span><span class="p">,</span><span class="w"> </span><span class="mf">0f</span><span class="p">,</span><span class="w"> </span><span class="mf">0f</span><span class="p">,</span><span class="w"> </span><span class="mf">0f</span><span class="p">};</span>
<a id="__codelineno-5-48" name="__codelineno-5-48"></a><span class="w">    </span><span class="n">Filter</span><span class="w"> </span><span class="n">metadataFilter</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">new</span><span class="w"> </span><span class="n">Filter</span><span class="p">().</span><span class="na">where</span><span class="p">(</span><span class="s">&quot;product_price&quot;</span><span class="p">).</span><span class="na">isEqualsTo</span><span class="p">(</span><span class="mf">9.99</span><span class="p">);</span>
<a id="__codelineno-5-49" name="__codelineno-5-49"></a><span class="w">    </span><span class="kt">int</span><span class="w"> </span><span class="n">maxRecord</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">10</span><span class="p">;</span>
<a id="__codelineno-5-50" name="__codelineno-5-50"></a><span class="w">    </span><span class="n">Stream</span><span class="o">&lt;</span><span class="n">JsonDocumentResult</span><span class="o">&gt;</span><span class="w"> </span><span class="n">resultsSet</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">demoCollection</span><span class="p">.</span><span class="na">findVector</span><span class="p">(</span><span class="n">embeddings</span><span class="p">,</span><span class="w"> </span><span class="n">metadataFilter</span><span class="p">,</span><span class="w"> </span><span class="n">maxRecord</span><span class="p">);</span>
<a id="__codelineno-5-51" name="__codelineno-5-51"></a><span class="w">  </span><span class="p">}</span>
<a id="__codelineno-5-52" name="__codelineno-5-52"></a><span class="p">}</span>
</code></pre></div></td></tr></table></div>
<h2 id="4-reference-guide">4. Reference Guide<a class="headerlink" href="#4-reference-guide" title="Permanent link">&para;</a></h2>
<h3 id="connection">Connection<a class="headerlink" href="#connection" title="Permanent link">&para;</a></h3>
<p>Connect to AstraDB Vector by instantiating <code>AstraDB</code> class.</p>
<details class="abstract annotate" open="open">
<summary>General Information</summary>
<ul>
<li>Connection is stateless and thread safe, we initialize an HTTP client.</li>
<li>At initialization a check is performed to ensure enpoint and token are valid.</li>
<li>If not provided default keyspace is <code>default_keyspace</code>.</li>
<li>Database UUID and region are part of the endpoint URL.</li>
</ul>
</details>
<ul class="task-list">
<li class="task-list-item"><label class="task-list-control"><input type="checkbox" disabled checked/><span class="task-list-indicator"></span></label> <strong>Signatures and <a href="https://datastaxdevs.github.io/astra-db-client/1.2.4/com/dtsx/astra/sdk/AstraDB.html#%3Cinit%3E(java.lang.String,java.lang.String,java.lang.String)">JavaDoc</a></strong></li>
</ul>
<div class="highlight"><pre><span></span><code><a id="__codelineno-6-1" name="__codelineno-6-1" href="#__codelineno-6-1"></a><span class="n">AstraDB</span><span class="p">(</span><span class="n">String</span><span class="w"> </span><span class="n">token</span><span class="p">,</span><span class="w"> </span><span class="n">String</span><span class="w"> </span><span class="n">apiEndpoint</span><span class="p">);</span>
<a id="__codelineno-6-2" name="__codelineno-6-2" href="#__codelineno-6-2"></a><span class="n">AstraDB</span><span class="p">(</span><span class="n">String</span><span class="w"> </span><span class="n">token</span><span class="p">,</span><span class="w"> </span><span class="n">String</span><span class="w"> </span><span class="n">apiEndpoint</span><span class="p">,</span><span class="w"> </span><span class="n">String</span><span class="w"> </span><span class="n">keyspace</span><span class="p">);</span>
<a id="__codelineno-6-3" name="__codelineno-6-3" href="#__codelineno-6-3"></a><span class="n">AstraDB</span><span class="p">(</span><span class="n">String</span><span class="w"> </span><span class="n">token</span><span class="p">,</span><span class="w"> </span><span class="n">UUID</span><span class="w"> </span><span class="n">databaseId</span><span class="p">);</span>
<a id="__codelineno-6-4" name="__codelineno-6-4" href="#__codelineno-6-4"></a><span class="n">AstraDB</span><span class="p">(</span><span class="n">String</span><span class="w"> </span><span class="n">token</span><span class="p">,</span><span class="w"> </span><span class="n">UUID</span><span class="w"> </span><span class="n">databaseId</span><span class="p">,</span><span class="w"> </span><span class="n">String</span><span class="w"> </span><span class="n">keyspace</span><span class="p">);</span>
<a id="__codelineno-6-5" name="__codelineno-6-5" href="#__codelineno-6-5"></a><span class="n">AstraDB</span><span class="p">(</span><span class="n">String</span><span class="w"> </span><span class="n">token</span><span class="p">,</span><span class="w"> </span><span class="n">UUID</span><span class="w"> </span><span class="n">databaseId</span><span class="p">,</span><span class="w"> </span><span class="n">String</span><span class="w"> </span><span class="n">region</span><span class="p">,</span><span class="w"> </span><span class="n">String</span><span class="w"> </span><span class="n">keyspace</span><span class="p">);</span>
<a id="__codelineno-6-6" name="__codelineno-6-6" href="#__codelineno-6-6"></a><span class="n">AstraDB</span><span class="p">(</span><span class="n">String</span><span class="w"> </span><span class="n">token</span><span class="p">,</span><span class="w"> </span><span class="n">UUID</span><span class="w"> </span><span class="n">databaseId</span><span class="p">,</span><span class="w"> </span><span class="n">String</span><span class="w"> </span><span class="n">region</span><span class="p">,</span><span class="w"> </span><span class="n">AstraEnvironment</span><span class="w"> </span><span class="n">env</span><span class="p">,</span><span class="w"> </span><span class="n">String</span><span class="w"> </span><span class="n">keyspace</span><span class="p">);</span>
</code></pre></div>
<ul class="task-list">
<li class="task-list-item"><label class="task-list-control"><input type="checkbox" disabled checked/><span class="task-list-indicator"></span></label> <strong>Sample Code</strong></li>
</ul>
<div class="highlight"><table class="highlighttable"><tr><th colspan="2" class="filename"><span class="filename">Connection.java</span></th></tr><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-7-1"> 1</a></span>
<span class="normal"><a href="#__codelineno-7-2"> 2</a></span>
<span class="normal"><a href="#__codelineno-7-3"> 3</a></span>
<span class="normal"><a href="#__codelineno-7-4"> 4</a></span>
<span class="normal"><a href="#__codelineno-7-5"> 5</a></span>
<span class="normal"><a href="#__codelineno-7-6"> 6</a></span>
<span class="normal"><a href="#__codelineno-7-7"> 7</a></span>
<span class="normal"><a href="#__codelineno-7-8"> 8</a></span>
<span class="normal"><a href="#__codelineno-7-9"> 9</a></span>
<span class="normal"><a href="#__codelineno-7-10">10</a></span>
<span class="normal"><a href="#__codelineno-7-11">11</a></span>
<span class="normal"><a href="#__codelineno-7-12">12</a></span>
<span class="normal"><a href="#__codelineno-7-13">13</a></span>
<span class="normal"><a href="#__codelineno-7-14">14</a></span>
<span class="normal"><a href="#__codelineno-7-15">15</a></span>
<span class="normal"><a href="#__codelineno-7-16">16</a></span>
<span class="normal"><a href="#__codelineno-7-17">17</a></span>
<span class="normal"><a href="#__codelineno-7-18">18</a></span></pre></div></td><td class="code"><div><pre><span></span><code><a id="__codelineno-7-1" name="__codelineno-7-1"></a><span class="kn">package</span><span class="w"> </span><span class="nn">com.dtsx.astra.sdk.documentation</span><span class="p">;</span>
<a id="__codelineno-7-2" name="__codelineno-7-2"></a>
<a id="__codelineno-7-3" name="__codelineno-7-3"></a><span class="kn">import</span><span class="w"> </span><span class="nn">com.dtsx.astra.sdk.AstraDB</span><span class="p">;</span>
<a id="__codelineno-7-4" name="__codelineno-7-4"></a><span class="kn">import</span><span class="w"> </span><span class="nn">java.util.UUID</span><span class="p">;</span>
<a id="__codelineno-7-5" name="__codelineno-7-5"></a>
<a id="__codelineno-7-6" name="__codelineno-7-6"></a><span class="kd">public</span><span class="w"> </span><span class="kd">class</span> <span class="nc">Connecting</span><span class="w"> </span><span class="p">{</span>
<a id="__codelineno-7-7" name="__codelineno-7-7"></a><span class="w">  </span><span class="kd">public</span><span class="w"> </span><span class="kd">static</span><span class="w"> </span><span class="kt">void</span><span class="w"> </span><span class="nf">main</span><span class="p">(</span><span class="n">String</span><span class="o">[]</span><span class="w"> </span><span class="n">args</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<a id="__codelineno-7-8" name="__codelineno-7-8"></a><span class="w">    </span><span class="c1">// Default initialization</span>
<a id="__codelineno-7-9" name="__codelineno-7-9"></a><span class="w">    </span><span class="n">AstraDB</span><span class="w"> </span><span class="n">db</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">new</span><span class="w"> </span><span class="n">AstraDB</span><span class="p">(</span><span class="s">&quot;TOKEN&quot;</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;API_ENDPOINT&quot;</span><span class="p">);</span>
<a id="__codelineno-7-10" name="__codelineno-7-10"></a>
<a id="__codelineno-7-11" name="__codelineno-7-11"></a><span class="w">    </span><span class="c1">// Initialize with a non-default keyspace</span>
<a id="__codelineno-7-12" name="__codelineno-7-12"></a><span class="w">    </span><span class="n">AstraDB</span><span class="w"> </span><span class="n">db1</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">new</span><span class="w"> </span><span class="n">AstraDB</span><span class="p">(</span><span class="s">&quot;TOKEN&quot;</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;API_ENDPOINT&quot;</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;&lt;keyspace&gt;&quot;</span><span class="p">);</span>
<a id="__codelineno-7-13" name="__codelineno-7-13"></a>
<a id="__codelineno-7-14" name="__codelineno-7-14"></a><span class="w">    </span><span class="c1">// Initialize with an identifier instead of an endpoint</span>
<a id="__codelineno-7-15" name="__codelineno-7-15"></a><span class="w">    </span><span class="n">UUID</span><span class="w"> </span><span class="n">databaseUuid</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">UUID</span><span class="p">.</span><span class="na">fromString</span><span class="p">(</span><span class="s">&quot;&lt;database_id&gt;&quot;</span><span class="p">);</span>
<a id="__codelineno-7-16" name="__codelineno-7-16"></a><span class="w">    </span><span class="n">AstraDB</span><span class="w"> </span><span class="n">db2</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">new</span><span class="w"> </span><span class="n">AstraDB</span><span class="p">(</span><span class="s">&quot;TOKEN&quot;</span><span class="p">,</span><span class="w"> </span><span class="n">databaseUuid</span><span class="p">);</span>
<a id="__codelineno-7-17" name="__codelineno-7-17"></a><span class="w">  </span><span class="p">}</span>
<a id="__codelineno-7-18" name="__codelineno-7-18"></a><span class="p">}</span>
</code></pre></div></td></tr></table></div>
<h3 id="working-with-collections">Working with Collections<a class="headerlink" href="#working-with-collections" title="Permanent link">&para;</a></h3>
<h4 id="overview">Overview<a class="headerlink" href="#overview" title="Permanent link">&para;</a></h4>
<details class="info annotate" open="open">
<summary>Overview</summary>
<p>AstraDB is a vector database that manages multiple collections. Each collection (AstraDBCollection) is identified by a name and stores schema-less documents. It is capable of holding any JSON document, each uniquely identified by an _id. Additionally, a JSON document within AstraDB can contain a vector. It is important to note that all documents within the same collection should utilize vectors of the same type, characterized by consistent dimensions and metrics.</p>
<p><img src="../../../../img/sdk/uml-collection.png" /></p>
</details>
<h4 id="create-collection">Create Collection<a class="headerlink" href="#create-collection" title="Permanent link">&para;</a></h4>
<p>Create a collection in the current database.</p>
<details class="abstract annotate" open="open">
<summary>General Information</summary>
<ul>
<li>A collection name is unique for a database</li>
<li>A collection name should match <code>[A-Za-z_]</code></li>
<li>Method <code>createCollection()</code> method returns an instance of <code>AstraDBCollection</code></li>
<li>Collection is created only if it does not exist</li>
<li>If collection exists, a check is performed for vector dimension and metric</li>
<li>There are a maximum of 5 collections per database</li>
<li>If not provided, default metric is <code>cosine</code></li>
<li>Vector <code>dimension</code> and a <code>metric</code> are set at creation and cannot be changed later</li>
<li>The <code>dimension</code> is the size of the vector</li>
<li>The <code>metric</code> is the way the vector will be compared. It can be <code>cosine</code>, <code>euclidean</code> or <code>dot_product</code></li>
</ul>
</details>
<ul class="task-list">
<li class="task-list-item"><label class="task-list-control"><input type="checkbox" disabled checked/><span class="task-list-indicator"></span></label> <strong>Signature and <a href="https://datastaxdevs.github.io/astra-db-client/latest/com/dtsx/astra/sdk/AstraDB.html#createCollection(io.stargate.sdk.data.domain.CollectionDefinition)">Javadoc 🔗</a></strong></li>
</ul>
<div class="highlight"><pre><span></span><code><a id="__codelineno-8-1" name="__codelineno-8-1" href="#__codelineno-8-1"></a><span class="n">AstraDBCollection</span><span class="w"> </span><span class="nf">createCollection</span><span class="p">(</span><span class="n">String</span><span class="w"> </span><span class="n">name</span><span class="p">);</span>
<a id="__codelineno-8-2" name="__codelineno-8-2" href="#__codelineno-8-2"></a><span class="n">AstraDBCollection</span><span class="w"> </span><span class="nf">createCollection</span><span class="p">(</span><span class="n">String</span><span class="w"> </span><span class="n">name</span><span class="p">,</span><span class="w"> </span><span class="kt">int</span><span class="w"> </span><span class="n">vectorDimension</span><span class="p">);</span>
<a id="__codelineno-8-3" name="__codelineno-8-3" href="#__codelineno-8-3"></a><span class="n">AstraDBCollection</span><span class="w"> </span><span class="nf">createCollection</span><span class="p">(</span><span class="n">String</span><span class="w"> </span><span class="n">name</span><span class="p">,</span><span class="w"> </span><span class="kt">int</span><span class="w"> </span><span class="n">vectorDimension</span><span class="p">,</span><span class="w"> </span><span class="n">SimilarityMetric</span><span class="w"> </span><span class="n">metric</span><span class="p">);</span>
<a id="__codelineno-8-4" name="__codelineno-8-4" href="#__codelineno-8-4"></a><span class="n">AstraDBCollection</span><span class="w"> </span><span class="nf">createCollection</span><span class="p">(</span><span class="n">CollectionDefinition</span><span class="w"> </span><span class="n">def</span><span class="p">);</span>
</code></pre></div>
<ul class="task-list">
<li class="task-list-item"><label class="task-list-control"><input type="checkbox" disabled checked/><span class="task-list-indicator"></span></label> <strong>Sample Code</strong></li>
</ul>
<div class="highlight"><table class="highlighttable"><tr><th colspan="2" class="filename"><span class="filename">CreateCollection.java</span></th></tr><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-9-1"> 1</a></span>
<span class="normal"><a href="#__codelineno-9-2"> 2</a></span>
<span class="normal"><a href="#__codelineno-9-3"> 3</a></span>
<span class="normal"><a href="#__codelineno-9-4"> 4</a></span>
<span class="normal"><a href="#__codelineno-9-5"> 5</a></span>
<span class="normal"><a href="#__codelineno-9-6"> 6</a></span>
<span class="normal"><a href="#__codelineno-9-7"> 7</a></span>
<span class="normal"><a href="#__codelineno-9-8"> 8</a></span>
<span class="normal"><a href="#__codelineno-9-9"> 9</a></span>
<span class="normal"><a href="#__codelineno-9-10">10</a></span>
<span class="normal"><a href="#__codelineno-9-11">11</a></span>
<span class="normal"><a href="#__codelineno-9-12">12</a></span>
<span class="normal"><a href="#__codelineno-9-13">13</a></span>
<span class="normal"><a href="#__codelineno-9-14">14</a></span>
<span class="normal"><a href="#__codelineno-9-15">15</a></span>
<span class="normal"><a href="#__codelineno-9-16">16</a></span>
<span class="normal"><a href="#__codelineno-9-17">17</a></span>
<span class="normal"><a href="#__codelineno-9-18">18</a></span>
<span class="normal"><a href="#__codelineno-9-19">19</a></span>
<span class="normal"><a href="#__codelineno-9-20">20</a></span>
<span class="normal"><a href="#__codelineno-9-21">21</a></span>
<span class="normal"><a href="#__codelineno-9-22">22</a></span>
<span class="normal"><a href="#__codelineno-9-23">23</a></span>
<span class="normal"><a href="#__codelineno-9-24">24</a></span>
<span class="normal"><a href="#__codelineno-9-25">25</a></span>
<span class="normal"><a href="#__codelineno-9-26">26</a></span>
<span class="normal"><a href="#__codelineno-9-27">27</a></span>
<span class="normal"><a href="#__codelineno-9-28">28</a></span>
<span class="normal"><a href="#__codelineno-9-29">29</a></span>
<span class="normal"><a href="#__codelineno-9-30">30</a></span>
<span class="normal"><a href="#__codelineno-9-31">31</a></span>
<span class="normal"><a href="#__codelineno-9-32">32</a></span>
<span class="normal"><a href="#__codelineno-9-33">33</a></span>
<span class="normal"><a href="#__codelineno-9-34">34</a></span>
<span class="normal"><a href="#__codelineno-9-35">35</a></span>
<span class="normal"><a href="#__codelineno-9-36">36</a></span></pre></div></td><td class="code"><div><pre><span></span><code><a id="__codelineno-9-1" name="__codelineno-9-1"></a><span class="kn">package</span><span class="w"> </span><span class="nn">com.dtsx.astra.sdk.documentation</span><span class="p">;</span>
<a id="__codelineno-9-2" name="__codelineno-9-2"></a>
<a id="__codelineno-9-3" name="__codelineno-9-3"></a><span class="kn">import</span><span class="w"> </span><span class="nn">com.dtsx.astra.sdk.AstraDB</span><span class="p">;</span>
<a id="__codelineno-9-4" name="__codelineno-9-4"></a><span class="kn">import</span><span class="w"> </span><span class="nn">com.dtsx.astra.sdk.AstraDBCollection</span><span class="p">;</span>
<a id="__codelineno-9-5" name="__codelineno-9-5"></a><span class="kn">import</span><span class="w"> </span><span class="nn">io.stargate.sdk.data.domain.CollectionDefinition</span><span class="p">;</span>
<a id="__codelineno-9-6" name="__codelineno-9-6"></a><span class="kn">import</span><span class="w"> </span><span class="nn">io.stargate.sdk.data.domain.SimilarityMetric</span><span class="p">;</span>
<a id="__codelineno-9-7" name="__codelineno-9-7"></a><span class="kn">import</span><span class="w"> </span><span class="nn">io.stargate.sdk.data.exception.DataApiException</span><span class="p">;</span>
<a id="__codelineno-9-8" name="__codelineno-9-8"></a>
<a id="__codelineno-9-9" name="__codelineno-9-9"></a><span class="kd">public</span><span class="w"> </span><span class="kd">class</span> <span class="nc">CreateCollection</span><span class="w"> </span><span class="p">{</span>
<a id="__codelineno-9-10" name="__codelineno-9-10"></a><span class="w">  </span><span class="kd">public</span><span class="w"> </span><span class="kd">static</span><span class="w"> </span><span class="kt">void</span><span class="w"> </span><span class="nf">main</span><span class="p">(</span><span class="n">String</span><span class="o">[]</span><span class="w"> </span><span class="n">args</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<a id="__codelineno-9-11" name="__codelineno-9-11"></a><span class="w">    </span><span class="n">AstraDB</span><span class="w"> </span><span class="n">db</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">new</span><span class="w"> </span><span class="n">AstraDB</span><span class="p">(</span><span class="s">&quot;TOKEN&quot;</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;API_ENDPOINT&quot;</span><span class="p">);</span>
<a id="__codelineno-9-12" name="__codelineno-9-12"></a>
<a id="__codelineno-9-13" name="__codelineno-9-13"></a><span class="w">    </span><span class="c1">// Create a non-vector collection</span>
<a id="__codelineno-9-14" name="__codelineno-9-14"></a><span class="w">    </span><span class="n">AstraDBCollection</span><span class="w"> </span><span class="n">collection1</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">db</span><span class="p">.</span><span class="na">createCollection</span><span class="p">(</span><span class="s">&quot;collection_simple&quot;</span><span class="p">);</span>
<a id="__codelineno-9-15" name="__codelineno-9-15"></a>
<a id="__codelineno-9-16" name="__codelineno-9-16"></a><span class="w">    </span><span class="c1">// Create a vector collection</span>
<a id="__codelineno-9-17" name="__codelineno-9-17"></a><span class="w">    </span><span class="n">AstraDBCollection</span><span class="w"> </span><span class="n">collection2</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">db</span><span class="p">.</span><span class="na">createCollection</span><span class="p">(</span>
<a id="__codelineno-9-18" name="__codelineno-9-18"></a><span class="w">        </span><span class="s">&quot;collection_vector1&quot;</span><span class="p">,</span>
<a id="__codelineno-9-19" name="__codelineno-9-19"></a><span class="w">        </span><span class="mi">14</span><span class="p">,</span>
<a id="__codelineno-9-20" name="__codelineno-9-20"></a><span class="w">        </span><span class="n">SimilarityMetric</span><span class="p">.</span><span class="na">cosine</span><span class="p">);</span>
<a id="__codelineno-9-21" name="__codelineno-9-21"></a>
<a id="__codelineno-9-22" name="__codelineno-9-22"></a><span class="w">    </span><span class="c1">// Create a vector collection with a builder</span>
<a id="__codelineno-9-23" name="__codelineno-9-23"></a><span class="w">    </span><span class="n">AstraDBCollection</span><span class="w"> </span><span class="n">collection3</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">db</span><span class="p">.</span><span class="na">createCollection</span><span class="p">(</span><span class="n">CollectionDefinition</span>
<a id="__codelineno-9-24" name="__codelineno-9-24"></a><span class="w">        </span><span class="p">.</span><span class="na">builder</span><span class="p">()</span>
<a id="__codelineno-9-25" name="__codelineno-9-25"></a><span class="w">        </span><span class="p">.</span><span class="na">name</span><span class="p">(</span><span class="s">&quot;collection_vector2&quot;</span><span class="p">)</span>
<a id="__codelineno-9-26" name="__codelineno-9-26"></a><span class="w">        </span><span class="p">.</span><span class="na">vector</span><span class="p">(</span><span class="mi">1536</span><span class="p">,</span><span class="w"> </span><span class="n">SimilarityMetric</span><span class="p">.</span><span class="na">euclidean</span><span class="p">)</span>
<a id="__codelineno-9-27" name="__codelineno-9-27"></a><span class="w">        </span><span class="p">.</span><span class="na">build</span><span class="p">());</span>
<a id="__codelineno-9-28" name="__codelineno-9-28"></a>
<a id="__codelineno-9-29" name="__codelineno-9-29"></a><span class="w">    </span><span class="c1">// Collection names should use snake case ([a-zA-Z][a-zA-Z0-9_]*)</span>
<a id="__codelineno-9-30" name="__codelineno-9-30"></a><span class="w">    </span><span class="k">try</span><span class="w"> </span><span class="p">{</span>
<a id="__codelineno-9-31" name="__codelineno-9-31"></a><span class="w">      </span><span class="n">db</span><span class="p">.</span><span class="na">createCollection</span><span class="p">(</span><span class="s">&quot;invalid.name&quot;</span><span class="p">);</span>
<a id="__codelineno-9-32" name="__codelineno-9-32"></a><span class="w">    </span><span class="p">}</span><span class="w"> </span><span class="k">catch</span><span class="p">(</span><span class="n">DataApiException</span><span class="w"> </span><span class="n">e</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<a id="__codelineno-9-33" name="__codelineno-9-33"></a><span class="w">      </span><span class="c1">// invalid.name is not valid</span>
<a id="__codelineno-9-34" name="__codelineno-9-34"></a><span class="w">    </span><span class="p">}</span>
<a id="__codelineno-9-35" name="__codelineno-9-35"></a><span class="w">  </span><span class="p">}</span>
<a id="__codelineno-9-36" name="__codelineno-9-36"></a><span class="p">}</span>
</code></pre></div></td></tr></table></div>
<ul class="task-list">
<li class="task-list-item"><label class="task-list-control"><input type="checkbox" disabled checked/><span class="task-list-indicator"></span></label> <strong>Data API</strong></li>
</ul>
<p>Below is the associated REST API payload</p>
<p><em>Create a collection with no vector</em>
<div class="highlight"><pre><span></span><code><a id="__codelineno-10-1" name="__codelineno-10-1" href="#__codelineno-10-1"></a><span class="p">{</span>
<a id="__codelineno-10-2" name="__codelineno-10-2" href="#__codelineno-10-2"></a><span class="w">  </span><span class="nt">&quot;createCollection&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
<a id="__codelineno-10-3" name="__codelineno-10-3" href="#__codelineno-10-3"></a><span class="w">    </span><span class="nt">&quot;name&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;collection_simple&quot;</span>
<a id="__codelineno-10-4" name="__codelineno-10-4" href="#__codelineno-10-4"></a><span class="w">  </span><span class="p">}</span>
<a id="__codelineno-10-5" name="__codelineno-10-5" href="#__codelineno-10-5"></a><span class="p">}</span>
</code></pre></div></p>
<p><em>Create a collection with a vector</em>
<div class="highlight"><pre><span></span><code><a id="__codelineno-11-1" name="__codelineno-11-1" href="#__codelineno-11-1"></a><span class="p">{</span>
<a id="__codelineno-11-2" name="__codelineno-11-2" href="#__codelineno-11-2"></a><span class="w">  </span><span class="nt">&quot;createCollection&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
<a id="__codelineno-11-3" name="__codelineno-11-3" href="#__codelineno-11-3"></a><span class="w">    </span><span class="nt">&quot;name&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;collection_vector&quot;</span><span class="p">,</span>
<a id="__codelineno-11-4" name="__codelineno-11-4" href="#__codelineno-11-4"></a><span class="w">    </span><span class="nt">&quot;options&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
<a id="__codelineno-11-5" name="__codelineno-11-5" href="#__codelineno-11-5"></a><span class="w">      </span><span class="nt">&quot;vector&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
<a id="__codelineno-11-6" name="__codelineno-11-6" href="#__codelineno-11-6"></a><span class="w">        </span><span class="nt">&quot;dimension&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">14</span><span class="p">,</span>
<a id="__codelineno-11-7" name="__codelineno-11-7" href="#__codelineno-11-7"></a><span class="w">        </span><span class="nt">&quot;metric&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;cosine&quot;</span>
<a id="__codelineno-11-8" name="__codelineno-11-8" href="#__codelineno-11-8"></a><span class="w">      </span><span class="p">}</span>
<a id="__codelineno-11-9" name="__codelineno-11-9" href="#__codelineno-11-9"></a><span class="w">    </span><span class="p">}</span>
<a id="__codelineno-11-10" name="__codelineno-11-10" href="#__codelineno-11-10"></a><span class="w">  </span><span class="p">}</span>
<a id="__codelineno-11-11" name="__codelineno-11-11" href="#__codelineno-11-11"></a><span class="p">}</span>
</code></pre></div></p>
<p><em>Create a collection with a vector and indexing options</em>
<div class="highlight"><pre><span></span><code><a id="__codelineno-12-1" name="__codelineno-12-1" href="#__codelineno-12-1"></a><span class="p">{</span>
<a id="__codelineno-12-2" name="__codelineno-12-2" href="#__codelineno-12-2"></a><span class="w">  </span><span class="nt">&quot;createCollection&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
<a id="__codelineno-12-3" name="__codelineno-12-3" href="#__codelineno-12-3"></a><span class="w">    </span><span class="nt">&quot;name&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;collection_deny&quot;</span><span class="p">,</span>
<a id="__codelineno-12-4" name="__codelineno-12-4" href="#__codelineno-12-4"></a><span class="w">    </span><span class="nt">&quot;options&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
<a id="__codelineno-12-5" name="__codelineno-12-5" href="#__codelineno-12-5"></a><span class="w">      </span><span class="nt">&quot;vector&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
<a id="__codelineno-12-6" name="__codelineno-12-6" href="#__codelineno-12-6"></a><span class="w">        </span><span class="nt">&quot;dimension&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">14</span><span class="p">,</span>
<a id="__codelineno-12-7" name="__codelineno-12-7" href="#__codelineno-12-7"></a><span class="w">        </span><span class="nt">&quot;metric&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;cosine&quot;</span>
<a id="__codelineno-12-8" name="__codelineno-12-8" href="#__codelineno-12-8"></a><span class="w">      </span><span class="p">},</span>
<a id="__codelineno-12-9" name="__codelineno-12-9" href="#__codelineno-12-9"></a><span class="w">      </span><span class="nt">&quot;indexing&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
<a id="__codelineno-12-10" name="__codelineno-12-10" href="#__codelineno-12-10"></a><span class="w">        </span><span class="nt">&quot;deny&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">[</span>
<a id="__codelineno-12-11" name="__codelineno-12-11" href="#__codelineno-12-11"></a><span class="w">          </span><span class="s2">&quot;blob_body&quot;</span>
<a id="__codelineno-12-12" name="__codelineno-12-12" href="#__codelineno-12-12"></a><span class="w">        </span><span class="p">]</span>
<a id="__codelineno-12-13" name="__codelineno-12-13" href="#__codelineno-12-13"></a><span class="w">      </span><span class="p">}</span>
<a id="__codelineno-12-14" name="__codelineno-12-14" href="#__codelineno-12-14"></a><span class="w">    </span><span class="p">}</span>
<a id="__codelineno-12-15" name="__codelineno-12-15" href="#__codelineno-12-15"></a><span class="w">  </span><span class="p">}</span>
<a id="__codelineno-12-16" name="__codelineno-12-16" href="#__codelineno-12-16"></a><span class="p">}</span>
</code></pre></div></p>
<h4 id="list-collections">List Collections<a class="headerlink" href="#list-collections" title="Permanent link">&para;</a></h4>
<p>List collections in the current database with their attributes. <em>(similarity, dimension, indexing...)</em></p>
<details class="abstract annotate" open="open">
<summary>General Information</summary>
<ul>
<li>A database can have up to 5 collections.</li>
<li>A collection with a vector has a set of options like dimension, similarity and indexing.</li>
</ul>
</details>
<ul class="task-list">
<li class="task-list-item"><label class="task-list-control"><input type="checkbox" disabled checked/><span class="task-list-indicator"></span></label> <strong>Signature and <a href="https://datastaxdevs.github.io/astra-db-client/1.2.4/com/dtsx/astra/sdk/AstraDB.html#findAllCollections()">Javadoc 🔗</a></strong></li>
</ul>
<div class="highlight"><pre><span></span><code><a id="__codelineno-13-1" name="__codelineno-13-1" href="#__codelineno-13-1"></a><span class="n">Stream</span><span class="o">&lt;</span><span class="n">String</span><span class="o">&gt;</span><span class="w"> </span><span class="nf">findAllCollectionNames</span><span class="p">();</span>
<a id="__codelineno-13-2" name="__codelineno-13-2" href="#__codelineno-13-2"></a><span class="n">Stream</span><span class="o">&lt;</span><span class="n">CollectionDefinition</span><span class="o">&gt;</span><span class="w"> </span><span class="nf">findAllCollections</span><span class="p">();</span>
</code></pre></div>
<ul class="task-list">
<li class="task-list-item"><label class="task-list-control"><input type="checkbox" disabled checked/><span class="task-list-indicator"></span></label> <strong>Sample Code</strong></li>
</ul>
<div class="highlight"><table class="highlighttable"><tr><th colspan="2" class="filename"><span class="filename">FindAllCollections.java</span></th></tr><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-14-1"> 1</a></span>
<span class="normal"><a href="#__codelineno-14-2"> 2</a></span>
<span class="normal"><a href="#__codelineno-14-3"> 3</a></span>
<span class="normal"><a href="#__codelineno-14-4"> 4</a></span>
<span class="normal"><a href="#__codelineno-14-5"> 5</a></span>
<span class="normal"><a href="#__codelineno-14-6"> 6</a></span>
<span class="normal"><a href="#__codelineno-14-7"> 7</a></span>
<span class="normal"><a href="#__codelineno-14-8"> 8</a></span>
<span class="normal"><a href="#__codelineno-14-9"> 9</a></span>
<span class="normal"><a href="#__codelineno-14-10">10</a></span>
<span class="normal"><a href="#__codelineno-14-11">11</a></span>
<span class="normal"><a href="#__codelineno-14-12">12</a></span>
<span class="normal"><a href="#__codelineno-14-13">13</a></span>
<span class="normal"><a href="#__codelineno-14-14">14</a></span>
<span class="normal"><a href="#__codelineno-14-15">15</a></span>
<span class="normal"><a href="#__codelineno-14-16">16</a></span>
<span class="normal"><a href="#__codelineno-14-17">17</a></span>
<span class="normal"><a href="#__codelineno-14-18">18</a></span>
<span class="normal"><a href="#__codelineno-14-19">19</a></span>
<span class="normal"><a href="#__codelineno-14-20">20</a></span>
<span class="normal"><a href="#__codelineno-14-21">21</a></span>
<span class="normal"><a href="#__codelineno-14-22">22</a></span>
<span class="normal"><a href="#__codelineno-14-23">23</a></span></pre></div></td><td class="code"><div><pre><span></span><code><a id="__codelineno-14-1" name="__codelineno-14-1"></a><span class="kn">package</span><span class="w"> </span><span class="nn">com.dtsx.astra.sdk.documentation</span><span class="p">;</span>
<a id="__codelineno-14-2" name="__codelineno-14-2"></a>
<a id="__codelineno-14-3" name="__codelineno-14-3"></a><span class="kn">import</span><span class="w"> </span><span class="nn">com.dtsx.astra.sdk.AstraDB</span><span class="p">;</span>
<a id="__codelineno-14-4" name="__codelineno-14-4"></a><span class="kn">import</span><span class="w"> </span><span class="nn">io.stargate.sdk.data.domain.CollectionDefinition</span><span class="p">;</span>
<a id="__codelineno-14-5" name="__codelineno-14-5"></a>
<a id="__codelineno-14-6" name="__codelineno-14-6"></a><span class="kd">public</span><span class="w"> </span><span class="kd">class</span> <span class="nc">FindAllCollections</span><span class="w"> </span><span class="p">{</span>
<a id="__codelineno-14-7" name="__codelineno-14-7"></a><span class="w">  </span><span class="kd">public</span><span class="w"> </span><span class="kd">static</span><span class="w"> </span><span class="kt">void</span><span class="w"> </span><span class="nf">main</span><span class="p">(</span><span class="n">String</span><span class="o">[]</span><span class="w"> </span><span class="n">args</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<a id="__codelineno-14-8" name="__codelineno-14-8"></a><span class="w">    </span><span class="n">AstraDB</span><span class="w"> </span><span class="n">db</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">new</span><span class="w"> </span><span class="n">AstraDB</span><span class="p">(</span><span class="s">&quot;TOKEN&quot;</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;API_ENDPOINT&quot;</span><span class="p">);</span>
<a id="__codelineno-14-9" name="__codelineno-14-9"></a>
<a id="__codelineno-14-10" name="__codelineno-14-10"></a><span class="w">    </span><span class="c1">// Get Collection Names</span>
<a id="__codelineno-14-11" name="__codelineno-14-11"></a><span class="w">    </span><span class="n">db</span><span class="p">.</span><span class="na">findAllCollectionsNames</span><span class="p">().</span><span class="na">forEach</span><span class="p">(</span><span class="n">System</span><span class="p">.</span><span class="na">out</span><span class="p">::</span><span class="n">println</span><span class="p">);</span>
<a id="__codelineno-14-12" name="__codelineno-14-12"></a>
<a id="__codelineno-14-13" name="__codelineno-14-13"></a><span class="w">    </span><span class="c1">// Iterate over all collections and print each vector definition</span>
<a id="__codelineno-14-14" name="__codelineno-14-14"></a><span class="w">    </span><span class="n">db</span><span class="p">.</span><span class="na">findAllCollections</span><span class="p">().</span><span class="na">forEach</span><span class="p">(</span><span class="n">col</span><span class="w"> </span><span class="o">-&gt;</span><span class="w"> </span><span class="p">{</span>
<a id="__codelineno-14-15" name="__codelineno-14-15"></a><span class="w">      </span><span class="n">System</span><span class="p">.</span><span class="na">out</span><span class="p">.</span><span class="na">print</span><span class="p">(</span><span class="s">&quot;\nname=&quot;</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="n">col</span><span class="p">.</span><span class="na">getName</span><span class="p">());</span>
<a id="__codelineno-14-16" name="__codelineno-14-16"></a><span class="w">      </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">col</span><span class="p">.</span><span class="na">getOptions</span><span class="p">()</span><span class="w"> </span><span class="o">!=</span><span class="w"> </span><span class="kc">null</span><span class="w"> </span><span class="o">&amp;&amp;</span><span class="w"> </span><span class="n">col</span><span class="p">.</span><span class="na">getOptions</span><span class="p">().</span><span class="na">getVector</span><span class="p">()</span><span class="w"> </span><span class="o">!=</span><span class="w"> </span><span class="kc">null</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<a id="__codelineno-14-17" name="__codelineno-14-17"></a><span class="w">        </span><span class="n">CollectionDefinition</span><span class="p">.</span><span class="na">Options</span><span class="p">.</span><span class="na">Vector</span><span class="w"> </span><span class="n">vector</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">col</span><span class="p">.</span><span class="na">getOptions</span><span class="p">().</span><span class="na">getVector</span><span class="p">();</span>
<a id="__codelineno-14-18" name="__codelineno-14-18"></a><span class="w">        </span><span class="n">System</span><span class="p">.</span><span class="na">out</span><span class="p">.</span><span class="na">print</span><span class="p">(</span><span class="s">&quot;, dim=&quot;</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="n">vector</span><span class="p">.</span><span class="na">getDimension</span><span class="p">());</span>
<a id="__codelineno-14-19" name="__codelineno-14-19"></a><span class="w">        </span><span class="n">System</span><span class="p">.</span><span class="na">out</span><span class="p">.</span><span class="na">print</span><span class="p">(</span><span class="s">&quot;, metric=&quot;</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="n">vector</span><span class="p">.</span><span class="na">getMetric</span><span class="p">());</span>
<a id="__codelineno-14-20" name="__codelineno-14-20"></a><span class="w">      </span><span class="p">}</span>
<a id="__codelineno-14-21" name="__codelineno-14-21"></a><span class="w">    </span><span class="p">});</span>
<a id="__codelineno-14-22" name="__codelineno-14-22"></a><span class="w">  </span><span class="p">}</span>
<a id="__codelineno-14-23" name="__codelineno-14-23"></a><span class="p">}</span>
</code></pre></div></td></tr></table></div>
<ul class="task-list">
<li class="task-list-item"><label class="task-list-control"><input type="checkbox" disabled checked/><span class="task-list-indicator"></span></label> <strong>Data API</strong></li>
</ul>
<p>Below is the associated REST API payload</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-15-1" name="__codelineno-15-1" href="#__codelineno-15-1"></a><span class="p">{</span>
<a id="__codelineno-15-2" name="__codelineno-15-2" href="#__codelineno-15-2"></a><span class="w">  </span><span class="nt">&quot;findCollections&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
<a id="__codelineno-15-3" name="__codelineno-15-3" href="#__codelineno-15-3"></a><span class="w">    </span><span class="nt">&quot;options&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
<a id="__codelineno-15-4" name="__codelineno-15-4" href="#__codelineno-15-4"></a><span class="w">      </span><span class="nt">&quot;explain&quot;</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span>
<a id="__codelineno-15-5" name="__codelineno-15-5" href="#__codelineno-15-5"></a><span class="w">    </span><span class="p">}</span>
<a id="__codelineno-15-6" name="__codelineno-15-6" href="#__codelineno-15-6"></a><span class="w">  </span><span class="p">}</span>
<a id="__codelineno-15-7" name="__codelineno-15-7" href="#__codelineno-15-7"></a><span class="p">}</span>
</code></pre></div>
<h4 id="find-collection">Find Collection<a class="headerlink" href="#find-collection" title="Permanent link">&para;</a></h4>
<p>Retrieve collection definition from its name.</p>
<details class="abstract annotate" open="open">
<summary>General Information</summary>
<ul>
<li>name is the identifier of the collection.</li>
</ul>
</details>
<ul class="task-list">
<li class="task-list-item"><label class="task-list-control"><input type="checkbox" disabled checked/><span class="task-list-indicator"></span></label> <strong>Signature and <a href="https://datastaxdevs.github.io/astra-db-client/1.2.4/com/dtsx/astra/sdk/AstraDB.html#isCollectionExists(java.lang.String)">Javadoc 🔗</a></strong></li>
</ul>
<div class="highlight"><pre><span></span><code><a id="__codelineno-16-1" name="__codelineno-16-1" href="#__codelineno-16-1"></a><span class="n">Optional</span><span class="o">&lt;</span><span class="n">CollectionDefinition</span><span class="o">&gt;</span><span class="w"> </span><span class="nf">findCollectionByName</span><span class="p">(</span><span class="n">String</span><span class="w"> </span><span class="n">name</span><span class="p">);</span>
<a id="__codelineno-16-2" name="__codelineno-16-2" href="#__codelineno-16-2"></a><span class="kt">boolean</span><span class="w"> </span><span class="nf">isCollectionExists</span><span class="p">(</span><span class="n">String</span><span class="w"> </span><span class="n">name</span><span class="p">);</span>
</code></pre></div>
<ul class="task-list">
<li class="task-list-item"><label class="task-list-control"><input type="checkbox" disabled checked/><span class="task-list-indicator"></span></label> <strong>Sample Code</strong></li>
</ul>
<div class="highlight"><table class="highlighttable"><tr><th colspan="2" class="filename"><span class="filename">FindCollection.java</span></th></tr><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-17-1"> 1</a></span>
<span class="normal"><a href="#__codelineno-17-2"> 2</a></span>
<span class="normal"><a href="#__codelineno-17-3"> 3</a></span>
<span class="normal"><a href="#__codelineno-17-4"> 4</a></span>
<span class="normal"><a href="#__codelineno-17-5"> 5</a></span>
<span class="normal"><a href="#__codelineno-17-6"> 6</a></span>
<span class="normal"><a href="#__codelineno-17-7"> 7</a></span>
<span class="normal"><a href="#__codelineno-17-8"> 8</a></span>
<span class="normal"><a href="#__codelineno-17-9"> 9</a></span>
<span class="normal"><a href="#__codelineno-17-10">10</a></span>
<span class="normal"><a href="#__codelineno-17-11">11</a></span>
<span class="normal"><a href="#__codelineno-17-12">12</a></span>
<span class="normal"><a href="#__codelineno-17-13">13</a></span>
<span class="normal"><a href="#__codelineno-17-14">14</a></span>
<span class="normal"><a href="#__codelineno-17-15">15</a></span>
<span class="normal"><a href="#__codelineno-17-16">16</a></span>
<span class="normal"><a href="#__codelineno-17-17">17</a></span></pre></div></td><td class="code"><div><pre><span></span><code><a id="__codelineno-17-1" name="__codelineno-17-1"></a><span class="kn">package</span><span class="w"> </span><span class="nn">com.dtsx.astra.sdk.documentation</span><span class="p">;</span>
<a id="__codelineno-17-2" name="__codelineno-17-2"></a>
<a id="__codelineno-17-3" name="__codelineno-17-3"></a><span class="kn">import</span><span class="w"> </span><span class="nn">com.dtsx.astra.sdk.AstraDB</span><span class="p">;</span>
<a id="__codelineno-17-4" name="__codelineno-17-4"></a><span class="kn">import</span><span class="w"> </span><span class="nn">io.stargate.sdk.data.domain.CollectionDefinition</span><span class="p">;</span>
<a id="__codelineno-17-5" name="__codelineno-17-5"></a><span class="kn">import</span><span class="w"> </span><span class="nn">java.util.Optional</span><span class="p">;</span>
<a id="__codelineno-17-6" name="__codelineno-17-6"></a>
<a id="__codelineno-17-7" name="__codelineno-17-7"></a><span class="kd">public</span><span class="w"> </span><span class="kd">class</span> <span class="nc">FindCollection</span><span class="w"> </span><span class="p">{</span>
<a id="__codelineno-17-8" name="__codelineno-17-8"></a><span class="w">  </span><span class="kd">public</span><span class="w"> </span><span class="kd">static</span><span class="w"> </span><span class="kt">void</span><span class="w"> </span><span class="nf">main</span><span class="p">(</span><span class="n">String</span><span class="o">[]</span><span class="w"> </span><span class="n">args</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<a id="__codelineno-17-9" name="__codelineno-17-9"></a><span class="w">    </span><span class="n">AstraDB</span><span class="w"> </span><span class="n">db</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">new</span><span class="w"> </span><span class="n">AstraDB</span><span class="p">(</span><span class="s">&quot;TOKEN&quot;</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;API_ENDPOINT&quot;</span><span class="p">);</span>
<a id="__codelineno-17-10" name="__codelineno-17-10"></a>
<a id="__codelineno-17-11" name="__codelineno-17-11"></a><span class="w">    </span><span class="c1">// Find a collection</span>
<a id="__codelineno-17-12" name="__codelineno-17-12"></a><span class="w">    </span><span class="n">Optional</span><span class="o">&lt;</span><span class="n">CollectionDefinition</span><span class="o">&gt;</span><span class="w"> </span><span class="n">collection</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">db</span><span class="p">.</span><span class="na">findCollectionByName</span><span class="p">(</span><span class="s">&quot;collection_vector1&quot;</span><span class="p">);</span>
<a id="__codelineno-17-13" name="__codelineno-17-13"></a>
<a id="__codelineno-17-14" name="__codelineno-17-14"></a><span class="w">    </span><span class="c1">// Check if a collection exists</span>
<a id="__codelineno-17-15" name="__codelineno-17-15"></a><span class="w">    </span><span class="kt">boolean</span><span class="w"> </span><span class="n">collectionExists</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">db</span><span class="p">.</span><span class="na">isCollectionExists</span><span class="p">(</span><span class="s">&quot;collection_vector2&quot;</span><span class="p">);</span>
<a id="__codelineno-17-16" name="__codelineno-17-16"></a><span class="w">  </span><span class="p">}</span>
<a id="__codelineno-17-17" name="__codelineno-17-17"></a><span class="p">}</span>
</code></pre></div></td></tr></table></div>
<ul class="task-list">
<li class="task-list-item"><label class="task-list-control"><input type="checkbox" disabled checked/><span class="task-list-indicator"></span></label> <strong>Data API</strong></li>
</ul>
<p><em>list collections</em>
<div class="highlight"><pre><span></span><code><a id="__codelineno-18-1" name="__codelineno-18-1" href="#__codelineno-18-1"></a><span class="p">{</span>
<a id="__codelineno-18-2" name="__codelineno-18-2" href="#__codelineno-18-2"></a><span class="w">  </span><span class="nt">&quot;findCollections&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
<a id="__codelineno-18-3" name="__codelineno-18-3" href="#__codelineno-18-3"></a><span class="w">    </span><span class="nt">&quot;options&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
<a id="__codelineno-18-4" name="__codelineno-18-4" href="#__codelineno-18-4"></a><span class="w">      </span><span class="nt">&quot;explain&quot;</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span>
<a id="__codelineno-18-5" name="__codelineno-18-5" href="#__codelineno-18-5"></a><span class="w">    </span><span class="p">}</span>
<a id="__codelineno-18-6" name="__codelineno-18-6" href="#__codelineno-18-6"></a><span class="w">  </span><span class="p">}</span>
<a id="__codelineno-18-7" name="__codelineno-18-7" href="#__codelineno-18-7"></a><span class="p">}</span>
</code></pre></div></p>
<h4 id="delete-collection">Delete Collection<a class="headerlink" href="#delete-collection" title="Permanent link">&para;</a></h4>
<p>Delete a collection from its name</p>
<details class="abstract annotate" open="open">
<summary>General Information</summary>
<ul>
<li>If the collection does not exist, the method will not return any error.</li>
</ul>
</details>
<ul class="task-list">
<li class="task-list-item"><label class="task-list-control"><input type="checkbox" disabled checked/><span class="task-list-indicator"></span></label> <strong>Signature and <a href="https://datastaxdevs.github.io/astra-db-client/1.2.4/com/dtsx/astra/sdk/AstraDB.html#deleteCollection(java.lang.String)">Javadoc 🔗</a></strong></li>
</ul>
<div class="highlight"><pre><span></span><code><a id="__codelineno-19-1" name="__codelineno-19-1" href="#__codelineno-19-1"></a><span class="kt">void</span><span class="w"> </span><span class="nf">deleteCollection</span><span class="p">(</span><span class="n">String</span><span class="w"> </span><span class="n">name</span><span class="p">);</span>
</code></pre></div>
<ul class="task-list">
<li class="task-list-item"><label class="task-list-control"><input type="checkbox" disabled checked/><span class="task-list-indicator"></span></label> <strong>Sample Code</strong></li>
</ul>
<div class="highlight"><table class="highlighttable"><tr><th colspan="2" class="filename"><span class="filename">DeleteCollection.java</span></th></tr><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-20-1"> 1</a></span>
<span class="normal"><a href="#__codelineno-20-2"> 2</a></span>
<span class="normal"><a href="#__codelineno-20-3"> 3</a></span>
<span class="normal"><a href="#__codelineno-20-4"> 4</a></span>
<span class="normal"><a href="#__codelineno-20-5"> 5</a></span>
<span class="normal"><a href="#__codelineno-20-6"> 6</a></span>
<span class="normal"><a href="#__codelineno-20-7"> 7</a></span>
<span class="normal"><a href="#__codelineno-20-8"> 8</a></span>
<span class="normal"><a href="#__codelineno-20-9"> 9</a></span>
<span class="normal"><a href="#__codelineno-20-10">10</a></span>
<span class="normal"><a href="#__codelineno-20-11">11</a></span>
<span class="normal"><a href="#__codelineno-20-12">12</a></span></pre></div></td><td class="code"><div><pre><span></span><code><a id="__codelineno-20-1" name="__codelineno-20-1"></a><span class="kn">package</span><span class="w"> </span><span class="nn">com.dtsx.astra.sdk.documentation</span><span class="p">;</span>
<a id="__codelineno-20-2" name="__codelineno-20-2"></a>
<a id="__codelineno-20-3" name="__codelineno-20-3"></a><span class="kn">import</span><span class="w"> </span><span class="nn">com.dtsx.astra.sdk.AstraDB</span><span class="p">;</span>
<a id="__codelineno-20-4" name="__codelineno-20-4"></a>
<a id="__codelineno-20-5" name="__codelineno-20-5"></a><span class="kd">public</span><span class="w"> </span><span class="kd">class</span> <span class="nc">DeleteCollection</span><span class="w"> </span><span class="p">{</span>
<a id="__codelineno-20-6" name="__codelineno-20-6"></a><span class="w">  </span><span class="kd">public</span><span class="w"> </span><span class="kd">static</span><span class="w"> </span><span class="kt">void</span><span class="w"> </span><span class="nf">main</span><span class="p">(</span><span class="n">String</span><span class="o">[]</span><span class="w"> </span><span class="n">args</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<a id="__codelineno-20-7" name="__codelineno-20-7"></a><span class="w">    </span><span class="n">AstraDB</span><span class="w"> </span><span class="n">db</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">new</span><span class="w"> </span><span class="n">AstraDB</span><span class="p">(</span><span class="s">&quot;TOKEN&quot;</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;API_ENDPOINT&quot;</span><span class="p">);</span>
<a id="__codelineno-20-8" name="__codelineno-20-8"></a>
<a id="__codelineno-20-9" name="__codelineno-20-9"></a><span class="w">    </span><span class="c1">// Delete an existing collection</span>
<a id="__codelineno-20-10" name="__codelineno-20-10"></a><span class="w">    </span><span class="n">db</span><span class="p">.</span><span class="na">deleteCollection</span><span class="p">(</span><span class="s">&quot;collection_vector2&quot;</span><span class="p">);</span>
<a id="__codelineno-20-11" name="__codelineno-20-11"></a><span class="w">  </span><span class="p">}</span>
<a id="__codelineno-20-12" name="__codelineno-20-12"></a><span class="p">}</span>
</code></pre></div></td></tr></table></div>
<ul class="task-list">
<li class="task-list-item"><label class="task-list-control"><input type="checkbox" disabled checked/><span class="task-list-indicator"></span></label> <strong>Data API</strong></li>
</ul>
<p><em>delete a collection from its name</em>
<div class="highlight"><pre><span></span><code><a id="__codelineno-21-1" name="__codelineno-21-1" href="#__codelineno-21-1"></a><span class="p">{</span>
<a id="__codelineno-21-2" name="__codelineno-21-2" href="#__codelineno-21-2"></a><span class="w">  </span><span class="nt">&quot;deleteCollection&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
<a id="__codelineno-21-3" name="__codelineno-21-3" href="#__codelineno-21-3"></a><span class="w">    </span><span class="nt">&quot;name&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;collection_vector2&quot;</span>
<a id="__codelineno-21-4" name="__codelineno-21-4" href="#__codelineno-21-4"></a><span class="w">  </span><span class="p">}</span>
<a id="__codelineno-21-5" name="__codelineno-21-5" href="#__codelineno-21-5"></a><span class="p">}</span>
</code></pre></div></p>
<h3 id="working-with-documents">Working with Documents<a class="headerlink" href="#working-with-documents" title="Permanent link">&para;</a></h3>
<h4 id="insert-one">Insert One<a class="headerlink" href="#insert-one" title="Permanent link">&para;</a></h4>
<p>You can insert unitary record with the function <code>insertOne()</code>. Multiple signatures are available to insert a document.</p>
<details class="abstract annotate" open="open">
<summary>General Informations</summary>
<ul>
<li>If not provided, the identifier is generated as a java UUID</li>
<li>The method always return the document identifier.</li>
<li>All attributes are optional (schemaless)</li>
<li>You attribute names should match <code>[A-Za-z_]</code></li>
<li>All Java simple standard types are supported</li>
<li>Nested object are supported</li>
<li>A field value should not exceed 5Kb</li>
<li>Each attribute is indexed and searchable</li>
<li>A vector cannot be filled only with 0s, it would lead to division by 0</li>
</ul>
</details>
<ul class="task-list">
<li class="task-list-item"><label class="task-list-control"><input type="checkbox" disabled checked/><span class="task-list-indicator"></span></label> <strong>Signature</strong></li>
</ul>
<div class="highlight"><pre><span></span><code><a id="__codelineno-22-1" name="__codelineno-22-1" href="#__codelineno-22-1"></a><span class="n">JsonDocumentMutationResult</span><span class="w"> </span>
<a id="__codelineno-22-2" name="__codelineno-22-2" href="#__codelineno-22-2"></a><span class="w">  </span><span class="nf">insertOne</span><span class="p">(</span><span class="n">JsonDocument</span><span class="w"> </span><span class="n">doc</span><span class="p">);</span>
<a id="__codelineno-22-3" name="__codelineno-22-3" href="#__codelineno-22-3"></a>
<a id="__codelineno-22-4" name="__codelineno-22-4" href="#__codelineno-22-4"></a><span class="n">CompletableFuture</span><span class="o">&lt;</span><span class="n">JsonDocumentMutationResult</span><span class="o">&gt;</span><span class="w"> </span>
<a id="__codelineno-22-5" name="__codelineno-22-5" href="#__codelineno-22-5"></a><span class="w">  </span><span class="nf">insertOneASync</span><span class="p">(</span><span class="n">JsonDocument</span><span class="w"> </span><span class="n">doc</span><span class="p">);</span>
<a id="__codelineno-22-6" name="__codelineno-22-6" href="#__codelineno-22-6"></a>
<a id="__codelineno-22-7" name="__codelineno-22-7" href="#__codelineno-22-7"></a><span class="n">DocumentMutationResult</span><span class="o">&lt;</span><span class="n">DOC</span><span class="o">&gt;</span><span class="w"> </span>
<a id="__codelineno-22-8" name="__codelineno-22-8" href="#__codelineno-22-8"></a><span class="w">  </span><span class="nf">insertOne</span><span class="p">(</span><span class="n">Document</span><span class="o">&lt;</span><span class="n">DOC</span><span class="o">&gt;</span><span class="w"> </span><span class="n">document</span><span class="p">);</span>
<a id="__codelineno-22-9" name="__codelineno-22-9" href="#__codelineno-22-9"></a>
<a id="__codelineno-22-10" name="__codelineno-22-10" href="#__codelineno-22-10"></a><span class="n">CompletableFuture</span><span class="o">&lt;</span><span class="n">DocumentMutationResult</span><span class="o">&lt;</span><span class="n">DOC</span><span class="o">&gt;&gt;</span><span class="w"> </span>
<a id="__codelineno-22-11" name="__codelineno-22-11" href="#__codelineno-22-11"></a><span class="w">  </span><span class="nf">insertOneASync</span><span class="p">(</span><span class="n">Document</span><span class="o">&lt;</span><span class="n">DOC</span><span class="o">&gt;</span><span class="w"> </span><span class="n">document</span><span class="p">);</span>
</code></pre></div>
<ul class="task-list">
<li class="task-list-item"><label class="task-list-control"><input type="checkbox" disabled checked/><span class="task-list-indicator"></span></label> <strong>Sample Code</strong></li>
</ul>
<div class="highlight"><table class="highlighttable"><tr><th colspan="2" class="filename"><span class="filename">InsertOne.java</span></th></tr><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-23-1"> 1</a></span>
<span class="normal"><a href="#__codelineno-23-2"> 2</a></span>
<span class="normal"><a href="#__codelineno-23-3"> 3</a></span>
<span class="normal"><a href="#__codelineno-23-4"> 4</a></span>
<span class="normal"><a href="#__codelineno-23-5"> 5</a></span>
<span class="normal"><a href="#__codelineno-23-6"> 6</a></span>
<span class="normal"><a href="#__codelineno-23-7"> 7</a></span>
<span class="normal"><a href="#__codelineno-23-8"> 8</a></span>
<span class="normal"><a href="#__codelineno-23-9"> 9</a></span>
<span class="normal"><a href="#__codelineno-23-10">10</a></span>
<span class="normal"><a href="#__codelineno-23-11">11</a></span>
<span class="normal"><a href="#__codelineno-23-12">12</a></span>
<span class="normal"><a href="#__codelineno-23-13">13</a></span>
<span class="normal"><a href="#__codelineno-23-14">14</a></span>
<span class="normal"><a href="#__codelineno-23-15">15</a></span>
<span class="normal"><a href="#__codelineno-23-16">16</a></span>
<span class="normal"><a href="#__codelineno-23-17">17</a></span>
<span class="normal"><a href="#__codelineno-23-18">18</a></span>
<span class="normal"><a href="#__codelineno-23-19">19</a></span>
<span class="normal"><a href="#__codelineno-23-20">20</a></span>
<span class="normal"><a href="#__codelineno-23-21">21</a></span>
<span class="normal"><a href="#__codelineno-23-22">22</a></span>
<span class="normal"><a href="#__codelineno-23-23">23</a></span>
<span class="normal"><a href="#__codelineno-23-24">24</a></span>
<span class="normal"><a href="#__codelineno-23-25">25</a></span>
<span class="normal"><a href="#__codelineno-23-26">26</a></span>
<span class="normal"><a href="#__codelineno-23-27">27</a></span>
<span class="normal"><a href="#__codelineno-23-28">28</a></span>
<span class="normal"><a href="#__codelineno-23-29">29</a></span>
<span class="normal"><a href="#__codelineno-23-30">30</a></span>
<span class="normal"><a href="#__codelineno-23-31">31</a></span>
<span class="normal"><a href="#__codelineno-23-32">32</a></span>
<span class="normal"><a href="#__codelineno-23-33">33</a></span>
<span class="normal"><a href="#__codelineno-23-34">34</a></span>
<span class="normal"><a href="#__codelineno-23-35">35</a></span>
<span class="normal"><a href="#__codelineno-23-36">36</a></span>
<span class="normal"><a href="#__codelineno-23-37">37</a></span>
<span class="normal"><a href="#__codelineno-23-38">38</a></span>
<span class="normal"><a href="#__codelineno-23-39">39</a></span>
<span class="normal"><a href="#__codelineno-23-40">40</a></span>
<span class="normal"><a href="#__codelineno-23-41">41</a></span>
<span class="normal"><a href="#__codelineno-23-42">42</a></span>
<span class="normal"><a href="#__codelineno-23-43">43</a></span>
<span class="normal"><a href="#__codelineno-23-44">44</a></span>
<span class="normal"><a href="#__codelineno-23-45">45</a></span>
<span class="normal"><a href="#__codelineno-23-46">46</a></span>
<span class="normal"><a href="#__codelineno-23-47">47</a></span>
<span class="normal"><a href="#__codelineno-23-48">48</a></span>
<span class="normal"><a href="#__codelineno-23-49">49</a></span>
<span class="normal"><a href="#__codelineno-23-50">50</a></span>
<span class="normal"><a href="#__codelineno-23-51">51</a></span></pre></div></td><td class="code"><div><pre><span></span><code><a id="__codelineno-23-1" name="__codelineno-23-1"></a><span class="kn">package</span><span class="w"> </span><span class="nn">com.dtsx.astra.sdk.documentation</span><span class="p">;</span>
<a id="__codelineno-23-2" name="__codelineno-23-2"></a>
<a id="__codelineno-23-3" name="__codelineno-23-3"></a><span class="kn">import</span><span class="w"> </span><span class="nn">com.dtsx.astra.sdk.AstraDB</span><span class="p">;</span>
<a id="__codelineno-23-4" name="__codelineno-23-4"></a><span class="kn">import</span><span class="w"> </span><span class="nn">com.dtsx.astra.sdk.AstraDBCollection</span><span class="p">;</span>
<a id="__codelineno-23-5" name="__codelineno-23-5"></a><span class="kn">import</span><span class="w"> </span><span class="nn">io.stargate.sdk.data.domain.JsonDocumentMutationResult</span><span class="p">;</span>
<a id="__codelineno-23-6" name="__codelineno-23-6"></a><span class="kn">import</span><span class="w"> </span><span class="nn">io.stargate.sdk.data.domain.JsonDocument</span><span class="p">;</span>
<a id="__codelineno-23-7" name="__codelineno-23-7"></a><span class="kn">import</span><span class="w"> </span><span class="nn">java.util.Map</span><span class="p">;</span>
<a id="__codelineno-23-8" name="__codelineno-23-8"></a>
<a id="__codelineno-23-9" name="__codelineno-23-9"></a><span class="kd">public</span><span class="w"> </span><span class="kd">class</span> <span class="nc">InsertOne</span><span class="w"> </span><span class="p">{</span>
<a id="__codelineno-23-10" name="__codelineno-23-10"></a><span class="w">  </span><span class="kd">public</span><span class="w"> </span><span class="kd">static</span><span class="w"> </span><span class="kt">void</span><span class="w"> </span><span class="nf">main</span><span class="p">(</span><span class="n">String</span><span class="o">[]</span><span class="w"> </span><span class="n">args</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<a id="__codelineno-23-11" name="__codelineno-23-11"></a><span class="w">    </span><span class="n">AstraDB</span><span class="w"> </span><span class="n">db</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">new</span><span class="w"> </span><span class="n">AstraDB</span><span class="p">(</span><span class="s">&quot;TOKEN&quot;</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;API_ENDPOINT&quot;</span><span class="p">);</span>
<a id="__codelineno-23-12" name="__codelineno-23-12"></a>
<a id="__codelineno-23-13" name="__codelineno-23-13"></a><span class="w">    </span><span class="c1">// Assumes a collection with a vector field of dimension 14</span>
<a id="__codelineno-23-14" name="__codelineno-23-14"></a><span class="w">    </span><span class="n">AstraDBCollection</span><span class="w"> </span><span class="n">collection</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">db</span><span class="p">.</span><span class="na">collection</span><span class="p">(</span><span class="s">&quot;collection_vector1&quot;</span><span class="p">);</span>
<a id="__codelineno-23-15" name="__codelineno-23-15"></a>
<a id="__codelineno-23-16" name="__codelineno-23-16"></a><span class="w">    </span><span class="c1">// You must delete any existing rows with the same IDs as the</span>
<a id="__codelineno-23-17" name="__codelineno-23-17"></a><span class="w">    </span><span class="c1">// rows you want to insert</span>
<a id="__codelineno-23-18" name="__codelineno-23-18"></a><span class="w">    </span><span class="n">collection</span><span class="p">.</span><span class="na">deleteAll</span><span class="p">();</span>
<a id="__codelineno-23-19" name="__codelineno-23-19"></a>
<a id="__codelineno-23-20" name="__codelineno-23-20"></a><span class="w">    </span><span class="c1">// Insert rows defined by key/value</span>
<a id="__codelineno-23-21" name="__codelineno-23-21"></a><span class="w">    </span><span class="n">collection</span><span class="p">.</span><span class="na">insertOne</span><span class="p">(</span>
<a id="__codelineno-23-22" name="__codelineno-23-22"></a><span class="w">        </span><span class="k">new</span><span class="w"> </span><span class="n">JsonDocument</span><span class="p">()</span>
<a id="__codelineno-23-23" name="__codelineno-23-23"></a><span class="w">            </span><span class="p">.</span><span class="na">id</span><span class="p">(</span><span class="s">&quot;doc1&quot;</span><span class="p">)</span><span class="w"> </span><span class="c1">// uuid is generated if not explicitely set</span>
<a id="__codelineno-23-24" name="__codelineno-23-24"></a><span class="w">            </span><span class="p">.</span><span class="na">vector</span><span class="p">(</span><span class="k">new</span><span class="w"> </span><span class="kt">float</span><span class="o">[]</span><span class="p">{</span><span class="mf">1f</span><span class="p">,</span><span class="w"> </span><span class="mf">0f</span><span class="p">,</span><span class="w"> </span><span class="mf">1f</span><span class="p">,</span><span class="w"> </span><span class="mf">1f</span><span class="p">,</span><span class="w"> </span><span class="mf">1f</span><span class="p">,</span><span class="w"> </span><span class="mf">1f</span><span class="p">,</span><span class="w"> </span><span class="mf">0f</span><span class="p">,</span><span class="w"> </span><span class="mf">0f</span><span class="p">,</span><span class="w"> </span><span class="mf">0f</span><span class="p">,</span><span class="w"> </span><span class="mf">0f</span><span class="p">,</span><span class="w"> </span><span class="mf">0f</span><span class="p">,</span><span class="w"> </span><span class="mf">0f</span><span class="p">,</span><span class="w"> </span><span class="mf">0f</span><span class="p">,</span><span class="w"> </span><span class="mf">0f</span><span class="p">})</span>
<a id="__codelineno-23-25" name="__codelineno-23-25"></a><span class="w">            </span><span class="p">.</span><span class="na">put</span><span class="p">(</span><span class="s">&quot;product_name&quot;</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;HealthyFresh - Beef raw dog food&quot;</span><span class="p">)</span>
<a id="__codelineno-23-26" name="__codelineno-23-26"></a><span class="w">            </span><span class="p">.</span><span class="na">put</span><span class="p">(</span><span class="s">&quot;product_price&quot;</span><span class="p">,</span><span class="w"> </span><span class="mf">12.99</span><span class="p">));</span>
<a id="__codelineno-23-27" name="__codelineno-23-27"></a>
<a id="__codelineno-23-28" name="__codelineno-23-28"></a><span class="w">    </span><span class="c1">// Insert rows defined as a JSON String</span>
<a id="__codelineno-23-29" name="__codelineno-23-29"></a><span class="w">    </span><span class="n">collection</span><span class="p">.</span><span class="na">insertOne</span><span class="p">(</span>
<a id="__codelineno-23-30" name="__codelineno-23-30"></a><span class="w">        </span><span class="k">new</span><span class="w"> </span><span class="n">JsonDocument</span><span class="p">()</span>
<a id="__codelineno-23-31" name="__codelineno-23-31"></a><span class="w">            </span><span class="p">.</span><span class="na">data</span><span class="p">(</span>
<a id="__codelineno-23-32" name="__codelineno-23-32"></a><span class="w">                </span><span class="s">&quot;{&quot;</span><span class="w"> </span><span class="o">+</span>
<a id="__codelineno-23-33" name="__codelineno-23-33"></a><span class="w">                </span><span class="s">&quot;\&quot;_id\&quot;: \&quot;doc2\&quot;, &quot;</span><span class="w"> </span><span class="o">+</span>
<a id="__codelineno-23-34" name="__codelineno-23-34"></a><span class="w">                </span><span class="s">&quot;\&quot;$vector\&quot;: [1, 1, 1, 1, 1, 0, 0, 0, 0, 0, 0, 0, 0, 0], &quot;</span><span class="w"> </span><span class="o">+</span>
<a id="__codelineno-23-35" name="__codelineno-23-35"></a><span class="w">                </span><span class="s">&quot;\&quot;product_name\&quot;: \&quot;HealthyFresh - Chicken raw dog food\&quot;, &quot;</span><span class="w"> </span><span class="o">+</span>
<a id="__codelineno-23-36" name="__codelineno-23-36"></a><span class="w">                </span><span class="s">&quot;\&quot;product_price\&quot;: 9.99&quot;</span><span class="w"> </span><span class="o">+</span>
<a id="__codelineno-23-37" name="__codelineno-23-37"></a><span class="w">                </span><span class="s">&quot;}&quot;</span><span class="p">));</span>
<a id="__codelineno-23-38" name="__codelineno-23-38"></a>
<a id="__codelineno-23-39" name="__codelineno-23-39"></a><span class="w">    </span><span class="c1">// Insert rows defined as a Map Asynchronously</span>
<a id="__codelineno-23-40" name="__codelineno-23-40"></a><span class="w">    </span><span class="n">collection</span><span class="p">.</span><span class="na">insertOneASync</span><span class="p">(</span>
<a id="__codelineno-23-41" name="__codelineno-23-41"></a><span class="w">        </span><span class="k">new</span><span class="w"> </span><span class="n">JsonDocument</span><span class="p">()</span>
<a id="__codelineno-23-42" name="__codelineno-23-42"></a><span class="w">            </span><span class="p">.</span><span class="na">id</span><span class="p">(</span><span class="s">&quot;doc3&quot;</span><span class="p">)</span>
<a id="__codelineno-23-43" name="__codelineno-23-43"></a><span class="w">            </span><span class="p">.</span><span class="na">vector</span><span class="p">(</span><span class="k">new</span><span class="w"> </span><span class="kt">float</span><span class="o">[]</span><span class="p">{</span><span class="mf">1f</span><span class="p">,</span><span class="w"> </span><span class="mf">1f</span><span class="p">,</span><span class="w"> </span><span class="mf">1f</span><span class="p">,</span><span class="w"> </span><span class="mf">1f</span><span class="p">,</span><span class="w"> </span><span class="mf">1f</span><span class="p">,</span><span class="w"> </span><span class="mf">0f</span><span class="p">,</span><span class="w"> </span><span class="mf">0f</span><span class="p">,</span><span class="w"> </span><span class="mf">0f</span><span class="p">,</span><span class="w"> </span><span class="mf">0f</span><span class="p">,</span><span class="w"> </span><span class="mf">0f</span><span class="p">,</span><span class="w"> </span><span class="mf">0f</span><span class="p">,</span><span class="w"> </span><span class="mf">0f</span><span class="p">,</span><span class="w"> </span><span class="mf">0f</span><span class="p">,</span><span class="w"> </span><span class="mf">0f</span><span class="p">})</span>
<a id="__codelineno-23-44" name="__codelineno-23-44"></a><span class="w">            </span><span class="p">.</span><span class="na">data</span><span class="p">(</span><span class="n">Map</span><span class="p">.</span><span class="na">of</span><span class="p">(</span><span class="s">&quot;product_name&quot;</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;HealthyFresh - Chicken raw dog food&quot;</span><span class="p">)));</span>
<a id="__codelineno-23-45" name="__codelineno-23-45"></a>
<a id="__codelineno-23-46" name="__codelineno-23-46"></a><span class="w">    </span><span class="c1">// If you do not provide an ID, they are generated automatically</span>
<a id="__codelineno-23-47" name="__codelineno-23-47"></a><span class="w">    </span><span class="n">JsonDocumentMutationResult</span><span class="w"> </span><span class="n">result</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">collection</span><span class="p">.</span><span class="na">insertOne</span><span class="p">(</span>
<a id="__codelineno-23-48" name="__codelineno-23-48"></a><span class="w">        </span><span class="k">new</span><span class="w"> </span><span class="n">JsonDocument</span><span class="p">().</span><span class="na">put</span><span class="p">(</span><span class="s">&quot;demo&quot;</span><span class="p">,</span><span class="w"> </span><span class="mi">1</span><span class="p">));</span>
<a id="__codelineno-23-49" name="__codelineno-23-49"></a><span class="w">    </span><span class="n">String</span><span class="w"> </span><span class="n">generatedId</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">result</span><span class="p">.</span><span class="na">getDocument</span><span class="p">().</span><span class="na">getId</span><span class="p">();</span>
<a id="__codelineno-23-50" name="__codelineno-23-50"></a><span class="w">  </span><span class="p">}</span>
<a id="__codelineno-23-51" name="__codelineno-23-51"></a><span class="p">}</span>
</code></pre></div></td></tr></table></div>
<ul class="task-list">
<li class="task-list-item"><label class="task-list-control"><input type="checkbox" disabled checked/><span class="task-list-indicator"></span></label> <strong>Data API Payload</strong></li>
</ul>
<div class="highlight"><pre><span></span><code><a id="__codelineno-24-1" name="__codelineno-24-1" href="#__codelineno-24-1"></a><span class="p">{</span>
<a id="__codelineno-24-2" name="__codelineno-24-2" href="#__codelineno-24-2"></a><span class="w">  </span><span class="nt">&quot;insertOne&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
<a id="__codelineno-24-3" name="__codelineno-24-3" href="#__codelineno-24-3"></a><span class="w">    </span><span class="nt">&quot;document&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
<a id="__codelineno-24-4" name="__codelineno-24-4" href="#__codelineno-24-4"></a><span class="w">      </span><span class="nt">&quot;product_name&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;HealthyFresh - Chicken raw dog food&quot;</span><span class="p">,</span>
<a id="__codelineno-24-5" name="__codelineno-24-5" href="#__codelineno-24-5"></a><span class="w">      </span><span class="nt">&quot;product_price&quot;</span><span class="p">:</span><span class="w"> </span><span class="mf">9.99</span><span class="p">,</span>
<a id="__codelineno-24-6" name="__codelineno-24-6" href="#__codelineno-24-6"></a><span class="w">      </span><span class="nt">&quot;_id&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;f2472946-cc9f-4ad1-801d-f1cf21d8cb38&quot;</span><span class="p">,</span>
<a id="__codelineno-24-7" name="__codelineno-24-7" href="#__codelineno-24-7"></a><span class="w">      </span><span class="nt">&quot;$vector&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">[</span>
<a id="__codelineno-24-8" name="__codelineno-24-8" href="#__codelineno-24-8"></a><span class="w">        </span><span class="mf">0.3</span><span class="p">,</span><span class="w"> </span><span class="mf">0.3</span><span class="p">,</span><span class="w"> </span><span class="mf">0.3</span><span class="p">,</span><span class="w"> </span><span class="mf">0.3</span><span class="p">,</span><span class="w"> </span><span class="mf">0.3</span><span class="p">,</span>
<a id="__codelineno-24-9" name="__codelineno-24-9" href="#__codelineno-24-9"></a><span class="w">        </span><span class="mf">0.3</span><span class="p">,</span><span class="w"> </span><span class="mf">0.3</span><span class="p">,</span><span class="w"> </span><span class="mf">0.3</span><span class="p">,</span><span class="w"> </span><span class="mf">0.3</span><span class="p">,</span><span class="w"> </span><span class="mf">0.3</span><span class="p">,</span>
<a id="__codelineno-24-10" name="__codelineno-24-10" href="#__codelineno-24-10"></a><span class="w">        </span><span class="mf">0.3</span><span class="p">,</span><span class="w"> </span><span class="mf">0.3</span><span class="p">,</span><span class="w"> </span><span class="mf">0.3</span><span class="p">,</span><span class="w"> </span><span class="mf">0.3</span>
<a id="__codelineno-24-11" name="__codelineno-24-11" href="#__codelineno-24-11"></a><span class="w">      </span><span class="p">]</span>
<a id="__codelineno-24-12" name="__codelineno-24-12" href="#__codelineno-24-12"></a><span class="w">    </span><span class="p">}</span>
<a id="__codelineno-24-13" name="__codelineno-24-13" href="#__codelineno-24-13"></a><span class="w">  </span><span class="p">}</span>
<a id="__codelineno-24-14" name="__codelineno-24-14" href="#__codelineno-24-14"></a><span class="p">}</span>
</code></pre></div>
<h4 id="upsert-one">Upsert One<a class="headerlink" href="#upsert-one" title="Permanent link">&para;</a></h4>
<details class="abstract annotate" open="open">
<summary>General Informations</summary>
<ul>
<li><code>insert*</code> will give you an error when id that already exist in the collection is provided.</li>
<li><code>upsert*</code> will update the document if it exists or insert it if it does not.</li>
</ul>
</details>
<ul class="task-list">
<li class="task-list-item"><label class="task-list-control"><input type="checkbox" disabled checked/><span class="task-list-indicator"></span></label> <strong>Signatures</strong></li>
</ul>
<div class="highlight"><pre><span></span><code><a id="__codelineno-25-1" name="__codelineno-25-1" href="#__codelineno-25-1"></a><span class="n">JsonDocumentMutationResult</span><span class="w"> </span>
<a id="__codelineno-25-2" name="__codelineno-25-2" href="#__codelineno-25-2"></a><span class="w">  </span><span class="nf">upsertOne</span><span class="p">(</span><span class="n">JsonDocument</span><span class="w"> </span><span class="n">doc</span><span class="p">);</span>
<a id="__codelineno-25-3" name="__codelineno-25-3" href="#__codelineno-25-3"></a>
<a id="__codelineno-25-4" name="__codelineno-25-4" href="#__codelineno-25-4"></a><span class="n">CompletableFuture</span><span class="o">&lt;</span><span class="n">JsonDocumentMutationResult</span><span class="o">&gt;</span><span class="w">  </span>
<a id="__codelineno-25-5" name="__codelineno-25-5" href="#__codelineno-25-5"></a><span class="w">  </span><span class="nf">upsertOneASync</span><span class="p">(</span><span class="n">JsonDocument</span><span class="w"> </span><span class="n">doc</span><span class="p">);</span>
<a id="__codelineno-25-6" name="__codelineno-25-6" href="#__codelineno-25-6"></a>
<a id="__codelineno-25-7" name="__codelineno-25-7" href="#__codelineno-25-7"></a><span class="n">DocumentMutationResult</span><span class="o">&lt;</span><span class="n">DOC</span><span class="o">&gt;</span><span class="w">  </span>
<a id="__codelineno-25-8" name="__codelineno-25-8" href="#__codelineno-25-8"></a><span class="w">  </span><span class="nf">upsertOne</span><span class="p">(</span><span class="n">Document</span><span class="o">&lt;</span><span class="n">DOC</span><span class="o">&gt;</span><span class="w"> </span><span class="n">document</span><span class="p">);</span>
<a id="__codelineno-25-9" name="__codelineno-25-9" href="#__codelineno-25-9"></a>
<a id="__codelineno-25-10" name="__codelineno-25-10" href="#__codelineno-25-10"></a><span class="n">CompletableFuture</span><span class="o">&lt;</span><span class="n">DocumentMutationResult</span><span class="o">&lt;</span><span class="n">DOC</span><span class="o">&gt;&gt;</span><span class="w">  </span>
<a id="__codelineno-25-11" name="__codelineno-25-11" href="#__codelineno-25-11"></a><span class="w">  </span><span class="nf">upsertOneASync</span><span class="p">(</span><span class="n">Document</span><span class="o">&lt;</span><span class="n">DOC</span><span class="o">&gt;</span><span class="w"> </span><span class="n">document</span><span class="p">);</span>
</code></pre></div>
<ul class="task-list">
<li class="task-list-item"><label class="task-list-control"><input type="checkbox" disabled checked/><span class="task-list-indicator"></span></label> <strong>Sample Code</strong></li>
</ul>
<div class="highlight"><table class="highlighttable"><tr><th colspan="2" class="filename"><span class="filename">InsertOne.java</span></th></tr><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-26-1"> 1</a></span>
<span class="normal"><a href="#__codelineno-26-2"> 2</a></span>
<span class="normal"><a href="#__codelineno-26-3"> 3</a></span>
<span class="normal"><a href="#__codelineno-26-4"> 4</a></span>
<span class="normal"><a href="#__codelineno-26-5"> 5</a></span>
<span class="normal"><a href="#__codelineno-26-6"> 6</a></span>
<span class="normal"><a href="#__codelineno-26-7"> 7</a></span>
<span class="normal"><a href="#__codelineno-26-8"> 8</a></span>
<span class="normal"><a href="#__codelineno-26-9"> 9</a></span>
<span class="normal"><a href="#__codelineno-26-10">10</a></span>
<span class="normal"><a href="#__codelineno-26-11">11</a></span>
<span class="normal"><a href="#__codelineno-26-12">12</a></span>
<span class="normal"><a href="#__codelineno-26-13">13</a></span>
<span class="normal"><a href="#__codelineno-26-14">14</a></span>
<span class="normal"><a href="#__codelineno-26-15">15</a></span>
<span class="normal"><a href="#__codelineno-26-16">16</a></span>
<span class="normal"><a href="#__codelineno-26-17">17</a></span>
<span class="normal"><a href="#__codelineno-26-18">18</a></span>
<span class="normal"><a href="#__codelineno-26-19">19</a></span>
<span class="normal"><a href="#__codelineno-26-20">20</a></span>
<span class="normal"><a href="#__codelineno-26-21">21</a></span>
<span class="normal"><a href="#__codelineno-26-22">22</a></span>
<span class="normal"><a href="#__codelineno-26-23">23</a></span>
<span class="normal"><a href="#__codelineno-26-24">24</a></span>
<span class="normal"><a href="#__codelineno-26-25">25</a></span>
<span class="normal"><a href="#__codelineno-26-26">26</a></span>
<span class="normal"><a href="#__codelineno-26-27">27</a></span>
<span class="normal"><a href="#__codelineno-26-28">28</a></span>
<span class="normal"><a href="#__codelineno-26-29">29</a></span>
<span class="normal"><a href="#__codelineno-26-30">30</a></span>
<span class="normal"><a href="#__codelineno-26-31">31</a></span>
<span class="normal"><a href="#__codelineno-26-32">32</a></span>
<span class="normal"><a href="#__codelineno-26-33">33</a></span>
<span class="normal"><a href="#__codelineno-26-34">34</a></span>
<span class="normal"><a href="#__codelineno-26-35">35</a></span>
<span class="normal"><a href="#__codelineno-26-36">36</a></span>
<span class="normal"><a href="#__codelineno-26-37">37</a></span>
<span class="normal"><a href="#__codelineno-26-38">38</a></span>
<span class="normal"><a href="#__codelineno-26-39">39</a></span></pre></div></td><td class="code"><div><pre><span></span><code><a id="__codelineno-26-1" name="__codelineno-26-1"></a><span class="kn">package</span><span class="w"> </span><span class="nn">com.dtsx.astra.sdk.documentation</span><span class="p">;</span>
<a id="__codelineno-26-2" name="__codelineno-26-2"></a>
<a id="__codelineno-26-3" name="__codelineno-26-3"></a><span class="kn">import</span><span class="w"> </span><span class="nn">com.dtsx.astra.sdk.AstraDB</span><span class="p">;</span>
<a id="__codelineno-26-4" name="__codelineno-26-4"></a><span class="kn">import</span><span class="w"> </span><span class="nn">com.dtsx.astra.sdk.AstraDBCollection</span><span class="p">;</span>
<a id="__codelineno-26-5" name="__codelineno-26-5"></a><span class="kn">import</span><span class="w"> </span><span class="nn">io.stargate.sdk.data.domain.JsonDocument</span><span class="p">;</span>
<a id="__codelineno-26-6" name="__codelineno-26-6"></a><span class="kn">import</span><span class="w"> </span><span class="nn">io.stargate.sdk.data.domain.JsonDocumentMutationResult</span><span class="p">;</span>
<a id="__codelineno-26-7" name="__codelineno-26-7"></a><span class="kn">import</span><span class="w"> </span><span class="nn">org.junit.jupiter.api.Assertions</span><span class="p">;</span>
<a id="__codelineno-26-8" name="__codelineno-26-8"></a>
<a id="__codelineno-26-9" name="__codelineno-26-9"></a><span class="kn">import static</span><span class="w"> </span><span class="nn">io.stargate.sdk.data.domain.DocumentMutationStatus.CREATED</span><span class="p">;</span>
<a id="__codelineno-26-10" name="__codelineno-26-10"></a><span class="kn">import static</span><span class="w"> </span><span class="nn">io.stargate.sdk.data.domain.DocumentMutationStatus.UNCHANGED</span><span class="p">;</span>
<a id="__codelineno-26-11" name="__codelineno-26-11"></a><span class="kn">import static</span><span class="w"> </span><span class="nn">io.stargate.sdk.data.domain.DocumentMutationStatus.UPDATED</span><span class="p">;</span>
<a id="__codelineno-26-12" name="__codelineno-26-12"></a>
<a id="__codelineno-26-13" name="__codelineno-26-13"></a><span class="kd">public</span><span class="w"> </span><span class="kd">class</span> <span class="nc">UpsertOne</span><span class="w"> </span><span class="p">{</span>
<a id="__codelineno-26-14" name="__codelineno-26-14"></a><span class="w">  </span><span class="kd">public</span><span class="w"> </span><span class="kd">static</span><span class="w"> </span><span class="kt">void</span><span class="w"> </span><span class="nf">main</span><span class="p">(</span><span class="n">String</span><span class="o">[]</span><span class="w"> </span><span class="n">args</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<a id="__codelineno-26-15" name="__codelineno-26-15"></a><span class="w">    </span><span class="n">AstraDB</span><span class="w"> </span><span class="n">db</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">new</span><span class="w"> </span><span class="n">AstraDB</span><span class="p">(</span><span class="s">&quot;TOKEN&quot;</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;API_ENDPOINT&quot;</span><span class="p">);</span>
<a id="__codelineno-26-16" name="__codelineno-26-16"></a>
<a id="__codelineno-26-17" name="__codelineno-26-17"></a><span class="w">    </span><span class="c1">// Assumes a collection with a vector field of dimension 14</span>
<a id="__codelineno-26-18" name="__codelineno-26-18"></a><span class="w">    </span><span class="n">AstraDBCollection</span><span class="w"> </span><span class="n">collection</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">db</span><span class="p">.</span><span class="na">collection</span><span class="p">(</span><span class="s">&quot;collection_vector1&quot;</span><span class="p">);</span>
<a id="__codelineno-26-19" name="__codelineno-26-19"></a>
<a id="__codelineno-26-20" name="__codelineno-26-20"></a><span class="w">    </span><span class="c1">// Insert rows defined by key/value</span>
<a id="__codelineno-26-21" name="__codelineno-26-21"></a><span class="w">    </span><span class="n">JsonDocument</span><span class="w"> </span><span class="n">doc1</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">new</span><span class="w"> </span><span class="n">JsonDocument</span><span class="p">()</span>
<a id="__codelineno-26-22" name="__codelineno-26-22"></a><span class="w">            </span><span class="p">.</span><span class="na">id</span><span class="p">(</span><span class="s">&quot;doc1&quot;</span><span class="p">)</span><span class="w"> </span><span class="c1">// uuid is generated if not explicitely set</span>
<a id="__codelineno-26-23" name="__codelineno-26-23"></a><span class="w">            </span><span class="p">.</span><span class="na">put</span><span class="p">(</span><span class="s">&quot;product_name&quot;</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;HealthyFresh - Beef raw dog food&quot;</span><span class="p">)</span>
<a id="__codelineno-26-24" name="__codelineno-26-24"></a><span class="w">            </span><span class="p">.</span><span class="na">put</span><span class="p">(</span><span class="s">&quot;product_price&quot;</span><span class="p">,</span><span class="w"> </span><span class="mf">12.99</span><span class="p">);</span>
<a id="__codelineno-26-25" name="__codelineno-26-25"></a>
<a id="__codelineno-26-26" name="__codelineno-26-26"></a><span class="w">    </span><span class="c1">// Create the document</span>
<a id="__codelineno-26-27" name="__codelineno-26-27"></a><span class="w">    </span><span class="n">JsonDocumentMutationResult</span><span class="w"> </span><span class="n">res1</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">collection</span><span class="p">.</span><span class="na">upsertOne</span><span class="p">(</span><span class="n">doc1</span><span class="p">);</span>
<a id="__codelineno-26-28" name="__codelineno-26-28"></a><span class="w">    </span><span class="n">Assertions</span><span class="p">.</span><span class="na">assertEquals</span><span class="p">(</span><span class="n">CREATED</span><span class="p">,</span><span class="w"> </span><span class="n">res1</span><span class="p">.</span><span class="na">getStatus</span><span class="p">());</span>
<a id="__codelineno-26-29" name="__codelineno-26-29"></a>
<a id="__codelineno-26-30" name="__codelineno-26-30"></a><span class="w">    </span><span class="c1">// Nothing happened</span>
<a id="__codelineno-26-31" name="__codelineno-26-31"></a><span class="w">    </span><span class="n">JsonDocumentMutationResult</span><span class="w"> </span><span class="n">res2</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">collection</span><span class="p">.</span><span class="na">upsertOne</span><span class="p">(</span><span class="n">doc1</span><span class="p">);</span>
<a id="__codelineno-26-32" name="__codelineno-26-32"></a><span class="w">    </span><span class="n">Assertions</span><span class="p">.</span><span class="na">assertEquals</span><span class="p">(</span><span class="n">UNCHANGED</span><span class="p">,</span><span class="w"> </span><span class="n">res1</span><span class="p">.</span><span class="na">getStatus</span><span class="p">());</span>
<a id="__codelineno-26-33" name="__codelineno-26-33"></a>
<a id="__codelineno-26-34" name="__codelineno-26-34"></a><span class="w">    </span><span class="c1">// Document is updated (async)</span>
<a id="__codelineno-26-35" name="__codelineno-26-35"></a><span class="w">    </span><span class="n">doc1</span><span class="p">.</span><span class="na">put</span><span class="p">(</span><span class="s">&quot;new_property&quot;</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;value&quot;</span><span class="p">);</span>
<a id="__codelineno-26-36" name="__codelineno-26-36"></a><span class="w">    </span><span class="n">collection</span><span class="p">.</span><span class="na">upsertOneASync</span><span class="p">(</span><span class="n">doc1</span><span class="p">).</span><span class="na">thenAccept</span><span class="p">(</span><span class="n">res</span><span class="w"> </span><span class="o">-&gt;</span>
<a id="__codelineno-26-37" name="__codelineno-26-37"></a><span class="w">      </span><span class="n">Assertions</span><span class="p">.</span><span class="na">assertEquals</span><span class="p">(</span><span class="n">UPDATED</span><span class="p">,</span><span class="w"> </span><span class="n">res</span><span class="p">.</span><span class="na">getStatus</span><span class="p">()));</span>
<a id="__codelineno-26-38" name="__codelineno-26-38"></a><span class="w">    </span><span class="p">}</span>
<a id="__codelineno-26-39" name="__codelineno-26-39"></a><span class="p">}</span>
</code></pre></div></td></tr></table></div>
<ul class="task-list">
<li class="task-list-item"><label class="task-list-control"><input type="checkbox" disabled checked/><span class="task-list-indicator"></span></label> <strong>Data API Payload</strong></li>
</ul>
<div class="highlight"><pre><span></span><code><a id="__codelineno-27-1" name="__codelineno-27-1" href="#__codelineno-27-1"></a><span class="p">{</span>
<a id="__codelineno-27-2" name="__codelineno-27-2" href="#__codelineno-27-2"></a><span class="w">  </span><span class="nt">&quot;findOneAndReplace&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
<a id="__codelineno-27-3" name="__codelineno-27-3" href="#__codelineno-27-3"></a><span class="w">    </span><span class="nt">&quot;filter&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
<a id="__codelineno-27-4" name="__codelineno-27-4" href="#__codelineno-27-4"></a><span class="w">      </span><span class="nt">&quot;_id&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;1&quot;</span>
<a id="__codelineno-27-5" name="__codelineno-27-5" href="#__codelineno-27-5"></a><span class="w">    </span><span class="p">},</span>
<a id="__codelineno-27-6" name="__codelineno-27-6" href="#__codelineno-27-6"></a><span class="w">    </span><span class="nt">&quot;options&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
<a id="__codelineno-27-7" name="__codelineno-27-7" href="#__codelineno-27-7"></a><span class="w">      </span><span class="nt">&quot;upsert&quot;</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span>
<a id="__codelineno-27-8" name="__codelineno-27-8" href="#__codelineno-27-8"></a><span class="w">    </span><span class="p">},</span>
<a id="__codelineno-27-9" name="__codelineno-27-9" href="#__codelineno-27-9"></a><span class="w">    </span><span class="nt">&quot;replacement&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
<a id="__codelineno-27-10" name="__codelineno-27-10" href="#__codelineno-27-10"></a><span class="w">      </span><span class="nt">&quot;a&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;a&quot;</span><span class="p">,</span>
<a id="__codelineno-27-11" name="__codelineno-27-11" href="#__codelineno-27-11"></a><span class="w">      </span><span class="nt">&quot;b&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;updated&quot;</span><span class="p">,</span>
<a id="__codelineno-27-12" name="__codelineno-27-12" href="#__codelineno-27-12"></a><span class="w">      </span><span class="nt">&quot;_id&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;1&quot;</span>
<a id="__codelineno-27-13" name="__codelineno-27-13" href="#__codelineno-27-13"></a><span class="w">    </span><span class="p">}</span>
<a id="__codelineno-27-14" name="__codelineno-27-14" href="#__codelineno-27-14"></a><span class="w">  </span><span class="p">}</span>
<a id="__codelineno-27-15" name="__codelineno-27-15" href="#__codelineno-27-15"></a><span class="p">}</span>
</code></pre></div>
<h4 id="insert-many">Insert Many<a class="headerlink" href="#insert-many" title="Permanent link">&para;</a></h4>
<details class="abstract annotate" open="open">
<summary>General Informations</summary>
<ul>
<li>The underlying REST API is paged. The maximum page size is 20.</li>
<li>To perform bulk loading, distribution of the workload is recommended</li>
<li><code>insertMany**Chunked**</code> are a helper to distribute the workload</li>
<li>If more than 20 documents are provided chunking is applied under the hood</li>
</ul>
</details>
<ul class="task-list">
<li class="task-list-item"><label class="task-list-control"><input type="checkbox" disabled checked/><span class="task-list-indicator"></span></label> <strong>Signatures</strong></li>
</ul>
<div class="highlight"><pre><span></span><code><a id="__codelineno-28-1" name="__codelineno-28-1" href="#__codelineno-28-1"></a><span class="c1">// Use a json String</span>
<a id="__codelineno-28-2" name="__codelineno-28-2" href="#__codelineno-28-2"></a><span class="n">List</span><span class="o">&lt;</span><span class="n">JsonDocumentMutationResult</span><span class="o">&gt;</span><span class="w"> </span>
<a id="__codelineno-28-3" name="__codelineno-28-3" href="#__codelineno-28-3"></a><span class="w">   </span><span class="nf">insertMany</span><span class="p">(</span><span class="n">String</span><span class="w"> </span><span class="n">json</span><span class="p">);</span>
<a id="__codelineno-28-4" name="__codelineno-28-4" href="#__codelineno-28-4"></a><span class="n">CompletableFuture</span><span class="o">&lt;</span><span class="n">List</span><span class="o">&lt;</span><span class="n">JsonDocumentMutationResult</span><span class="o">&gt;&gt;</span><span class="w"> </span>
<a id="__codelineno-28-5" name="__codelineno-28-5" href="#__codelineno-28-5"></a><span class="w">   </span><span class="nf">insertManyASync</span><span class="p">(</span><span class="n">String</span><span class="w"> </span><span class="n">json</span><span class="p">);</span>
<a id="__codelineno-28-6" name="__codelineno-28-6" href="#__codelineno-28-6"></a>
<a id="__codelineno-28-7" name="__codelineno-28-7" href="#__codelineno-28-7"></a><span class="c1">// Use an Array of JsonDocuments</span>
<a id="__codelineno-28-8" name="__codelineno-28-8" href="#__codelineno-28-8"></a><span class="n">List</span><span class="o">&lt;</span><span class="n">JsonDocumentMutationResult</span><span class="o">&gt;</span>
<a id="__codelineno-28-9" name="__codelineno-28-9" href="#__codelineno-28-9"></a><span class="w">   </span><span class="nf">insertMany</span><span class="p">(</span><span class="n">JsonDocument</span><span class="p">...</span><span class="w"> </span><span class="n">documents</span><span class="p">);</span>
<a id="__codelineno-28-10" name="__codelineno-28-10" href="#__codelineno-28-10"></a><span class="n">CompletableFuture</span><span class="o">&lt;</span><span class="n">List</span><span class="o">&lt;</span><span class="n">JsonDocumentMutationResult</span><span class="o">&gt;&gt;</span>
<a id="__codelineno-28-11" name="__codelineno-28-11" href="#__codelineno-28-11"></a><span class="w">   </span><span class="nf">insertManyASync</span><span class="p">(</span><span class="n">JsonDocument</span><span class="p">...</span><span class="w"> </span><span class="n">documents</span><span class="p">);</span>
<a id="__codelineno-28-12" name="__codelineno-28-12" href="#__codelineno-28-12"></a>
<a id="__codelineno-28-13" name="__codelineno-28-13" href="#__codelineno-28-13"></a><span class="c1">// Use a list of JsonDocument</span>
<a id="__codelineno-28-14" name="__codelineno-28-14" href="#__codelineno-28-14"></a><span class="n">List</span><span class="o">&lt;</span><span class="n">JsonDocumentMutationResult</span><span class="o">&gt;</span><span class="w"> </span>
<a id="__codelineno-28-15" name="__codelineno-28-15" href="#__codelineno-28-15"></a><span class="w">   </span><span class="nf">insertManyJsonDocuments</span><span class="p">(</span><span class="n">List</span><span class="o">&lt;</span><span class="n">JsonDocument</span><span class="o">&gt;</span><span class="w"> </span><span class="n">documents</span><span class="p">);</span>
<a id="__codelineno-28-16" name="__codelineno-28-16" href="#__codelineno-28-16"></a><span class="n">CompletableFuture</span><span class="o">&lt;</span><span class="n">List</span><span class="o">&lt;</span><span class="n">JsonDocumentMutationResult</span><span class="o">&gt;&gt;</span><span class="w"> </span>
<a id="__codelineno-28-17" name="__codelineno-28-17" href="#__codelineno-28-17"></a><span class="w">   </span><span class="nf">insertManyJsonDocumentsASync</span><span class="p">(</span><span class="n">List</span><span class="o">&lt;</span><span class="n">JsonDocument</span><span class="o">&gt;</span><span class="w"> </span><span class="n">documents</span><span class="p">);</span>
<a id="__codelineno-28-18" name="__codelineno-28-18" href="#__codelineno-28-18"></a>
<a id="__codelineno-28-19" name="__codelineno-28-19" href="#__codelineno-28-19"></a><span class="c1">// Use an Array of Document&lt;T&gt;</span>
<a id="__codelineno-28-20" name="__codelineno-28-20" href="#__codelineno-28-20"></a><span class="n">List</span><span class="o">&lt;</span><span class="n">DocumentMutationResult</span><span class="o">&lt;</span><span class="n">DOC</span><span class="o">&gt;&gt;</span><span class="w"> </span>
<a id="__codelineno-28-21" name="__codelineno-28-21" href="#__codelineno-28-21"></a><span class="w">   </span><span class="nf">insertMany</span><span class="p">(</span><span class="n">Document</span><span class="o">&lt;</span><span class="n">DOC</span><span class="o">&gt;</span><span class="p">...</span><span class="w"> </span><span class="n">documents</span><span class="p">);</span>
<a id="__codelineno-28-22" name="__codelineno-28-22" href="#__codelineno-28-22"></a><span class="n">CompletableFuture</span><span class="o">&lt;</span><span class="n">List</span><span class="o">&lt;</span><span class="n">DocumentMutationResult</span><span class="o">&lt;</span><span class="n">DOC</span><span class="o">&gt;&gt;&gt;</span>
<a id="__codelineno-28-23" name="__codelineno-28-23" href="#__codelineno-28-23"></a><span class="w">   </span><span class="nf">insertManyASync</span><span class="p">(</span><span class="n">Document</span><span class="o">&lt;</span><span class="n">DOC</span><span class="o">&gt;</span><span class="p">...</span><span class="w"> </span><span class="n">documents</span><span class="p">);</span>
<a id="__codelineno-28-24" name="__codelineno-28-24" href="#__codelineno-28-24"></a>
<a id="__codelineno-28-25" name="__codelineno-28-25" href="#__codelineno-28-25"></a><span class="c1">// Use a list of Document&lt;T&gt;</span>
<a id="__codelineno-28-26" name="__codelineno-28-26" href="#__codelineno-28-26"></a><span class="n">List</span><span class="o">&lt;</span><span class="n">DocumentMutationResult</span><span class="o">&lt;</span><span class="n">DOC</span><span class="o">&gt;&gt;</span><span class="w"> </span>
<a id="__codelineno-28-27" name="__codelineno-28-27" href="#__codelineno-28-27"></a><span class="w">   </span><span class="nf">insertMany</span><span class="p">(</span><span class="n">List</span><span class="o">&lt;</span><span class="n">Document</span><span class="o">&lt;</span><span class="n">DOC</span><span class="o">&gt;&gt;</span><span class="w"> </span><span class="n">documents</span><span class="p">);</span>
<a id="__codelineno-28-28" name="__codelineno-28-28" href="#__codelineno-28-28"></a><span class="n">CompletableFuture</span><span class="o">&lt;</span><span class="n">List</span><span class="o">&lt;</span><span class="n">DocumentMutationResult</span><span class="o">&lt;</span><span class="n">DOC</span><span class="o">&gt;&gt;&gt;</span>
<a id="__codelineno-28-29" name="__codelineno-28-29" href="#__codelineno-28-29"></a><span class="w">    </span><span class="nf">insertManyASync</span><span class="p">(</span><span class="n">List</span><span class="o">&lt;</span><span class="n">Document</span><span class="o">&lt;</span><span class="n">DOC</span><span class="o">&gt;&gt;</span><span class="w"> </span><span class="n">documents</span><span class="p">);</span>
</code></pre></div>
<ul class="task-list">
<li class="task-list-item"><label class="task-list-control"><input type="checkbox" disabled checked/><span class="task-list-indicator"></span></label> <strong>Sample Code</strong></li>
</ul>
<div class="highlight"><table class="highlighttable"><tr><th colspan="2" class="filename"><span class="filename">InsertMany.java</span></th></tr><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-29-1"> 1</a></span>
<span class="normal"><a href="#__codelineno-29-2"> 2</a></span>
<span class="normal"><a href="#__codelineno-29-3"> 3</a></span>
<span class="normal"><a href="#__codelineno-29-4"> 4</a></span>
<span class="normal"><a href="#__codelineno-29-5"> 5</a></span>
<span class="normal"><a href="#__codelineno-29-6"> 6</a></span>
<span class="normal"><a href="#__codelineno-29-7"> 7</a></span>
<span class="normal"><a href="#__codelineno-29-8"> 8</a></span>
<span class="normal"><a href="#__codelineno-29-9"> 9</a></span>
<span class="normal"><a href="#__codelineno-29-10">10</a></span>
<span class="normal"><a href="#__codelineno-29-11">11</a></span>
<span class="normal"><a href="#__codelineno-29-12">12</a></span>
<span class="normal"><a href="#__codelineno-29-13">13</a></span>
<span class="normal"><a href="#__codelineno-29-14">14</a></span>
<span class="normal"><a href="#__codelineno-29-15">15</a></span>
<span class="normal"><a href="#__codelineno-29-16">16</a></span>
<span class="normal"><a href="#__codelineno-29-17">17</a></span>
<span class="normal"><a href="#__codelineno-29-18">18</a></span>
<span class="normal"><a href="#__codelineno-29-19">19</a></span>
<span class="normal"><a href="#__codelineno-29-20">20</a></span>
<span class="normal"><a href="#__codelineno-29-21">21</a></span>
<span class="normal"><a href="#__codelineno-29-22">22</a></span>
<span class="normal"><a href="#__codelineno-29-23">23</a></span>
<span class="normal"><a href="#__codelineno-29-24">24</a></span>
<span class="normal"><a href="#__codelineno-29-25">25</a></span>
<span class="normal"><a href="#__codelineno-29-26">26</a></span>
<span class="normal"><a href="#__codelineno-29-27">27</a></span>
<span class="normal"><a href="#__codelineno-29-28">28</a></span>
<span class="normal"><a href="#__codelineno-29-29">29</a></span>
<span class="normal"><a href="#__codelineno-29-30">30</a></span>
<span class="normal"><a href="#__codelineno-29-31">31</a></span>
<span class="normal"><a href="#__codelineno-29-32">32</a></span>
<span class="normal"><a href="#__codelineno-29-33">33</a></span>
<span class="normal"><a href="#__codelineno-29-34">34</a></span>
<span class="normal"><a href="#__codelineno-29-35">35</a></span>
<span class="normal"><a href="#__codelineno-29-36">36</a></span>
<span class="normal"><a href="#__codelineno-29-37">37</a></span>
<span class="normal"><a href="#__codelineno-29-38">38</a></span>
<span class="normal"><a href="#__codelineno-29-39">39</a></span></pre></div></td><td class="code"><div><pre><span></span><code><a id="__codelineno-29-1" name="__codelineno-29-1"></a><span class="kn">package</span><span class="w"> </span><span class="nn">com.dtsx.astra.sdk.documentation</span><span class="p">;</span>
<a id="__codelineno-29-2" name="__codelineno-29-2"></a>
<a id="__codelineno-29-3" name="__codelineno-29-3"></a><span class="kn">import</span><span class="w"> </span><span class="nn">com.dtsx.astra.sdk.AstraDB</span><span class="p">;</span>
<a id="__codelineno-29-4" name="__codelineno-29-4"></a><span class="kn">import</span><span class="w"> </span><span class="nn">com.dtsx.astra.sdk.AstraDBCollection</span><span class="p">;</span>
<a id="__codelineno-29-5" name="__codelineno-29-5"></a><span class="kn">import</span><span class="w"> </span><span class="nn">io.stargate.sdk.data.domain.JsonDocumentMutationResult</span><span class="p">;</span>
<a id="__codelineno-29-6" name="__codelineno-29-6"></a><span class="kn">import</span><span class="w"> </span><span class="nn">io.stargate.sdk.data.domain.JsonDocument</span><span class="p">;</span>
<a id="__codelineno-29-7" name="__codelineno-29-7"></a><span class="kn">import</span><span class="w"> </span><span class="nn">java.util.List</span><span class="p">;</span>
<a id="__codelineno-29-8" name="__codelineno-29-8"></a><span class="kn">import</span><span class="w"> </span><span class="nn">java.util.stream.Collectors</span><span class="p">;</span>
<a id="__codelineno-29-9" name="__codelineno-29-9"></a><span class="kn">import</span><span class="w"> </span><span class="nn">java.util.stream.IntStream</span><span class="p">;</span>
<a id="__codelineno-29-10" name="__codelineno-29-10"></a>
<a id="__codelineno-29-11" name="__codelineno-29-11"></a><span class="kd">public</span><span class="w"> </span><span class="kd">class</span> <span class="nc">InsertMany</span><span class="w"> </span><span class="p">{</span>
<a id="__codelineno-29-12" name="__codelineno-29-12"></a><span class="w">  </span><span class="kd">public</span><span class="w"> </span><span class="kd">static</span><span class="w"> </span><span class="kt">void</span><span class="w"> </span><span class="nf">main</span><span class="p">(</span><span class="n">String</span><span class="o">[]</span><span class="w"> </span><span class="n">args</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<a id="__codelineno-29-13" name="__codelineno-29-13"></a><span class="w">    </span><span class="n">AstraDB</span><span class="w"> </span><span class="n">db</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">new</span><span class="w"> </span><span class="n">AstraDB</span><span class="p">(</span><span class="s">&quot;TOKEN&quot;</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;API_ENDPOINT&quot;</span><span class="p">);</span>
<a id="__codelineno-29-14" name="__codelineno-29-14"></a><span class="w">    </span><span class="n">AstraDBCollection</span><span class="w"> </span><span class="n">collection</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">db</span><span class="p">.</span><span class="na">createCollection</span><span class="p">(</span><span class="s">&quot;collection_vector1&quot;</span><span class="p">,</span><span class="mi">14</span><span class="p">);</span>
<a id="__codelineno-29-15" name="__codelineno-29-15"></a>
<a id="__codelineno-29-16" name="__codelineno-29-16"></a><span class="w">    </span><span class="c1">// Insert documents into the collection (IDs are generated automatically)</span>
<a id="__codelineno-29-17" name="__codelineno-29-17"></a><span class="w">    </span><span class="n">List</span><span class="o">&lt;</span><span class="n">JsonDocumentMutationResult</span><span class="o">&gt;</span><span class="w"> </span><span class="n">identifiers</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">collection</span><span class="p">.</span><span class="na">insertManyJsonDocuments</span><span class="p">(</span><span class="n">List</span><span class="p">.</span><span class="na">of</span><span class="p">(</span>
<a id="__codelineno-29-18" name="__codelineno-29-18"></a><span class="w">        </span><span class="k">new</span><span class="w"> </span><span class="n">JsonDocument</span><span class="p">()</span>
<a id="__codelineno-29-19" name="__codelineno-29-19"></a><span class="w">            </span><span class="p">.</span><span class="na">vector</span><span class="p">(</span><span class="k">new</span><span class="w"> </span><span class="kt">float</span><span class="o">[]</span><span class="p">{</span><span class="mf">1f</span><span class="p">,</span><span class="w"> </span><span class="mf">0f</span><span class="p">,</span><span class="w"> </span><span class="mf">1f</span><span class="p">,</span><span class="w"> </span><span class="mf">1f</span><span class="p">,</span><span class="w"> </span><span class="mf">.5f</span><span class="p">,</span><span class="w"> </span><span class="mf">1f</span><span class="p">,</span><span class="w"> </span><span class="mf">0f</span><span class="p">,</span><span class="w"> </span><span class="mf">0.3f</span><span class="p">,</span><span class="w"> </span><span class="mf">0f</span><span class="p">,</span><span class="w"> </span><span class="mf">0f</span><span class="p">,</span><span class="w"> </span><span class="mf">0f</span><span class="p">,</span><span class="w"> </span><span class="mf">0f</span><span class="p">,</span><span class="w"> </span><span class="mf">0f</span><span class="p">,</span><span class="w"> </span><span class="mf">0f</span><span class="p">})</span>
<a id="__codelineno-29-20" name="__codelineno-29-20"></a><span class="w">            </span><span class="p">.</span><span class="na">put</span><span class="p">(</span><span class="s">&quot;product_name&quot;</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;Yet another product&quot;</span><span class="p">)</span>
<a id="__codelineno-29-21" name="__codelineno-29-21"></a><span class="w">            </span><span class="p">.</span><span class="na">put</span><span class="p">(</span><span class="s">&quot;product_price&quot;</span><span class="p">,</span><span class="w"> </span><span class="mf">99.99</span><span class="p">),</span>
<a id="__codelineno-29-22" name="__codelineno-29-22"></a><span class="w">        </span><span class="k">new</span><span class="w"> </span><span class="n">JsonDocument</span><span class="p">()</span>
<a id="__codelineno-29-23" name="__codelineno-29-23"></a><span class="w">            </span><span class="p">.</span><span class="na">vector</span><span class="p">(</span><span class="k">new</span><span class="w"> </span><span class="kt">float</span><span class="o">[]</span><span class="p">{</span><span class="mf">1f</span><span class="p">,</span><span class="w"> </span><span class="mf">0f</span><span class="p">,</span><span class="w"> </span><span class="mf">1f</span><span class="p">,</span><span class="w"> </span><span class="mf">1f</span><span class="p">,</span><span class="w"> </span><span class="mf">.5f</span><span class="p">,</span><span class="w"> </span><span class="mf">1f</span><span class="p">,</span><span class="w"> </span><span class="mf">0f</span><span class="p">,</span><span class="w"> </span><span class="mf">0.3f</span><span class="p">,</span><span class="w"> </span><span class="mf">0f</span><span class="p">,</span><span class="w"> </span><span class="mf">0f</span><span class="p">,</span><span class="w"> </span><span class="mf">0f</span><span class="p">,</span><span class="w"> </span><span class="mf">0f</span><span class="p">,</span><span class="w"> </span><span class="mf">0f</span><span class="p">,</span><span class="w"> </span><span class="mf">0f</span><span class="p">})</span>
<a id="__codelineno-29-24" name="__codelineno-29-24"></a><span class="w">            </span><span class="p">.</span><span class="na">put</span><span class="p">(</span><span class="s">&quot;product_name&quot;</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;product3&quot;</span><span class="p">)</span>
<a id="__codelineno-29-25" name="__codelineno-29-25"></a><span class="w">            </span><span class="p">.</span><span class="na">put</span><span class="p">(</span><span class="s">&quot;product_price&quot;</span><span class="p">,</span><span class="w"> </span><span class="mf">99.99</span><span class="p">)));</span>
<a id="__codelineno-29-26" name="__codelineno-29-26"></a>
<a id="__codelineno-29-27" name="__codelineno-29-27"></a><span class="w">    </span><span class="c1">// Insert large collection of documents</span>
<a id="__codelineno-29-28" name="__codelineno-29-28"></a><span class="w">    </span><span class="n">List</span><span class="o">&lt;</span><span class="n">JsonDocument</span><span class="o">&gt;</span><span class="w"> </span><span class="n">largeList</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">IntStream</span>
<a id="__codelineno-29-29" name="__codelineno-29-29"></a><span class="w">             </span><span class="p">.</span><span class="na">rangeClosed</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span><span class="w"> </span><span class="mi">1000</span><span class="p">)</span>
<a id="__codelineno-29-30" name="__codelineno-29-30"></a><span class="w">             </span><span class="p">.</span><span class="na">mapToObj</span><span class="p">(</span><span class="n">id</span><span class="w"> </span><span class="o">-&gt;</span><span class="w"> </span><span class="k">new</span><span class="w"> </span><span class="n">JsonDocument</span><span class="p">()</span>
<a id="__codelineno-29-31" name="__codelineno-29-31"></a><span class="w">                     </span><span class="p">.</span><span class="na">id</span><span class="p">(</span><span class="n">String</span><span class="p">.</span><span class="na">valueOf</span><span class="p">(</span><span class="n">id</span><span class="p">))</span>
<a id="__codelineno-29-32" name="__codelineno-29-32"></a><span class="w">                     </span><span class="p">.</span><span class="na">put</span><span class="p">(</span><span class="s">&quot;sampleKey&quot;</span><span class="p">,</span><span class="w"> </span><span class="n">id</span><span class="p">))</span>
<a id="__codelineno-29-33" name="__codelineno-29-33"></a><span class="w">             </span><span class="p">.</span><span class="na">collect</span><span class="p">(</span><span class="n">Collectors</span><span class="p">.</span><span class="na">toList</span><span class="p">());</span>
<a id="__codelineno-29-34" name="__codelineno-29-34"></a><span class="w">    </span><span class="kt">int</span><span class="w"> </span><span class="n">chunkSize</span><span class="w">   </span><span class="o">=</span><span class="w"> </span><span class="mi">20</span><span class="p">;</span><span class="w">  </span><span class="c1">// In between 1 and 20</span>
<a id="__codelineno-29-35" name="__codelineno-29-35"></a><span class="w">    </span><span class="kt">int</span><span class="w"> </span><span class="n">threadCount</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">10</span><span class="p">;</span><span class="w">  </span><span class="c1">// How many chunks processed in parallel</span>
<a id="__codelineno-29-36" name="__codelineno-29-36"></a><span class="w">    </span><span class="n">List</span><span class="o">&lt;</span><span class="n">JsonDocumentMutationResult</span><span class="o">&gt;</span><span class="w"> </span><span class="n">result</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">collection</span>
<a id="__codelineno-29-37" name="__codelineno-29-37"></a><span class="w">            </span><span class="p">.</span><span class="na">insertManyChunkedJsonDocuments</span><span class="p">(</span><span class="n">largeList</span><span class="p">,</span><span class="w"> </span><span class="n">chunkSize</span><span class="p">,</span><span class="w"> </span><span class="n">threadCount</span><span class="p">);</span>
<a id="__codelineno-29-38" name="__codelineno-29-38"></a><span class="w">  </span><span class="p">}</span>
<a id="__codelineno-29-39" name="__codelineno-29-39"></a><span class="p">}</span>
</code></pre></div></td></tr></table></div>
<ul class="task-list">
<li class="task-list-item"><label class="task-list-control"><input type="checkbox" disabled checked/><span class="task-list-indicator"></span></label> <strong>Data API</strong></li>
</ul>
<p><em>Insert Many with ordered true</em>
<div class="highlight"><pre><span></span><code><a id="__codelineno-30-1" name="__codelineno-30-1" href="#__codelineno-30-1"></a><span class="p">{</span>
<a id="__codelineno-30-2" name="__codelineno-30-2" href="#__codelineno-30-2"></a><span class="w">  </span><span class="nt">&quot;insertMany&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
<a id="__codelineno-30-3" name="__codelineno-30-3" href="#__codelineno-30-3"></a><span class="w">    </span><span class="nt">&quot;options&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
<a id="__codelineno-30-4" name="__codelineno-30-4" href="#__codelineno-30-4"></a><span class="w">      </span><span class="nt">&quot;ordered&quot;</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span>
<a id="__codelineno-30-5" name="__codelineno-30-5" href="#__codelineno-30-5"></a><span class="w">    </span><span class="p">},</span>
<a id="__codelineno-30-6" name="__codelineno-30-6" href="#__codelineno-30-6"></a><span class="w">    </span><span class="nt">&quot;documents&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">[</span>
<a id="__codelineno-30-7" name="__codelineno-30-7" href="#__codelineno-30-7"></a><span class="w">      </span><span class="p">{</span>
<a id="__codelineno-30-8" name="__codelineno-30-8" href="#__codelineno-30-8"></a><span class="w">        </span><span class="nt">&quot;product_name&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;test1&quot;</span><span class="p">,</span>
<a id="__codelineno-30-9" name="__codelineno-30-9" href="#__codelineno-30-9"></a><span class="w">        </span><span class="nt">&quot;product_price&quot;</span><span class="p">:</span><span class="w"> </span><span class="mf">12.99</span><span class="p">,</span>
<a id="__codelineno-30-10" name="__codelineno-30-10" href="#__codelineno-30-10"></a><span class="w">        </span><span class="nt">&quot;_id&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;doc1&quot;</span>
<a id="__codelineno-30-11" name="__codelineno-30-11" href="#__codelineno-30-11"></a><span class="w">      </span><span class="p">},</span>
<a id="__codelineno-30-12" name="__codelineno-30-12" href="#__codelineno-30-12"></a><span class="w">      </span><span class="p">{</span>
<a id="__codelineno-30-13" name="__codelineno-30-13" href="#__codelineno-30-13"></a><span class="w">        </span><span class="nt">&quot;product_name&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;test2&quot;</span><span class="p">,</span>
<a id="__codelineno-30-14" name="__codelineno-30-14" href="#__codelineno-30-14"></a><span class="w">        </span><span class="nt">&quot;product_price&quot;</span><span class="p">:</span><span class="w"> </span><span class="mf">2.99</span><span class="p">,</span>
<a id="__codelineno-30-15" name="__codelineno-30-15" href="#__codelineno-30-15"></a><span class="w">        </span><span class="nt">&quot;_id&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;doc2&quot;</span>
<a id="__codelineno-30-16" name="__codelineno-30-16" href="#__codelineno-30-16"></a><span class="w">      </span><span class="p">}</span>
<a id="__codelineno-30-17" name="__codelineno-30-17" href="#__codelineno-30-17"></a><span class="w">    </span><span class="p">]</span>
<a id="__codelineno-30-18" name="__codelineno-30-18" href="#__codelineno-30-18"></a><span class="w">  </span><span class="p">}</span>
<a id="__codelineno-30-19" name="__codelineno-30-19" href="#__codelineno-30-19"></a><span class="p">}</span>
</code></pre></div></p>
<p><em>Insert Many with ordered false</em></p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-31-1" name="__codelineno-31-1" href="#__codelineno-31-1"></a><span class="p">{</span>
<a id="__codelineno-31-2" name="__codelineno-31-2" href="#__codelineno-31-2"></a><span class="w">  </span><span class="nt">&quot;insertMany&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
<a id="__codelineno-31-3" name="__codelineno-31-3" href="#__codelineno-31-3"></a><span class="w">    </span><span class="nt">&quot;options&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
<a id="__codelineno-31-4" name="__codelineno-31-4" href="#__codelineno-31-4"></a><span class="w">      </span><span class="nt">&quot;ordered&quot;</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span>
<a id="__codelineno-31-5" name="__codelineno-31-5" href="#__codelineno-31-5"></a><span class="w">    </span><span class="p">},</span>
<a id="__codelineno-31-6" name="__codelineno-31-6" href="#__codelineno-31-6"></a><span class="w">    </span><span class="nt">&quot;documents&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">[</span>
<a id="__codelineno-31-7" name="__codelineno-31-7" href="#__codelineno-31-7"></a><span class="w">      </span><span class="p">{</span>
<a id="__codelineno-31-8" name="__codelineno-31-8" href="#__codelineno-31-8"></a><span class="w">        </span><span class="nt">&quot;firstName&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;Lucas&quot;</span><span class="p">,</span>
<a id="__codelineno-31-9" name="__codelineno-31-9" href="#__codelineno-31-9"></a><span class="w">        </span><span class="nt">&quot;lastName&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;Hernandez&quot;</span><span class="p">,</span>
<a id="__codelineno-31-10" name="__codelineno-31-10" href="#__codelineno-31-10"></a><span class="w">        </span><span class="nt">&quot;_id&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;1&quot;</span>
<a id="__codelineno-31-11" name="__codelineno-31-11" href="#__codelineno-31-11"></a><span class="w">      </span><span class="p">},</span>
<a id="__codelineno-31-12" name="__codelineno-31-12" href="#__codelineno-31-12"></a><span class="w">      </span><span class="p">{</span>
<a id="__codelineno-31-13" name="__codelineno-31-13" href="#__codelineno-31-13"></a><span class="w">        </span><span class="nt">&quot;firstName&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;Antoine&quot;</span><span class="p">,</span>
<a id="__codelineno-31-14" name="__codelineno-31-14" href="#__codelineno-31-14"></a><span class="w">        </span><span class="nt">&quot;lastName&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;Griezmann&quot;</span><span class="p">,</span>
<a id="__codelineno-31-15" name="__codelineno-31-15" href="#__codelineno-31-15"></a><span class="w">        </span><span class="nt">&quot;_id&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;2&quot;</span>
<a id="__codelineno-31-16" name="__codelineno-31-16" href="#__codelineno-31-16"></a><span class="w">      </span><span class="p">},</span>
<a id="__codelineno-31-17" name="__codelineno-31-17" href="#__codelineno-31-17"></a><span class="w">      </span><span class="p">{</span>
<a id="__codelineno-31-18" name="__codelineno-31-18" href="#__codelineno-31-18"></a><span class="w">        </span><span class="nt">&quot;firstName&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;N&#39;Golo&quot;</span><span class="p">,</span>
<a id="__codelineno-31-19" name="__codelineno-31-19" href="#__codelineno-31-19"></a><span class="w">        </span><span class="nt">&quot;lastName&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;Kanté&quot;</span><span class="p">,</span>
<a id="__codelineno-31-20" name="__codelineno-31-20" href="#__codelineno-31-20"></a><span class="w">        </span><span class="nt">&quot;_id&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;3&quot;</span>
<a id="__codelineno-31-21" name="__codelineno-31-21" href="#__codelineno-31-21"></a><span class="w">      </span><span class="p">},</span>
<a id="__codelineno-31-22" name="__codelineno-31-22" href="#__codelineno-31-22"></a><span class="w">      </span><span class="p">{</span>
<a id="__codelineno-31-23" name="__codelineno-31-23" href="#__codelineno-31-23"></a><span class="w">        </span><span class="nt">&quot;firstName&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;Paul&quot;</span><span class="p">,</span>
<a id="__codelineno-31-24" name="__codelineno-31-24" href="#__codelineno-31-24"></a><span class="w">        </span><span class="nt">&quot;lastName&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;Pogba&quot;</span><span class="p">,</span>
<a id="__codelineno-31-25" name="__codelineno-31-25" href="#__codelineno-31-25"></a><span class="w">        </span><span class="nt">&quot;_id&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;4&quot;</span>
<a id="__codelineno-31-26" name="__codelineno-31-26" href="#__codelineno-31-26"></a><span class="w">      </span><span class="p">},</span>
<a id="__codelineno-31-27" name="__codelineno-31-27" href="#__codelineno-31-27"></a><span class="w">      </span><span class="p">{</span>
<a id="__codelineno-31-28" name="__codelineno-31-28" href="#__codelineno-31-28"></a><span class="w">        </span><span class="nt">&quot;firstName&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;Raphaël&quot;</span><span class="p">,</span>
<a id="__codelineno-31-29" name="__codelineno-31-29" href="#__codelineno-31-29"></a><span class="w">        </span><span class="nt">&quot;lastName&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;Varane&quot;</span><span class="p">,</span>
<a id="__codelineno-31-30" name="__codelineno-31-30" href="#__codelineno-31-30"></a><span class="w">        </span><span class="nt">&quot;_id&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;5&quot;</span>
<a id="__codelineno-31-31" name="__codelineno-31-31" href="#__codelineno-31-31"></a><span class="w">      </span><span class="p">},</span>
<a id="__codelineno-31-32" name="__codelineno-31-32" href="#__codelineno-31-32"></a><span class="w">      </span><span class="p">{</span>
<a id="__codelineno-31-33" name="__codelineno-31-33" href="#__codelineno-31-33"></a><span class="w">        </span><span class="nt">&quot;firstName&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;Hugo&quot;</span><span class="p">,</span>
<a id="__codelineno-31-34" name="__codelineno-31-34" href="#__codelineno-31-34"></a><span class="w">        </span><span class="nt">&quot;lastName&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;Lloris&quot;</span><span class="p">,</span>
<a id="__codelineno-31-35" name="__codelineno-31-35" href="#__codelineno-31-35"></a><span class="w">        </span><span class="nt">&quot;_id&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;6&quot;</span>
<a id="__codelineno-31-36" name="__codelineno-31-36" href="#__codelineno-31-36"></a><span class="w">      </span><span class="p">},</span>
<a id="__codelineno-31-37" name="__codelineno-31-37" href="#__codelineno-31-37"></a><span class="w">      </span><span class="p">{</span>
<a id="__codelineno-31-38" name="__codelineno-31-38" href="#__codelineno-31-38"></a><span class="w">        </span><span class="nt">&quot;firstName&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;Olivier&quot;</span><span class="p">,</span>
<a id="__codelineno-31-39" name="__codelineno-31-39" href="#__codelineno-31-39"></a><span class="w">        </span><span class="nt">&quot;lastName&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;Giroud&quot;</span><span class="p">,</span>
<a id="__codelineno-31-40" name="__codelineno-31-40" href="#__codelineno-31-40"></a><span class="w">        </span><span class="nt">&quot;_id&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;7&quot;</span>
<a id="__codelineno-31-41" name="__codelineno-31-41" href="#__codelineno-31-41"></a><span class="w">      </span><span class="p">},</span>
<a id="__codelineno-31-42" name="__codelineno-31-42" href="#__codelineno-31-42"></a><span class="w">      </span><span class="p">{</span>
<a id="__codelineno-31-43" name="__codelineno-31-43" href="#__codelineno-31-43"></a><span class="w">        </span><span class="nt">&quot;firstName&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;Benjamin&quot;</span><span class="p">,</span>
<a id="__codelineno-31-44" name="__codelineno-31-44" href="#__codelineno-31-44"></a><span class="w">        </span><span class="nt">&quot;lastName&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;Pavard&quot;</span><span class="p">,</span>
<a id="__codelineno-31-45" name="__codelineno-31-45" href="#__codelineno-31-45"></a><span class="w">        </span><span class="nt">&quot;_id&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;8&quot;</span>
<a id="__codelineno-31-46" name="__codelineno-31-46" href="#__codelineno-31-46"></a><span class="w">      </span><span class="p">},</span>
<a id="__codelineno-31-47" name="__codelineno-31-47" href="#__codelineno-31-47"></a><span class="w">      </span><span class="p">{</span>
<a id="__codelineno-31-48" name="__codelineno-31-48" href="#__codelineno-31-48"></a><span class="w">        </span><span class="nt">&quot;firstName&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;Kylian&quot;</span><span class="p">,</span>
<a id="__codelineno-31-49" name="__codelineno-31-49" href="#__codelineno-31-49"></a><span class="w">        </span><span class="nt">&quot;lastName&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;Mbappé&quot;</span><span class="p">,</span>
<a id="__codelineno-31-50" name="__codelineno-31-50" href="#__codelineno-31-50"></a><span class="w">        </span><span class="nt">&quot;_id&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;9&quot;</span>
<a id="__codelineno-31-51" name="__codelineno-31-51" href="#__codelineno-31-51"></a><span class="w">      </span><span class="p">}</span>
<a id="__codelineno-31-52" name="__codelineno-31-52" href="#__codelineno-31-52"></a><span class="w">    </span><span class="p">]</span>
<a id="__codelineno-31-53" name="__codelineno-31-53" href="#__codelineno-31-53"></a><span class="w">  </span><span class="p">}</span>
<a id="__codelineno-31-54" name="__codelineno-31-54" href="#__codelineno-31-54"></a><span class="p">}</span>
</code></pre></div>
<h4 id="insert-many-chunked">Insert Many Chunked<a class="headerlink" href="#insert-many-chunked" title="Permanent link">&para;</a></h4>
<ul class="task-list">
<li class="task-list-item"><label class="task-list-control"><input type="checkbox" disabled checked/><span class="task-list-indicator"></span></label> <strong>Signatures</strong></li>
</ul>
<div class="highlight"><pre><span></span><code><a id="__codelineno-32-1" name="__codelineno-32-1" href="#__codelineno-32-1"></a><span class="c1">// Insert a list of json documents</span>
<a id="__codelineno-32-2" name="__codelineno-32-2" href="#__codelineno-32-2"></a><span class="n">List</span><span class="o">&lt;</span><span class="n">JsonDocumentMutationResult</span><span class="o">&gt;</span><span class="w"> </span>
<a id="__codelineno-32-3" name="__codelineno-32-3" href="#__codelineno-32-3"></a><span class="w">  </span><span class="nf">insertManyChunkedJsonDocuments</span><span class="p">(</span><span class="n">List</span><span class="o">&lt;</span><span class="n">JsonDocument</span><span class="o">&gt;</span><span class="w"> </span><span class="n">documents</span><span class="p">,</span><span class="w"> </span><span class="kt">int</span><span class="w"> </span><span class="n">chunkSize</span><span class="p">,</span><span class="w"> </span><span class="kt">int</span><span class="w"> </span><span class="n">concurrency</span><span class="p">);</span>
<a id="__codelineno-32-4" name="__codelineno-32-4" href="#__codelineno-32-4"></a><span class="n">CompletableFuture</span><span class="o">&lt;</span><span class="n">List</span><span class="o">&lt;</span><span class="n">JsonDocumentMutationResult</span><span class="o">&gt;&gt;</span><span class="w"> </span>
<a id="__codelineno-32-5" name="__codelineno-32-5" href="#__codelineno-32-5"></a><span class="w">  </span><span class="nf">insertManyChunkedJsonDocumentsAsync</span><span class="p">(</span><span class="n">List</span><span class="o">&lt;</span><span class="n">JsonDocument</span><span class="o">&gt;</span><span class="w"> </span><span class="n">documents</span><span class="p">,</span><span class="w"> </span><span class="kt">int</span><span class="w"> </span><span class="n">chunkSize</span><span class="p">,</span><span class="w"> </span><span class="kt">int</span><span class="w"> </span><span class="n">concurrency</span><span class="p">);</span>
<a id="__codelineno-32-6" name="__codelineno-32-6" href="#__codelineno-32-6"></a>
<a id="__codelineno-32-7" name="__codelineno-32-7" href="#__codelineno-32-7"></a><span class="c1">// Insert a list of documents</span>
<a id="__codelineno-32-8" name="__codelineno-32-8" href="#__codelineno-32-8"></a><span class="n">List</span><span class="o">&lt;</span><span class="n">DocumentMutationResult</span><span class="o">&lt;</span><span class="n">DOC</span><span class="o">&gt;&gt;</span><span class="w"> </span>
<a id="__codelineno-32-9" name="__codelineno-32-9" href="#__codelineno-32-9"></a><span class="w">  </span><span class="nf">insertManyChunked</span><span class="p">(</span><span class="n">List</span><span class="o">&lt;</span><span class="n">Document</span><span class="o">&lt;</span><span class="n">DOC</span><span class="o">&gt;&gt;</span><span class="w"> </span><span class="n">documents</span><span class="p">,</span><span class="w"> </span><span class="kt">int</span><span class="w"> </span><span class="n">chunkSize</span><span class="p">,</span><span class="w"> </span><span class="kt">int</span><span class="w"> </span><span class="n">concurrency</span><span class="p">);</span>
<a id="__codelineno-32-10" name="__codelineno-32-10" href="#__codelineno-32-10"></a><span class="n">CompletableFuture</span><span class="o">&lt;</span><span class="n">List</span><span class="o">&lt;</span><span class="n">DocumentMutationResult</span><span class="o">&lt;</span><span class="n">DOC</span><span class="o">&gt;&gt;&gt;</span><span class="w"> </span>
<a id="__codelineno-32-11" name="__codelineno-32-11" href="#__codelineno-32-11"></a><span class="w">  </span><span class="nf">insertManyChunkedASync</span><span class="p">(</span><span class="n">List</span><span class="o">&lt;</span><span class="n">Document</span><span class="o">&lt;</span><span class="n">DOC</span><span class="o">&gt;&gt;</span><span class="w"> </span><span class="n">documents</span><span class="p">,</span><span class="w"> </span><span class="kt">int</span><span class="w"> </span><span class="n">chunkSize</span><span class="p">,</span><span class="w"> </span><span class="kt">int</span><span class="w"> </span><span class="n">concurrency</span><span class="p">);</span>
</code></pre></div>
<h4 id="upsert-many">Upsert Many<a class="headerlink" href="#upsert-many" title="Permanent link">&para;</a></h4>
<ul class="task-list">
<li class="task-list-item"><label class="task-list-control"><input type="checkbox" disabled checked/><span class="task-list-indicator"></span></label> <strong>Signatures</strong></li>
</ul>
<div class="highlight"><pre><span></span><code><a id="__codelineno-33-1" name="__codelineno-33-1" href="#__codelineno-33-1"></a><span class="c1">// Use a json String</span>
<a id="__codelineno-33-2" name="__codelineno-33-2" href="#__codelineno-33-2"></a><span class="n">List</span><span class="o">&lt;</span><span class="n">JsonDocumentMutationResult</span><span class="o">&gt;</span>
<a id="__codelineno-33-3" name="__codelineno-33-3" href="#__codelineno-33-3"></a><span class="w">   </span><span class="nf">upsertMany</span><span class="p">(</span><span class="n">String</span><span class="w"> </span><span class="n">json</span><span class="p">);</span>
<a id="__codelineno-33-4" name="__codelineno-33-4" href="#__codelineno-33-4"></a><span class="n">CompletableFuture</span><span class="o">&lt;</span><span class="n">List</span><span class="o">&lt;</span><span class="n">JsonDocumentMutationResult</span><span class="o">&gt;&gt;</span>
<a id="__codelineno-33-5" name="__codelineno-33-5" href="#__codelineno-33-5"></a><span class="w">   </span><span class="nf">upsertManyASync</span><span class="p">(</span><span class="n">String</span><span class="w"> </span><span class="n">json</span><span class="p">);</span>
<a id="__codelineno-33-6" name="__codelineno-33-6" href="#__codelineno-33-6"></a>
<a id="__codelineno-33-7" name="__codelineno-33-7" href="#__codelineno-33-7"></a><span class="c1">// Use a list of JsonDocument</span>
<a id="__codelineno-33-8" name="__codelineno-33-8" href="#__codelineno-33-8"></a><span class="n">List</span><span class="o">&lt;</span><span class="n">JsonDocumentMutationResult</span><span class="o">&gt;</span>
<a id="__codelineno-33-9" name="__codelineno-33-9" href="#__codelineno-33-9"></a><span class="w">   </span><span class="nf">upsertManyJsonDocuments</span><span class="p">(</span><span class="n">List</span><span class="o">&lt;</span><span class="n">JsonDocument</span><span class="o">&gt;</span><span class="w"> </span><span class="n">documents</span><span class="p">);</span>
<a id="__codelineno-33-10" name="__codelineno-33-10" href="#__codelineno-33-10"></a><span class="n">CompletableFuture</span><span class="o">&lt;</span><span class="n">List</span><span class="o">&lt;</span><span class="n">JsonDocumentMutationResult</span><span class="o">&gt;&gt;</span>
<a id="__codelineno-33-11" name="__codelineno-33-11" href="#__codelineno-33-11"></a><span class="w">   </span><span class="nf">upsertManyJsonDocumentsASync</span><span class="p">(</span><span class="n">List</span><span class="o">&lt;</span><span class="n">JsonDocument</span><span class="o">&gt;</span><span class="w"> </span><span class="n">documents</span><span class="p">);</span>
<a id="__codelineno-33-12" name="__codelineno-33-12" href="#__codelineno-33-12"></a>
<a id="__codelineno-33-13" name="__codelineno-33-13" href="#__codelineno-33-13"></a><span class="c1">// Use a list of Document&lt;T&gt;</span>
<a id="__codelineno-33-14" name="__codelineno-33-14" href="#__codelineno-33-14"></a><span class="n">List</span><span class="o">&lt;</span><span class="n">DocumentMutationResult</span><span class="o">&lt;</span><span class="n">DOC</span><span class="o">&gt;&gt;</span>
<a id="__codelineno-33-15" name="__codelineno-33-15" href="#__codelineno-33-15"></a><span class="w">   </span><span class="nf">upsertMany</span><span class="p">(</span><span class="n">List</span><span class="o">&lt;</span><span class="n">Document</span><span class="o">&lt;</span><span class="n">DOC</span><span class="o">&gt;&gt;</span><span class="w"> </span><span class="n">documents</span><span class="p">);</span>
<a id="__codelineno-33-16" name="__codelineno-33-16" href="#__codelineno-33-16"></a><span class="n">CompletableFuture</span><span class="o">&lt;</span><span class="n">List</span><span class="o">&lt;</span><span class="n">DocumentMutationResult</span><span class="o">&lt;</span><span class="n">DOC</span><span class="o">&gt;&gt;&gt;</span>
<a id="__codelineno-33-17" name="__codelineno-33-17" href="#__codelineno-33-17"></a><span class="w">   </span><span class="nf">upsertManyASync</span><span class="p">(</span><span class="n">List</span><span class="o">&lt;</span><span class="n">Document</span><span class="o">&lt;</span><span class="n">DOC</span><span class="o">&gt;&gt;</span><span class="w"> </span><span class="n">documents</span><span class="p">);</span>
</code></pre></div>
<h4 id="find-by-id">Find By Id<a class="headerlink" href="#find-by-id" title="Permanent link">&para;</a></h4>
<ul class="task-list">
<li class="task-list-item"><label class="task-list-control"><input type="checkbox" disabled checked/><span class="task-list-indicator"></span></label> <strong>Signatures</strong></li>
</ul>
<div class="highlight"><pre><span></span><code><a id="__codelineno-34-1" name="__codelineno-34-1" href="#__codelineno-34-1"></a><span class="n">Optional</span><span class="o">&lt;</span><span class="n">JsonDocumentResult</span><span class="o">&gt;</span><span class="w"> </span><span class="nf">findById</span><span class="p">(</span><span class="n">String</span><span class="w"> </span><span class="n">id</span><span class="p">);</span>
<a id="__codelineno-34-2" name="__codelineno-34-2" href="#__codelineno-34-2"></a><span class="n">Optional</span><span class="o">&lt;</span><span class="n">DocumentResult</span><span class="o">&lt;</span><span class="n">T</span><span class="o">&gt;&gt;</span><span class="w"> </span><span class="nf">findById</span><span class="p">(</span><span class="n">String</span><span class="w"> </span><span class="n">id</span><span class="p">,</span><span class="w"> </span><span class="n">Class</span><span class="o">&lt;</span><span class="n">T</span><span class="o">&gt;</span><span class="w"> </span><span class="n">bean</span><span class="p">);</span>
<a id="__codelineno-34-3" name="__codelineno-34-3" href="#__codelineno-34-3"></a><span class="n">Optional</span><span class="o">&lt;</span><span class="n">DocumentResult</span><span class="o">&lt;</span><span class="n">T</span><span class="o">&gt;&gt;</span><span class="w"> </span><span class="nf">findById</span><span class="p">(</span><span class="n">String</span><span class="w"> </span><span class="n">id</span><span class="p">,</span><span class="w"> </span><span class="n">DocumentResultMapper</span><span class="o">&lt;</span><span class="n">T</span><span class="o">&gt;</span><span class="w"> </span><span class="n">mapper</span><span class="p">);</span>
<a id="__codelineno-34-4" name="__codelineno-34-4" href="#__codelineno-34-4"></a><span class="kt">boolean</span><span class="w"> </span><span class="nf">isDocumentExists</span><span class="p">(</span><span class="n">String</span><span class="w"> </span><span class="n">id</span><span class="p">);</span>
</code></pre></div>
<ul class="task-list">
<li class="task-list-item"><label class="task-list-control"><input type="checkbox" disabled checked/><span class="task-list-indicator"></span></label> <strong>Sample Code</strong></li>
</ul>
<div class="highlight"><table class="highlighttable"><tr><th colspan="2" class="filename"><span class="filename">FindById.java</span></th></tr><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-35-1"> 1</a></span>
<span class="normal"><a href="#__codelineno-35-2"> 2</a></span>
<span class="normal"><a href="#__codelineno-35-3"> 3</a></span>
<span class="normal"><a href="#__codelineno-35-4"> 4</a></span>
<span class="normal"><a href="#__codelineno-35-5"> 5</a></span>
<span class="normal"><a href="#__codelineno-35-6"> 6</a></span>
<span class="normal"><a href="#__codelineno-35-7"> 7</a></span>
<span class="normal"><a href="#__codelineno-35-8"> 8</a></span>
<span class="normal"><a href="#__codelineno-35-9"> 9</a></span>
<span class="normal"><a href="#__codelineno-35-10">10</a></span>
<span class="normal"><a href="#__codelineno-35-11">11</a></span>
<span class="normal"><a href="#__codelineno-35-12">12</a></span>
<span class="normal"><a href="#__codelineno-35-13">13</a></span>
<span class="normal"><a href="#__codelineno-35-14">14</a></span>
<span class="normal"><a href="#__codelineno-35-15">15</a></span>
<span class="normal"><a href="#__codelineno-35-16">16</a></span>
<span class="normal"><a href="#__codelineno-35-17">17</a></span>
<span class="normal"><a href="#__codelineno-35-18">18</a></span>
<span class="normal"><a href="#__codelineno-35-19">19</a></span>
<span class="normal"><a href="#__codelineno-35-20">20</a></span>
<span class="normal"><a href="#__codelineno-35-21">21</a></span>
<span class="normal"><a href="#__codelineno-35-22">22</a></span>
<span class="normal"><a href="#__codelineno-35-23">23</a></span>
<span class="normal"><a href="#__codelineno-35-24">24</a></span>
<span class="normal"><a href="#__codelineno-35-25">25</a></span>
<span class="normal"><a href="#__codelineno-35-26">26</a></span>
<span class="normal"><a href="#__codelineno-35-27">27</a></span>
<span class="normal"><a href="#__codelineno-35-28">28</a></span>
<span class="normal"><a href="#__codelineno-35-29">29</a></span>
<span class="normal"><a href="#__codelineno-35-30">30</a></span>
<span class="normal"><a href="#__codelineno-35-31">31</a></span>
<span class="normal"><a href="#__codelineno-35-32">32</a></span>
<span class="normal"><a href="#__codelineno-35-33">33</a></span>
<span class="normal"><a href="#__codelineno-35-34">34</a></span>
<span class="normal"><a href="#__codelineno-35-35">35</a></span>
<span class="normal"><a href="#__codelineno-35-36">36</a></span>
<span class="normal"><a href="#__codelineno-35-37">37</a></span>
<span class="normal"><a href="#__codelineno-35-38">38</a></span>
<span class="normal"><a href="#__codelineno-35-39">39</a></span>
<span class="normal"><a href="#__codelineno-35-40">40</a></span>
<span class="normal"><a href="#__codelineno-35-41">41</a></span>
<span class="normal"><a href="#__codelineno-35-42">42</a></span></pre></div></td><td class="code"><div><pre><span></span><code><a id="__codelineno-35-1" name="__codelineno-35-1"></a><span class="kn">package</span><span class="w"> </span><span class="nn">com.dtsx.astra.sdk.documentation</span><span class="p">;</span>
<a id="__codelineno-35-2" name="__codelineno-35-2"></a>
<a id="__codelineno-35-3" name="__codelineno-35-3"></a><span class="kn">import</span><span class="w"> </span><span class="nn">com.dtsx.astra.sdk.AstraDB</span><span class="p">;</span>
<a id="__codelineno-35-4" name="__codelineno-35-4"></a><span class="kn">import</span><span class="w"> </span><span class="nn">com.dtsx.astra.sdk.AstraDBCollection</span><span class="p">;</span>
<a id="__codelineno-35-5" name="__codelineno-35-5"></a><span class="kn">import</span><span class="w"> </span><span class="nn">com.fasterxml.jackson.annotation.JsonProperty</span><span class="p">;</span>
<a id="__codelineno-35-6" name="__codelineno-35-6"></a><span class="kn">import</span><span class="w"> </span><span class="nn">io.stargate.sdk.data.domain.JsonDocumentResult</span><span class="p">;</span>
<a id="__codelineno-35-7" name="__codelineno-35-7"></a><span class="kn">import</span><span class="w"> </span><span class="nn">io.stargate.sdk.data.domain.odm.DocumentResult</span><span class="p">;</span>
<a id="__codelineno-35-8" name="__codelineno-35-8"></a><span class="kn">import</span><span class="w"> </span><span class="nn">java.util.Optional</span><span class="p">;</span>
<a id="__codelineno-35-9" name="__codelineno-35-9"></a>
<a id="__codelineno-35-10" name="__codelineno-35-10"></a><span class="kd">public</span><span class="w"> </span><span class="kd">class</span> <span class="nc">FindById</span><span class="w"> </span><span class="p">{</span>
<a id="__codelineno-35-11" name="__codelineno-35-11"></a><span class="w">  </span><span class="kd">public</span><span class="w"> </span><span class="kd">static</span><span class="w"> </span><span class="kt">void</span><span class="w"> </span><span class="nf">main</span><span class="p">(</span><span class="n">String</span><span class="o">[]</span><span class="w"> </span><span class="n">args</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<a id="__codelineno-35-12" name="__codelineno-35-12"></a><span class="w">    </span><span class="n">AstraDB</span><span class="w"> </span><span class="n">db</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">new</span><span class="w"> </span><span class="n">AstraDB</span><span class="p">(</span><span class="s">&quot;TOKEN&quot;</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;API_ENDPOINT&quot;</span><span class="p">);</span>
<a id="__codelineno-35-13" name="__codelineno-35-13"></a><span class="w">    </span><span class="n">AstraDBCollection</span><span class="w"> </span><span class="n">collection</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">db</span><span class="p">.</span><span class="na">collection</span><span class="p">(</span><span class="s">&quot;collection_vector1&quot;</span><span class="p">);</span>
<a id="__codelineno-35-14" name="__codelineno-35-14"></a>
<a id="__codelineno-35-15" name="__codelineno-35-15"></a><span class="w">    </span><span class="c1">// Fetch a document by ID and return it as JSON</span>
<a id="__codelineno-35-16" name="__codelineno-35-16"></a><span class="w">    </span><span class="n">Optional</span><span class="o">&lt;</span><span class="n">JsonDocumentResult</span><span class="o">&gt;</span><span class="w"> </span><span class="n">res</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">collection</span><span class="p">.</span><span class="na">findById</span><span class="p">(</span><span class="s">&quot;doc1&quot;</span><span class="p">);</span>
<a id="__codelineno-35-17" name="__codelineno-35-17"></a><span class="w">    </span><span class="n">res</span><span class="p">.</span><span class="na">ifPresent</span><span class="p">(</span><span class="n">jsonResult</span><span class="w"> </span><span class="o">-&gt;</span><span class="w"> </span><span class="n">System</span><span class="p">.</span><span class="na">out</span><span class="p">.</span><span class="na">println</span><span class="p">(</span><span class="n">jsonResult</span><span class="p">.</span><span class="na">getSimilarity</span><span class="p">()));</span>
<a id="__codelineno-35-18" name="__codelineno-35-18"></a>
<a id="__codelineno-35-19" name="__codelineno-35-19"></a><span class="w">    </span><span class="c1">// Fetch a document by ID and map it to an object with ResultMapper</span>
<a id="__codelineno-35-20" name="__codelineno-35-20"></a><span class="w">    </span><span class="n">Optional</span><span class="o">&lt;</span><span class="n">DocumentResult</span><span class="o">&lt;</span><span class="n">MyBean</span><span class="o">&gt;&gt;</span><span class="w"> </span><span class="n">res2</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">collection</span><span class="p">.</span><span class="na">findById</span><span class="p">(</span><span class="s">&quot;doc1&quot;</span><span class="p">,</span><span class="w"> </span><span class="n">record</span><span class="w"> </span><span class="o">-&gt;</span><span class="w"> </span><span class="p">{</span>
<a id="__codelineno-35-21" name="__codelineno-35-21"></a><span class="w">      </span><span class="n">MyBean</span><span class="w"> </span><span class="n">bean</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">new</span><span class="w"> </span><span class="n">MyBean</span><span class="p">(</span>
<a id="__codelineno-35-22" name="__codelineno-35-22"></a><span class="w">          </span><span class="p">(</span><span class="n">String</span><span class="p">)</span><span class="w"> </span><span class="n">record</span><span class="p">.</span><span class="na">getData</span><span class="p">().</span><span class="na">get</span><span class="p">(</span><span class="s">&quot;product_name&quot;</span><span class="p">),</span>
<a id="__codelineno-35-23" name="__codelineno-35-23"></a><span class="w">          </span><span class="p">(</span><span class="n">Double</span><span class="p">)</span><span class="w"> </span><span class="n">record</span><span class="p">.</span><span class="na">getData</span><span class="p">().</span><span class="na">get</span><span class="p">(</span><span class="s">&quot;product_price&quot;</span><span class="p">));</span>
<a id="__codelineno-35-24" name="__codelineno-35-24"></a><span class="w">      </span><span class="k">return</span><span class="w"> </span><span class="k">new</span><span class="w"> </span><span class="n">DocumentResult</span><span class="o">&lt;&gt;</span><span class="p">(</span><span class="n">record</span><span class="p">,</span><span class="w"> </span><span class="n">bean</span><span class="p">);</span>
<a id="__codelineno-35-25" name="__codelineno-35-25"></a><span class="w">    </span><span class="p">});</span>
<a id="__codelineno-35-26" name="__codelineno-35-26"></a>
<a id="__codelineno-35-27" name="__codelineno-35-27"></a><span class="w">    </span><span class="c1">// Fetch a document by ID and map it to a class</span>
<a id="__codelineno-35-28" name="__codelineno-35-28"></a><span class="w">    </span><span class="n">Optional</span><span class="o">&lt;</span><span class="n">DocumentResult</span><span class="o">&lt;</span><span class="n">MyBean</span><span class="o">&gt;&gt;</span><span class="w"> </span><span class="n">res3</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">collection</span><span class="p">.</span><span class="na">findById</span><span class="p">(</span><span class="s">&quot;doc1&quot;</span><span class="p">,</span><span class="w"> </span><span class="n">MyBean</span><span class="p">.</span><span class="na">class</span><span class="p">);</span>
<a id="__codelineno-35-29" name="__codelineno-35-29"></a>
<a id="__codelineno-35-30" name="__codelineno-35-30"></a><span class="w">    </span><span class="c1">// Check if a document exists</span>
<a id="__codelineno-35-31" name="__codelineno-35-31"></a><span class="w">    </span><span class="kt">boolean</span><span class="w"> </span><span class="n">exists</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">collection</span><span class="p">.</span><span class="na">isDocumentExists</span><span class="p">(</span><span class="s">&quot;doc1&quot;</span><span class="p">);</span>
<a id="__codelineno-35-32" name="__codelineno-35-32"></a><span class="w">  </span><span class="p">}</span>
<a id="__codelineno-35-33" name="__codelineno-35-33"></a>
<a id="__codelineno-35-34" name="__codelineno-35-34"></a><span class="w">  </span><span class="kd">public</span><span class="w"> </span><span class="kd">static</span><span class="w"> </span><span class="kd">class</span> <span class="nc">MyBean</span><span class="w"> </span><span class="p">{</span>
<a id="__codelineno-35-35" name="__codelineno-35-35"></a><span class="w">    </span><span class="nd">@JsonProperty</span><span class="p">(</span><span class="s">&quot;product_name&quot;</span><span class="p">)</span><span class="w"> </span><span class="n">String</span><span class="w"> </span><span class="n">name</span><span class="p">;</span>
<a id="__codelineno-35-36" name="__codelineno-35-36"></a><span class="w">    </span><span class="nd">@JsonProperty</span><span class="p">(</span><span class="s">&quot;product_price&quot;</span><span class="p">)</span><span class="w"> </span><span class="n">Double</span><span class="w"> </span><span class="n">price</span><span class="p">;</span>
<a id="__codelineno-35-37" name="__codelineno-35-37"></a><span class="w">    </span><span class="kd">public</span><span class="w"> </span><span class="nf">MyBean</span><span class="p">(</span><span class="n">String</span><span class="w"> </span><span class="n">name</span><span class="p">,</span><span class="w"> </span><span class="n">Double</span><span class="w"> </span><span class="n">price</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<a id="__codelineno-35-38" name="__codelineno-35-38"></a><span class="w">      </span><span class="k">this</span><span class="p">.</span><span class="na">name</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">name</span><span class="p">;</span>
<a id="__codelineno-35-39" name="__codelineno-35-39"></a><span class="w">      </span><span class="k">this</span><span class="p">.</span><span class="na">price</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">price</span><span class="p">;</span>
<a id="__codelineno-35-40" name="__codelineno-35-40"></a><span class="w">    </span><span class="p">}</span>
<a id="__codelineno-35-41" name="__codelineno-35-41"></a><span class="w">  </span><span class="p">}</span>
<a id="__codelineno-35-42" name="__codelineno-35-42"></a><span class="p">}</span>
</code></pre></div></td></tr></table></div>
<ul class="task-list">
<li class="task-list-item"><label class="task-list-control"><input type="checkbox" disabled checked/><span class="task-list-indicator"></span></label> <strong>Data API</strong></li>
</ul>
<div class="highlight"><pre><span></span><code><a id="__codelineno-36-1" name="__codelineno-36-1" href="#__codelineno-36-1"></a><span class="p">{</span>
<a id="__codelineno-36-2" name="__codelineno-36-2" href="#__codelineno-36-2"></a><span class="w">  </span><span class="nt">&quot;findOne&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
<a id="__codelineno-36-3" name="__codelineno-36-3" href="#__codelineno-36-3"></a><span class="w">    </span><span class="nt">&quot;filter&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
<a id="__codelineno-36-4" name="__codelineno-36-4" href="#__codelineno-36-4"></a><span class="w">      </span><span class="nt">&quot;_id&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;p1&quot;</span>
<a id="__codelineno-36-5" name="__codelineno-36-5" href="#__codelineno-36-5"></a><span class="w">    </span><span class="p">}</span>
<a id="__codelineno-36-6" name="__codelineno-36-6" href="#__codelineno-36-6"></a><span class="w">  </span><span class="p">}</span>
<a id="__codelineno-36-7" name="__codelineno-36-7" href="#__codelineno-36-7"></a><span class="p">}</span>
</code></pre></div>
<h4 id="find-by-vector">Find By Vector<a class="headerlink" href="#find-by-vector" title="Permanent link">&para;</a></h4>
<ul class="task-list">
<li class="task-list-item"><label class="task-list-control"><input type="checkbox" disabled checked/><span class="task-list-indicator"></span></label> <strong>Signatures</strong></li>
</ul>
<div class="highlight"><pre><span></span><code><a id="__codelineno-37-1" name="__codelineno-37-1" href="#__codelineno-37-1"></a><span class="n">Optional</span><span class="o">&lt;</span><span class="n">JsonDocumentResult</span><span class="o">&gt;</span><span class="w"> </span><span class="nf">findOneByVector</span><span class="p">(</span><span class="kt">float</span><span class="o">[]</span><span class="w"> </span><span class="n">vector</span><span class="p">);</span>
<a id="__codelineno-37-2" name="__codelineno-37-2" href="#__codelineno-37-2"></a><span class="n">Optional</span><span class="o">&lt;</span><span class="n">DocumentResult</span><span class="o">&lt;</span><span class="n">T</span><span class="o">&gt;&gt;</span><span class="w"> </span><span class="nf">findOneByVector</span><span class="p">(</span><span class="kt">float</span><span class="o">[]</span><span class="w"> </span><span class="n">vector</span><span class="p">,</span><span class="w"> </span><span class="n">Class</span><span class="o">&lt;</span><span class="n">T</span><span class="o">&gt;</span><span class="w"> </span><span class="n">bean</span><span class="p">);</span>
<a id="__codelineno-37-3" name="__codelineno-37-3" href="#__codelineno-37-3"></a><span class="n">Optional</span><span class="o">&lt;</span><span class="n">DocumentResult</span><span class="o">&lt;</span><span class="n">T</span><span class="o">&gt;&gt;</span><span class="w"> </span><span class="nf">findOneByVector</span><span class="p">(</span><span class="kt">float</span><span class="o">[]</span><span class="w"> </span><span class="n">vector</span><span class="p">,</span><span class="w"> </span><span class="n">DocumentResultMapper</span><span class="o">&lt;</span><span class="n">T</span><span class="o">&gt;</span><span class="w"> </span><span class="n">mapper</span><span class="p">);</span>
</code></pre></div>
<ul class="task-list">
<li class="task-list-item"><label class="task-list-control"><input type="checkbox" disabled checked/><span class="task-list-indicator"></span></label> <strong>Sample Code</strong></li>
</ul>
<div class="highlight"><table class="highlighttable"><tr><th colspan="2" class="filename"><span class="filename">FindByVector.java</span></th></tr><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-38-1"> 1</a></span>
<span class="normal"><a href="#__codelineno-38-2"> 2</a></span>
<span class="normal"><a href="#__codelineno-38-3"> 3</a></span>
<span class="normal"><a href="#__codelineno-38-4"> 4</a></span>
<span class="normal"><a href="#__codelineno-38-5"> 5</a></span>
<span class="normal"><a href="#__codelineno-38-6"> 6</a></span>
<span class="normal"><a href="#__codelineno-38-7"> 7</a></span>
<span class="normal"><a href="#__codelineno-38-8"> 8</a></span>
<span class="normal"><a href="#__codelineno-38-9"> 9</a></span>
<span class="normal"><a href="#__codelineno-38-10">10</a></span>
<span class="normal"><a href="#__codelineno-38-11">11</a></span>
<span class="normal"><a href="#__codelineno-38-12">12</a></span>
<span class="normal"><a href="#__codelineno-38-13">13</a></span>
<span class="normal"><a href="#__codelineno-38-14">14</a></span>
<span class="normal"><a href="#__codelineno-38-15">15</a></span>
<span class="normal"><a href="#__codelineno-38-16">16</a></span>
<span class="normal"><a href="#__codelineno-38-17">17</a></span>
<span class="normal"><a href="#__codelineno-38-18">18</a></span>
<span class="normal"><a href="#__codelineno-38-19">19</a></span>
<span class="normal"><a href="#__codelineno-38-20">20</a></span>
<span class="normal"><a href="#__codelineno-38-21">21</a></span>
<span class="normal"><a href="#__codelineno-38-22">22</a></span>
<span class="normal"><a href="#__codelineno-38-23">23</a></span>
<span class="normal"><a href="#__codelineno-38-24">24</a></span>
<span class="normal"><a href="#__codelineno-38-25">25</a></span>
<span class="normal"><a href="#__codelineno-38-26">26</a></span>
<span class="normal"><a href="#__codelineno-38-27">27</a></span>
<span class="normal"><a href="#__codelineno-38-28">28</a></span>
<span class="normal"><a href="#__codelineno-38-29">29</a></span>
<span class="normal"><a href="#__codelineno-38-30">30</a></span>
<span class="normal"><a href="#__codelineno-38-31">31</a></span>
<span class="normal"><a href="#__codelineno-38-32">32</a></span>
<span class="normal"><a href="#__codelineno-38-33">33</a></span>
<span class="normal"><a href="#__codelineno-38-34">34</a></span>
<span class="normal"><a href="#__codelineno-38-35">35</a></span>
<span class="normal"><a href="#__codelineno-38-36">36</a></span>
<span class="normal"><a href="#__codelineno-38-37">37</a></span>
<span class="normal"><a href="#__codelineno-38-38">38</a></span>
<span class="normal"><a href="#__codelineno-38-39">39</a></span>
<span class="normal"><a href="#__codelineno-38-40">40</a></span>
<span class="normal"><a href="#__codelineno-38-41">41</a></span>
<span class="normal"><a href="#__codelineno-38-42">42</a></span>
<span class="normal"><a href="#__codelineno-38-43">43</a></span>
<span class="normal"><a href="#__codelineno-38-44">44</a></span>
<span class="normal"><a href="#__codelineno-38-45">45</a></span>
<span class="normal"><a href="#__codelineno-38-46">46</a></span></pre></div></td><td class="code"><div><pre><span></span><code><a id="__codelineno-38-1" name="__codelineno-38-1"></a><span class="kn">package</span><span class="w"> </span><span class="nn">com.dtsx.astra.sdk.documentation</span><span class="p">;</span>
<a id="__codelineno-38-2" name="__codelineno-38-2"></a>
<a id="__codelineno-38-3" name="__codelineno-38-3"></a><span class="kn">import</span><span class="w"> </span><span class="nn">com.dtsx.astra.sdk.AstraDB</span><span class="p">;</span>
<a id="__codelineno-38-4" name="__codelineno-38-4"></a><span class="kn">import</span><span class="w"> </span><span class="nn">com.dtsx.astra.sdk.AstraDBCollection</span><span class="p">;</span>
<a id="__codelineno-38-5" name="__codelineno-38-5"></a><span class="kn">import</span><span class="w"> </span><span class="nn">com.fasterxml.jackson.annotation.JsonProperty</span><span class="p">;</span>
<a id="__codelineno-38-6" name="__codelineno-38-6"></a><span class="kn">import</span><span class="w"> </span><span class="nn">io.stargate.sdk.data.domain.odm.DocumentResult</span><span class="p">;</span>
<a id="__codelineno-38-7" name="__codelineno-38-7"></a>
<a id="__codelineno-38-8" name="__codelineno-38-8"></a><span class="kn">import</span><span class="w"> </span><span class="nn">java.util.Optional</span><span class="p">;</span>
<a id="__codelineno-38-9" name="__codelineno-38-9"></a>
<a id="__codelineno-38-10" name="__codelineno-38-10"></a><span class="kd">public</span><span class="w"> </span><span class="kd">class</span> <span class="nc">FindByVector</span><span class="w"> </span><span class="p">{</span>
<a id="__codelineno-38-11" name="__codelineno-38-11"></a><span class="w">  </span><span class="kd">public</span><span class="w"> </span><span class="kd">static</span><span class="w"> </span><span class="kt">void</span><span class="w"> </span><span class="nf">main</span><span class="p">(</span><span class="n">String</span><span class="o">[]</span><span class="w"> </span><span class="n">args</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<a id="__codelineno-38-12" name="__codelineno-38-12"></a><span class="w">    </span><span class="n">AstraDB</span><span class="w"> </span><span class="n">db</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">new</span><span class="w"> </span><span class="n">AstraDB</span><span class="p">(</span><span class="s">&quot;TOKEN&quot;</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;API_ENDPOINT&quot;</span><span class="p">);</span>
<a id="__codelineno-38-13" name="__codelineno-38-13"></a><span class="w">    </span><span class="n">AstraDBCollection</span><span class="w"> </span><span class="n">collection</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">db</span><span class="p">.</span><span class="na">collection</span><span class="p">(</span><span class="s">&quot;collection_vector1&quot;</span><span class="p">);</span>
<a id="__codelineno-38-14" name="__codelineno-38-14"></a>
<a id="__codelineno-38-15" name="__codelineno-38-15"></a><span class="w">    </span><span class="c1">// Fetch a row by vector and return JSON</span>
<a id="__codelineno-38-16" name="__codelineno-38-16"></a><span class="w">    </span><span class="n">collection</span>
<a id="__codelineno-38-17" name="__codelineno-38-17"></a><span class="w">        </span><span class="p">.</span><span class="na">findOneByVector</span><span class="p">(</span><span class="k">new</span><span class="w"> </span><span class="kt">float</span><span class="o">[]</span><span class="p">{</span><span class="mf">1f</span><span class="p">,</span><span class="w"> </span><span class="mf">0f</span><span class="p">,</span><span class="w"> </span><span class="mf">1f</span><span class="p">,</span><span class="w"> </span><span class="mf">1f</span><span class="p">,</span><span class="w"> </span><span class="mf">1f</span><span class="p">,</span><span class="w"> </span><span class="mf">1f</span><span class="p">,</span><span class="w"> </span><span class="mf">0f</span><span class="p">,</span><span class="w"> </span><span class="mf">0f</span><span class="p">,</span><span class="w"> </span><span class="mf">0f</span><span class="p">,</span><span class="w"> </span><span class="mf">0f</span><span class="p">,</span><span class="w"> </span><span class="mf">0f</span><span class="p">,</span><span class="w"> </span><span class="mf">0f</span><span class="p">,</span><span class="w"> </span><span class="mf">0f</span><span class="p">,</span><span class="w"> </span><span class="mf">0f</span><span class="p">})</span>
<a id="__codelineno-38-18" name="__codelineno-38-18"></a><span class="w">        </span><span class="p">.</span><span class="na">ifPresent</span><span class="p">(</span><span class="n">jsonResult</span><span class="w"> </span><span class="o">-&gt;</span><span class="w"> </span><span class="n">System</span><span class="p">.</span><span class="na">out</span><span class="p">.</span><span class="na">println</span><span class="p">(</span><span class="n">jsonResult</span><span class="p">.</span><span class="na">getSimilarity</span><span class="p">()));</span>
<a id="__codelineno-38-19" name="__codelineno-38-19"></a>
<a id="__codelineno-38-20" name="__codelineno-38-20"></a><span class="w">    </span><span class="c1">// Fetch a row by ID and map it to an object with ResultMapper</span>
<a id="__codelineno-38-21" name="__codelineno-38-21"></a><span class="w">    </span><span class="n">Optional</span><span class="o">&lt;</span><span class="n">DocumentResult</span><span class="o">&lt;</span><span class="n">MyBean</span><span class="o">&gt;&gt;</span><span class="w"> </span><span class="n">res2</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">collection</span>
<a id="__codelineno-38-22" name="__codelineno-38-22"></a><span class="w">        </span><span class="p">.</span><span class="na">findOneByVector</span><span class="p">(</span>
<a id="__codelineno-38-23" name="__codelineno-38-23"></a><span class="w">            </span><span class="k">new</span><span class="w"> </span><span class="kt">float</span><span class="o">[]</span><span class="p">{</span><span class="mf">1f</span><span class="p">,</span><span class="w"> </span><span class="mf">0f</span><span class="p">,</span><span class="w"> </span><span class="mf">1f</span><span class="p">,</span><span class="w"> </span><span class="mf">1f</span><span class="p">,</span><span class="w"> </span><span class="mf">1f</span><span class="p">,</span><span class="w"> </span><span class="mf">1f</span><span class="p">,</span><span class="w"> </span><span class="mf">0f</span><span class="p">,</span><span class="w"> </span><span class="mf">0f</span><span class="p">,</span><span class="w"> </span><span class="mf">0f</span><span class="p">,</span><span class="w"> </span><span class="mf">0f</span><span class="p">,</span><span class="w"> </span><span class="mf">0f</span><span class="p">,</span><span class="w"> </span><span class="mf">0f</span><span class="p">,</span><span class="w"> </span><span class="mf">0f</span><span class="p">,</span><span class="w"> </span><span class="mf">0f</span><span class="p">},</span>
<a id="__codelineno-38-24" name="__codelineno-38-24"></a><span class="w">                </span><span class="kd">record</span> <span class="err">-&gt;</span> <span class="err">{</span>
<a id="__codelineno-38-25" name="__codelineno-38-25"></a>                    <span class="nc">MyBean</span><span class="w"> </span><span class="n">bean</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">new</span><span class="w"> </span><span class="n">MyBean</span><span class="p">(</span>
<a id="__codelineno-38-26" name="__codelineno-38-26"></a><span class="w">                        </span><span class="p">(</span><span class="n">String</span><span class="p">)</span><span class="n">record</span><span class="p">.</span><span class="na">getData</span><span class="p">().</span><span class="na">get</span><span class="p">(</span><span class="s">&quot;product_name&quot;</span><span class="p">),</span>
<a id="__codelineno-38-27" name="__codelineno-38-27"></a><span class="w">                        </span><span class="p">(</span><span class="n">Double</span><span class="p">)</span><span class="n">record</span><span class="p">.</span><span class="na">getData</span><span class="p">().</span><span class="na">get</span><span class="p">(</span><span class="s">&quot;product_price&quot;</span><span class="p">));</span>
<a id="__codelineno-38-28" name="__codelineno-38-28"></a><span class="w">                    </span><span class="k">return</span><span class="w"> </span><span class="k">new</span><span class="w"> </span><span class="n">DocumentResult</span><span class="o">&lt;&gt;</span><span class="p">(</span><span class="n">record</span><span class="p">,</span><span class="w"> </span><span class="n">bean</span><span class="p">);</span>
<a id="__codelineno-38-29" name="__codelineno-38-29"></a><span class="w">                </span><span class="p">}</span>
<a id="__codelineno-38-30" name="__codelineno-38-30"></a><span class="w">        </span><span class="p">);</span>
<a id="__codelineno-38-31" name="__codelineno-38-31"></a>
<a id="__codelineno-38-32" name="__codelineno-38-32"></a><span class="w">    </span><span class="c1">// Fetch a row by ID and map the result to a class</span>
<a id="__codelineno-38-33" name="__codelineno-38-33"></a><span class="w">    </span><span class="n">Optional</span><span class="o">&lt;</span><span class="n">DocumentResult</span><span class="o">&lt;</span><span class="n">MyBean</span><span class="o">&gt;&gt;</span><span class="w"> </span><span class="n">res3</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">collection</span><span class="p">.</span><span class="na">findOneByVector</span><span class="p">(</span>
<a id="__codelineno-38-34" name="__codelineno-38-34"></a><span class="w">        </span><span class="k">new</span><span class="w"> </span><span class="kt">float</span><span class="o">[]</span><span class="p">{</span><span class="mf">1f</span><span class="p">,</span><span class="w"> </span><span class="mf">0f</span><span class="p">,</span><span class="w"> </span><span class="mf">1f</span><span class="p">,</span><span class="w"> </span><span class="mf">1f</span><span class="p">,</span><span class="w"> </span><span class="mf">1f</span><span class="p">,</span><span class="w"> </span><span class="mf">1f</span><span class="p">,</span><span class="w"> </span><span class="mf">0f</span><span class="p">,</span><span class="w"> </span><span class="mf">0f</span><span class="p">,</span><span class="w"> </span><span class="mf">0f</span><span class="p">,</span><span class="w"> </span><span class="mf">0f</span><span class="p">,</span><span class="w"> </span><span class="mf">0f</span><span class="p">,</span><span class="w"> </span><span class="mf">0f</span><span class="p">,</span><span class="w"> </span><span class="mf">0f</span><span class="p">,</span><span class="w"> </span><span class="mf">0f</span><span class="p">},</span>
<a id="__codelineno-38-35" name="__codelineno-38-35"></a><span class="w">        </span><span class="n">MyBean</span><span class="p">.</span><span class="na">class</span><span class="p">);</span>
<a id="__codelineno-38-36" name="__codelineno-38-36"></a><span class="w">  </span><span class="p">}</span>
<a id="__codelineno-38-37" name="__codelineno-38-37"></a>
<a id="__codelineno-38-38" name="__codelineno-38-38"></a><span class="w">  </span><span class="kd">public</span><span class="w"> </span><span class="kd">static</span><span class="w"> </span><span class="kd">class</span> <span class="nc">MyBean</span><span class="w"> </span><span class="p">{</span>
<a id="__codelineno-38-39" name="__codelineno-38-39"></a><span class="w">    </span><span class="nd">@JsonProperty</span><span class="p">(</span><span class="s">&quot;product_name&quot;</span><span class="p">)</span><span class="w"> </span><span class="n">String</span><span class="w"> </span><span class="n">name</span><span class="p">;</span>
<a id="__codelineno-38-40" name="__codelineno-38-40"></a><span class="w">    </span><span class="nd">@JsonProperty</span><span class="p">(</span><span class="s">&quot;product_price&quot;</span><span class="p">)</span><span class="w"> </span><span class="n">Double</span><span class="w"> </span><span class="n">price</span><span class="p">;</span>
<a id="__codelineno-38-41" name="__codelineno-38-41"></a><span class="w">    </span><span class="kd">public</span><span class="w"> </span><span class="nf">MyBean</span><span class="p">(</span><span class="n">String</span><span class="w"> </span><span class="n">name</span><span class="p">,</span><span class="w"> </span><span class="n">Double</span><span class="w"> </span><span class="n">price</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<a id="__codelineno-38-42" name="__codelineno-38-42"></a><span class="w">      </span><span class="k">this</span><span class="p">.</span><span class="na">name</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">name</span><span class="p">;</span>
<a id="__codelineno-38-43" name="__codelineno-38-43"></a><span class="w">      </span><span class="k">this</span><span class="p">.</span><span class="na">price</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">price</span><span class="p">;</span>
<a id="__codelineno-38-44" name="__codelineno-38-44"></a><span class="w">    </span><span class="p">}</span>
<a id="__codelineno-38-45" name="__codelineno-38-45"></a><span class="w">  </span><span class="p">}</span>
<a id="__codelineno-38-46" name="__codelineno-38-46"></a><span class="p">}</span>
</code></pre></div></td></tr></table></div>
<h4 id="find-one">Find One<a class="headerlink" href="#find-one" title="Permanent link">&para;</a></h4>
<details class="info annotate" open="open">
<summary>Introducing <code>SelectQuery</code></summary>
<p>Under the hood every search against the REST Api is done by providing 4 parameters:</p>
<ul>
<li><strong><code>$filter</code></strong>: which are your criteria (where clause)</li>
<li><strong><code>$projection</code></strong>: which list the fields you want to retrieve (select)</li>
<li><strong><code>$sort</code></strong>: which order the results in memory (order by) or the vector search (order by ANN)</li>
<li><strong><code>$options</code></strong>: that will contains all information like paging, limit, etc.</li>
</ul>
<p>The <code>SelectQuery</code> class is a builder that will help you to build the query. It is a fluent API that will help you to build the query.</p>
</details>
<p>As for <code>findById</code> and <code>findByVector</code> there are 3 methods available to retrieve a document. If the <code>SelectQuery</code> has multiple
matches objects only the first will be returned. In doubt use <code>find()</code> or even better <code>findPage()</code> not to exhaust all the
collection.</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-39-1" name="__codelineno-39-1" href="#__codelineno-39-1"></a><span class="n">Optional</span><span class="o">&lt;</span><span class="n">JsonDocumentResult</span><span class="o">&gt;</span><span class="w"> </span><span class="nf">findOne</span><span class="p">(</span><span class="n">SelectQuery</span><span class="w"> </span><span class="n">query</span><span class="p">);</span>
<a id="__codelineno-39-2" name="__codelineno-39-2" href="#__codelineno-39-2"></a><span class="n">Optional</span><span class="o">&lt;</span><span class="n">DocumentResult</span><span class="o">&lt;</span><span class="n">DOC</span><span class="o">&gt;&gt;</span><span class="w"> </span><span class="nf">findOne</span><span class="p">(</span><span class="n">SelectQuery</span><span class="w"> </span><span class="n">query</span><span class="p">,</span><span class="w"> </span><span class="n">Class</span><span class="o">&lt;</span><span class="n">T</span><span class="o">&gt;</span><span class="w"> </span><span class="n">clazz</span><span class="p">);</span>
<a id="__codelineno-39-3" name="__codelineno-39-3" href="#__codelineno-39-3"></a><span class="n">Optional</span><span class="o">&lt;</span><span class="n">DocumentResult</span><span class="o">&lt;</span><span class="n">DOC</span><span class="o">&gt;&gt;</span><span class="w"> </span><span class="nf">findOne</span><span class="p">(</span><span class="n">SelectQuery</span><span class="w"> </span><span class="n">query</span><span class="p">,</span><span class="w"> </span><span class="n">ResultMapper</span><span class="o">&lt;</span><span class="n">T</span><span class="o">&gt;</span><span class="w"> </span><span class="n">mapper</span><span class="p">);</span>
</code></pre></div>
<p>Here is a sample class detailing the usage of the <code>findOne</code> method.</p>
<div class="highlight"><table class="highlighttable"><tr><th colspan="2" class="filename"><span class="filename">FindOne.java</span></th></tr><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-40-1"> 1</a></span>
<span class="normal"><a href="#__codelineno-40-2"> 2</a></span>
<span class="normal"><a href="#__codelineno-40-3"> 3</a></span>
<span class="normal"><a href="#__codelineno-40-4"> 4</a></span>
<span class="normal"><a href="#__codelineno-40-5"> 5</a></span>
<span class="normal"><a href="#__codelineno-40-6"> 6</a></span>
<span class="normal"><a href="#__codelineno-40-7"> 7</a></span>
<span class="normal"><a href="#__codelineno-40-8"> 8</a></span>
<span class="normal"><a href="#__codelineno-40-9"> 9</a></span>
<span class="normal"><a href="#__codelineno-40-10">10</a></span>
<span class="normal"><a href="#__codelineno-40-11">11</a></span>
<span class="normal"><a href="#__codelineno-40-12">12</a></span>
<span class="normal"><a href="#__codelineno-40-13">13</a></span>
<span class="normal"><a href="#__codelineno-40-14">14</a></span>
<span class="normal"><a href="#__codelineno-40-15">15</a></span>
<span class="normal"><a href="#__codelineno-40-16">16</a></span>
<span class="normal"><a href="#__codelineno-40-17">17</a></span>
<span class="normal"><a href="#__codelineno-40-18">18</a></span>
<span class="normal"><a href="#__codelineno-40-19">19</a></span>
<span class="normal"><a href="#__codelineno-40-20">20</a></span>
<span class="normal"><a href="#__codelineno-40-21">21</a></span>
<span class="normal"><a href="#__codelineno-40-22">22</a></span>
<span class="normal"><a href="#__codelineno-40-23">23</a></span>
<span class="normal"><a href="#__codelineno-40-24">24</a></span>
<span class="normal"><a href="#__codelineno-40-25">25</a></span>
<span class="normal"><a href="#__codelineno-40-26">26</a></span>
<span class="normal"><a href="#__codelineno-40-27">27</a></span>
<span class="normal"><a href="#__codelineno-40-28">28</a></span>
<span class="normal"><a href="#__codelineno-40-29">29</a></span>
<span class="normal"><a href="#__codelineno-40-30">30</a></span>
<span class="normal"><a href="#__codelineno-40-31">31</a></span>
<span class="normal"><a href="#__codelineno-40-32">32</a></span>
<span class="normal"><a href="#__codelineno-40-33">33</a></span>
<span class="normal"><a href="#__codelineno-40-34">34</a></span>
<span class="normal"><a href="#__codelineno-40-35">35</a></span>
<span class="normal"><a href="#__codelineno-40-36">36</a></span>
<span class="normal"><a href="#__codelineno-40-37">37</a></span>
<span class="normal"><a href="#__codelineno-40-38">38</a></span>
<span class="normal"><a href="#__codelineno-40-39">39</a></span>
<span class="normal"><a href="#__codelineno-40-40">40</a></span>
<span class="normal"><a href="#__codelineno-40-41">41</a></span>
<span class="normal"><a href="#__codelineno-40-42">42</a></span>
<span class="normal"><a href="#__codelineno-40-43">43</a></span>
<span class="normal"><a href="#__codelineno-40-44">44</a></span>
<span class="normal"><a href="#__codelineno-40-45">45</a></span>
<span class="normal"><a href="#__codelineno-40-46">46</a></span>
<span class="normal"><a href="#__codelineno-40-47">47</a></span>
<span class="normal"><a href="#__codelineno-40-48">48</a></span>
<span class="normal"><a href="#__codelineno-40-49">49</a></span>
<span class="normal"><a href="#__codelineno-40-50">50</a></span>
<span class="normal"><a href="#__codelineno-40-51">51</a></span>
<span class="normal"><a href="#__codelineno-40-52">52</a></span>
<span class="normal"><a href="#__codelineno-40-53">53</a></span>
<span class="normal"><a href="#__codelineno-40-54">54</a></span>
<span class="normal"><a href="#__codelineno-40-55">55</a></span>
<span class="normal"><a href="#__codelineno-40-56">56</a></span>
<span class="normal"><a href="#__codelineno-40-57">57</a></span>
<span class="normal"><a href="#__codelineno-40-58">58</a></span>
<span class="normal"><a href="#__codelineno-40-59">59</a></span>
<span class="normal"><a href="#__codelineno-40-60">60</a></span>
<span class="normal"><a href="#__codelineno-40-61">61</a></span>
<span class="normal"><a href="#__codelineno-40-62">62</a></span>
<span class="normal"><a href="#__codelineno-40-63">63</a></span>
<span class="normal"><a href="#__codelineno-40-64">64</a></span>
<span class="normal"><a href="#__codelineno-40-65">65</a></span>
<span class="normal"><a href="#__codelineno-40-66">66</a></span>
<span class="normal"><a href="#__codelineno-40-67">67</a></span>
<span class="normal"><a href="#__codelineno-40-68">68</a></span>
<span class="normal"><a href="#__codelineno-40-69">69</a></span>
<span class="normal"><a href="#__codelineno-40-70">70</a></span>
<span class="normal"><a href="#__codelineno-40-71">71</a></span>
<span class="normal"><a href="#__codelineno-40-72">72</a></span>
<span class="normal"><a href="#__codelineno-40-73">73</a></span>
<span class="normal"><a href="#__codelineno-40-74">74</a></span>
<span class="normal"><a href="#__codelineno-40-75">75</a></span></pre></div></td><td class="code"><div><pre><span></span><code><a id="__codelineno-40-1" name="__codelineno-40-1"></a><span class="kn">package</span><span class="w"> </span><span class="nn">com.dtsx.astra.sdk.documentation</span><span class="p">;</span>
<a id="__codelineno-40-2" name="__codelineno-40-2"></a>
<a id="__codelineno-40-3" name="__codelineno-40-3"></a><span class="kn">import</span><span class="w"> </span><span class="nn">com.dtsx.astra.sdk.AstraDB</span><span class="p">;</span>
<a id="__codelineno-40-4" name="__codelineno-40-4"></a><span class="kn">import</span><span class="w"> </span><span class="nn">com.dtsx.astra.sdk.AstraDBCollection</span><span class="p">;</span>
<a id="__codelineno-40-5" name="__codelineno-40-5"></a><span class="kn">import</span><span class="w"> </span><span class="nn">io.stargate.sdk.data.domain.query.Filter</span><span class="p">;</span>
<a id="__codelineno-40-6" name="__codelineno-40-6"></a><span class="kn">import</span><span class="w"> </span><span class="nn">io.stargate.sdk.data.domain.query.SelectQuery</span><span class="p">;</span>
<a id="__codelineno-40-7" name="__codelineno-40-7"></a><span class="kn">import</span><span class="w"> </span><span class="nn">java.util.ArrayList</span><span class="p">;</span>
<a id="__codelineno-40-8" name="__codelineno-40-8"></a><span class="kn">import</span><span class="w"> </span><span class="nn">java.util.HashMap</span><span class="p">;</span>
<a id="__codelineno-40-9" name="__codelineno-40-9"></a><span class="kn">import</span><span class="w"> </span><span class="nn">java.util.List</span><span class="p">;</span>
<a id="__codelineno-40-10" name="__codelineno-40-10"></a><span class="kn">import</span><span class="w"> </span><span class="nn">java.util.Map</span><span class="p">;</span>
<a id="__codelineno-40-11" name="__codelineno-40-11"></a>
<a id="__codelineno-40-12" name="__codelineno-40-12"></a><span class="kn">import static</span><span class="w"> </span><span class="nn">io.stargate.sdk.http.domain.FilterOperator.EQUALS_TO</span><span class="p">;</span>
<a id="__codelineno-40-13" name="__codelineno-40-13"></a><span class="kn">import static</span><span class="w"> </span><span class="nn">io.stargate.sdk.http.domain.FilterOperator.EXISTS</span><span class="p">;</span>
<a id="__codelineno-40-14" name="__codelineno-40-14"></a><span class="kn">import static</span><span class="w"> </span><span class="nn">io.stargate.sdk.http.domain.FilterOperator.GREATER_THAN</span><span class="p">;</span>
<a id="__codelineno-40-15" name="__codelineno-40-15"></a><span class="kn">import static</span><span class="w"> </span><span class="nn">io.stargate.sdk.http.domain.FilterOperator.GREATER_THAN_OR_EQUALS_TO</span><span class="p">;</span>
<a id="__codelineno-40-16" name="__codelineno-40-16"></a><span class="kn">import static</span><span class="w"> </span><span class="nn">io.stargate.sdk.http.domain.FilterOperator.LESS_THAN</span><span class="p">;</span>
<a id="__codelineno-40-17" name="__codelineno-40-17"></a>
<a id="__codelineno-40-18" name="__codelineno-40-18"></a><span class="kd">public</span><span class="w"> </span><span class="kd">class</span> <span class="nc">FindOne</span><span class="w"> </span><span class="p">{</span>
<a id="__codelineno-40-19" name="__codelineno-40-19"></a><span class="w">  </span><span class="kd">public</span><span class="w"> </span><span class="kd">static</span><span class="w"> </span><span class="kt">void</span><span class="w"> </span><span class="nf">main</span><span class="p">(</span><span class="n">String</span><span class="o">[]</span><span class="w"> </span><span class="n">args</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<a id="__codelineno-40-20" name="__codelineno-40-20"></a><span class="w">    </span><span class="n">AstraDB</span><span class="w"> </span><span class="n">db</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">new</span><span class="w"> </span><span class="n">AstraDB</span><span class="p">(</span><span class="s">&quot;TOKEN&quot;</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;API_ENDPOINT&quot;</span><span class="p">);</span>
<a id="__codelineno-40-21" name="__codelineno-40-21"></a><span class="w">    </span><span class="n">AstraDBCollection</span><span class="w"> </span><span class="n">collection</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">db</span><span class="p">.</span><span class="na">createCollection</span><span class="p">(</span><span class="s">&quot;collection_vector1&quot;</span><span class="p">,</span><span class="w"> </span><span class="mi">14</span><span class="p">);</span>
<a id="__codelineno-40-22" name="__codelineno-40-22"></a>
<a id="__codelineno-40-23" name="__codelineno-40-23"></a><span class="w">    </span><span class="c1">// Retrieve the first document where product_price exists</span>
<a id="__codelineno-40-24" name="__codelineno-40-24"></a><span class="w">    </span><span class="n">Filter</span><span class="w"> </span><span class="n">filter</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">new</span><span class="w"> </span><span class="n">Filter</span><span class="p">()</span>
<a id="__codelineno-40-25" name="__codelineno-40-25"></a><span class="w">            </span><span class="p">.</span><span class="na">where</span><span class="p">(</span><span class="s">&quot;product_price&quot;</span><span class="p">)</span>
<a id="__codelineno-40-26" name="__codelineno-40-26"></a><span class="w">            </span><span class="p">.</span><span class="na">exists</span><span class="p">();</span>
<a id="__codelineno-40-27" name="__codelineno-40-27"></a><span class="w">    </span><span class="n">collection</span><span class="p">.</span><span class="na">findOne</span><span class="p">(</span><span class="n">SelectQuery</span><span class="p">.</span><span class="na">builder</span><span class="p">()</span>
<a id="__codelineno-40-28" name="__codelineno-40-28"></a><span class="w">            </span><span class="p">.</span><span class="na">filter</span><span class="p">(</span><span class="n">filter</span><span class="p">).</span><span class="na">build</span><span class="p">())</span>
<a id="__codelineno-40-29" name="__codelineno-40-29"></a><span class="w">            </span><span class="p">.</span><span class="na">ifPresent</span><span class="p">(</span><span class="n">System</span><span class="p">.</span><span class="na">out</span><span class="p">::</span><span class="n">println</span><span class="p">);</span>
<a id="__codelineno-40-30" name="__codelineno-40-30"></a>
<a id="__codelineno-40-31" name="__codelineno-40-31"></a><span class="w">    </span><span class="c1">// Retrieve the first document where product_price is 12.99</span>
<a id="__codelineno-40-32" name="__codelineno-40-32"></a><span class="w">    </span><span class="n">Filter</span><span class="w"> </span><span class="n">filter2</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">new</span><span class="w"> </span><span class="n">Filter</span><span class="p">()</span>
<a id="__codelineno-40-33" name="__codelineno-40-33"></a><span class="w">            </span><span class="p">.</span><span class="na">where</span><span class="p">(</span><span class="s">&quot;product_price&quot;</span><span class="p">)</span>
<a id="__codelineno-40-34" name="__codelineno-40-34"></a><span class="w">            </span><span class="p">.</span><span class="na">isEqualsTo</span><span class="p">(</span><span class="mf">12.99</span><span class="p">);</span>
<a id="__codelineno-40-35" name="__codelineno-40-35"></a><span class="w">    </span><span class="n">collection</span><span class="p">.</span><span class="na">findOne</span><span class="p">(</span><span class="n">SelectQuery</span><span class="p">.</span><span class="na">builder</span><span class="p">()</span>
<a id="__codelineno-40-36" name="__codelineno-40-36"></a><span class="w">        </span><span class="p">.</span><span class="na">filter</span><span class="p">(</span><span class="n">filter2</span><span class="p">).</span><span class="na">build</span><span class="p">())</span>
<a id="__codelineno-40-37" name="__codelineno-40-37"></a><span class="w">    </span><span class="p">.</span><span class="na">ifPresent</span><span class="p">(</span><span class="n">System</span><span class="p">.</span><span class="na">out</span><span class="p">::</span><span class="n">println</span><span class="p">);</span>
<a id="__codelineno-40-38" name="__codelineno-40-38"></a>
<a id="__codelineno-40-39" name="__codelineno-40-39"></a><span class="w">    </span><span class="c1">// Send the request as a JSON String</span>
<a id="__codelineno-40-40" name="__codelineno-40-40"></a><span class="w">    </span><span class="n">collection</span><span class="p">.</span><span class="na">findOne</span><span class="p">(</span>
<a id="__codelineno-40-41" name="__codelineno-40-41"></a><span class="w">        </span><span class="s">&quot;{&quot;</span><span class="w"> </span><span class="o">+</span>
<a id="__codelineno-40-42" name="__codelineno-40-42"></a><span class="w">        </span><span class="s">&quot;\&quot;filter\&quot;:{&quot;</span><span class="w"> </span><span class="o">+</span>
<a id="__codelineno-40-43" name="__codelineno-40-43"></a><span class="w">        </span><span class="s">&quot;\&quot;product_price\&quot;:9.99,&quot;</span><span class="w"> </span><span class="o">+</span>
<a id="__codelineno-40-44" name="__codelineno-40-44"></a><span class="w">        </span><span class="s">&quot;\&quot;product_name\&quot;:\&quot;HealthyFresh - Chicken raw dog food\&quot;}&quot;</span><span class="w"> </span><span class="o">+</span>
<a id="__codelineno-40-45" name="__codelineno-40-45"></a><span class="w">        </span><span class="s">&quot;}&quot;</span><span class="p">)</span>
<a id="__codelineno-40-46" name="__codelineno-40-46"></a><span class="w">    </span><span class="p">.</span><span class="na">ifPresent</span><span class="p">(</span><span class="n">System</span><span class="p">.</span><span class="na">out</span><span class="p">::</span><span class="n">println</span><span class="p">);</span>
<a id="__codelineno-40-47" name="__codelineno-40-47"></a>
<a id="__codelineno-40-48" name="__codelineno-40-48"></a><span class="w">    </span><span class="c1">// Only retrieve the product_name and product_price fields</span>
<a id="__codelineno-40-49" name="__codelineno-40-49"></a><span class="w">    </span><span class="n">collection</span><span class="p">.</span><span class="na">findOne</span><span class="p">(</span><span class="n">SelectQuery</span><span class="p">.</span><span class="na">builder</span><span class="p">()</span>
<a id="__codelineno-40-50" name="__codelineno-40-50"></a><span class="w">        </span><span class="p">.</span><span class="na">select</span><span class="p">(</span><span class="s">&quot;product_name&quot;</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;product_price&quot;</span><span class="p">)</span>
<a id="__codelineno-40-51" name="__codelineno-40-51"></a><span class="w">        </span><span class="p">.</span><span class="na">filter</span><span class="p">(</span><span class="n">filter2</span><span class="p">)</span>
<a id="__codelineno-40-52" name="__codelineno-40-52"></a><span class="w">        </span><span class="p">.</span><span class="na">build</span><span class="p">())</span>
<a id="__codelineno-40-53" name="__codelineno-40-53"></a><span class="w">    </span><span class="p">.</span><span class="na">ifPresent</span><span class="p">(</span><span class="n">System</span><span class="p">.</span><span class="na">out</span><span class="p">::</span><span class="n">println</span><span class="p">);</span>
<a id="__codelineno-40-54" name="__codelineno-40-54"></a>
<a id="__codelineno-40-55" name="__codelineno-40-55"></a><span class="w">    </span><span class="c1">// Perform a similarity search</span>
<a id="__codelineno-40-56" name="__codelineno-40-56"></a><span class="w">    </span><span class="n">collection</span><span class="p">.</span><span class="na">findOne</span><span class="p">(</span><span class="n">SelectQuery</span><span class="p">.</span><span class="na">builder</span><span class="p">()</span>
<a id="__codelineno-40-57" name="__codelineno-40-57"></a><span class="w">        </span><span class="p">.</span><span class="na">filter</span><span class="p">(</span><span class="n">filter2</span><span class="p">)</span>
<a id="__codelineno-40-58" name="__codelineno-40-58"></a><span class="w">        </span><span class="p">.</span><span class="na">orderByAnn</span><span class="p">(</span><span class="k">new</span><span class="w"> </span><span class="kt">float</span><span class="o">[]</span><span class="p">{</span><span class="mf">1f</span><span class="p">,</span><span class="w"> </span><span class="mf">0f</span><span class="p">,</span><span class="w"> </span><span class="mf">1f</span><span class="p">,</span><span class="w"> </span><span class="mf">1f</span><span class="p">,</span><span class="w"> </span><span class="mf">1f</span><span class="p">,</span><span class="w"> </span><span class="mf">1f</span><span class="p">,</span><span class="w"> </span><span class="mf">0f</span><span class="p">,</span><span class="w"> </span><span class="mf">0f</span><span class="p">,</span><span class="w"> </span><span class="mf">0f</span><span class="p">,</span><span class="w"> </span><span class="mf">0f</span><span class="p">,</span><span class="w"> </span><span class="mf">0f</span><span class="p">,</span><span class="w"> </span><span class="mf">0f</span><span class="p">,</span><span class="w"> </span><span class="mf">0f</span><span class="p">,</span><span class="w"> </span><span class="mf">0f</span><span class="p">})</span>
<a id="__codelineno-40-59" name="__codelineno-40-59"></a><span class="w">        </span><span class="p">.</span><span class="na">build</span><span class="p">());</span>
<a id="__codelineno-40-60" name="__codelineno-40-60"></a>
<a id="__codelineno-40-61" name="__codelineno-40-61"></a><span class="w">    </span><span class="c1">// Perform a complex query with AND and OR</span>
<a id="__codelineno-40-62" name="__codelineno-40-62"></a><span class="w">    </span><span class="n">SelectQuery</span><span class="w"> </span><span class="n">sq2</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">new</span><span class="w"> </span><span class="n">SelectQuery</span><span class="p">();</span>
<a id="__codelineno-40-63" name="__codelineno-40-63"></a><span class="w">    </span><span class="n">Filter</span><span class="w"> </span><span class="n">yaFilter</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">new</span><span class="w"> </span><span class="n">Filter</span><span class="p">()</span>
<a id="__codelineno-40-64" name="__codelineno-40-64"></a><span class="w">            </span><span class="p">.</span><span class="na">and</span><span class="p">()</span>
<a id="__codelineno-40-65" name="__codelineno-40-65"></a><span class="w">              </span><span class="p">.</span><span class="na">or</span><span class="p">()</span>
<a id="__codelineno-40-66" name="__codelineno-40-66"></a><span class="w">                </span><span class="p">.</span><span class="na">where</span><span class="p">(</span><span class="s">&quot;product_price&quot;</span><span class="p">,</span><span class="w"> </span><span class="n">EQUALS_TO</span><span class="p">,</span><span class="w"> </span><span class="mf">9.99</span><span class="p">)</span>
<a id="__codelineno-40-67" name="__codelineno-40-67"></a><span class="w">                </span><span class="p">.</span><span class="na">where</span><span class="p">(</span><span class="s">&quot;product_name&quot;</span><span class="p">,</span><span class="w"> </span><span class="n">EQUALS_TO</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;HealthyFresh - Beef raw dog food&quot;</span><span class="p">)</span>
<a id="__codelineno-40-68" name="__codelineno-40-68"></a><span class="w">              </span><span class="p">.</span><span class="na">end</span><span class="p">()</span>
<a id="__codelineno-40-69" name="__codelineno-40-69"></a><span class="w">              </span><span class="p">.</span><span class="na">or</span><span class="p">()</span>
<a id="__codelineno-40-70" name="__codelineno-40-70"></a><span class="w">                </span><span class="p">.</span><span class="na">where</span><span class="p">(</span><span class="s">&quot;product_price&quot;</span><span class="p">,</span><span class="w"> </span><span class="n">EQUALS_TO</span><span class="p">,</span><span class="w"> </span><span class="mf">9.99</span><span class="p">)</span>
<a id="__codelineno-40-71" name="__codelineno-40-71"></a><span class="w">                </span><span class="p">.</span><span class="na">where</span><span class="p">(</span><span class="s">&quot;product_name&quot;</span><span class="p">,</span><span class="w"> </span><span class="n">EQUALS_TO</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;HealthyFresh - Beef raw dog food&quot;</span><span class="p">)</span>
<a id="__codelineno-40-72" name="__codelineno-40-72"></a><span class="w">              </span><span class="p">.</span><span class="na">end</span><span class="p">();</span>
<a id="__codelineno-40-73" name="__codelineno-40-73"></a><span class="w">    </span><span class="n">collection</span><span class="p">.</span><span class="na">findOne</span><span class="p">(</span><span class="n">sq2</span><span class="p">).</span><span class="na">ifPresent</span><span class="p">(</span><span class="n">System</span><span class="p">.</span><span class="na">out</span><span class="p">::</span><span class="n">println</span><span class="p">);</span>
<a id="__codelineno-40-74" name="__codelineno-40-74"></a><span class="w">  </span><span class="p">}</span>
<a id="__codelineno-40-75" name="__codelineno-40-75"></a><span class="p">}</span>
</code></pre></div></td></tr></table></div>
<ul class="task-list">
<li class="task-list-item"><label class="task-list-control"><input type="checkbox" disabled checked/><span class="task-list-indicator"></span></label> <strong>Data API</strong></li>
</ul>
<p><em>Find with a Greater Than or Equals</em></p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-41-1" name="__codelineno-41-1" href="#__codelineno-41-1"></a><span class="p">{</span>
<a id="__codelineno-41-2" name="__codelineno-41-2" href="#__codelineno-41-2"></a><span class="w">  </span><span class="nt">&quot;find&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
<a id="__codelineno-41-3" name="__codelineno-41-3" href="#__codelineno-41-3"></a><span class="w">    </span><span class="nt">&quot;filter&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
<a id="__codelineno-41-4" name="__codelineno-41-4" href="#__codelineno-41-4"></a><span class="w">      </span><span class="nt">&quot;product_price&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
<a id="__codelineno-41-5" name="__codelineno-41-5" href="#__codelineno-41-5"></a><span class="w">        </span><span class="nt">&quot;$gte&quot;</span><span class="p">:</span><span class="w"> </span><span class="mf">12.99</span>
<a id="__codelineno-41-6" name="__codelineno-41-6" href="#__codelineno-41-6"></a><span class="w">      </span><span class="p">}</span>
<a id="__codelineno-41-7" name="__codelineno-41-7" href="#__codelineno-41-7"></a><span class="w">    </span><span class="p">}</span>
<a id="__codelineno-41-8" name="__codelineno-41-8" href="#__codelineno-41-8"></a><span class="w">  </span><span class="p">}</span>
<a id="__codelineno-41-9" name="__codelineno-41-9" href="#__codelineno-41-9"></a><span class="p">}</span>
</code></pre></div>
<p><em>Find with a Less Than</em></p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-42-1" name="__codelineno-42-1" href="#__codelineno-42-1"></a><span class="p">{</span>
<a id="__codelineno-42-2" name="__codelineno-42-2" href="#__codelineno-42-2"></a><span class="w">  </span><span class="nt">&quot;find&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
<a id="__codelineno-42-3" name="__codelineno-42-3" href="#__codelineno-42-3"></a><span class="w">    </span><span class="nt">&quot;filter&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
<a id="__codelineno-42-4" name="__codelineno-42-4" href="#__codelineno-42-4"></a><span class="w">      </span><span class="nt">&quot;product_price&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
<a id="__codelineno-42-5" name="__codelineno-42-5" href="#__codelineno-42-5"></a><span class="w">        </span><span class="nt">&quot;$lt&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">10</span>
<a id="__codelineno-42-6" name="__codelineno-42-6" href="#__codelineno-42-6"></a><span class="w">      </span><span class="p">}</span>
<a id="__codelineno-42-7" name="__codelineno-42-7" href="#__codelineno-42-7"></a><span class="w">    </span><span class="p">}</span>
<a id="__codelineno-42-8" name="__codelineno-42-8" href="#__codelineno-42-8"></a><span class="w">  </span><span class="p">}</span>
<a id="__codelineno-42-9" name="__codelineno-42-9" href="#__codelineno-42-9"></a><span class="p">}</span>
</code></pre></div>
<p><em>Find with a Less Than or Equals</em></p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-43-1" name="__codelineno-43-1" href="#__codelineno-43-1"></a><span class="p">{</span>
<a id="__codelineno-43-2" name="__codelineno-43-2" href="#__codelineno-43-2"></a><span class="w">  </span><span class="nt">&quot;find&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
<a id="__codelineno-43-3" name="__codelineno-43-3" href="#__codelineno-43-3"></a><span class="w">    </span><span class="nt">&quot;filter&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
<a id="__codelineno-43-4" name="__codelineno-43-4" href="#__codelineno-43-4"></a><span class="w">      </span><span class="nt">&quot;product_price&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
<a id="__codelineno-43-5" name="__codelineno-43-5" href="#__codelineno-43-5"></a><span class="w">        </span><span class="nt">&quot;$lte&quot;</span><span class="p">:</span><span class="w"> </span><span class="mf">9.99</span>
<a id="__codelineno-43-6" name="__codelineno-43-6" href="#__codelineno-43-6"></a><span class="w">      </span><span class="p">}</span>
<a id="__codelineno-43-7" name="__codelineno-43-7" href="#__codelineno-43-7"></a><span class="w">    </span><span class="p">}</span>
<a id="__codelineno-43-8" name="__codelineno-43-8" href="#__codelineno-43-8"></a><span class="w">  </span><span class="p">}</span>
<a id="__codelineno-43-9" name="__codelineno-43-9" href="#__codelineno-43-9"></a><span class="p">}</span>
</code></pre></div>
<p><em>Find with a Equals</em></p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-44-1" name="__codelineno-44-1" href="#__codelineno-44-1"></a><span class="p">{</span>
<a id="__codelineno-44-2" name="__codelineno-44-2" href="#__codelineno-44-2"></a><span class="w">  </span><span class="nt">&quot;find&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
<a id="__codelineno-44-3" name="__codelineno-44-3" href="#__codelineno-44-3"></a><span class="w">    </span><span class="nt">&quot;filter&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
<a id="__codelineno-44-4" name="__codelineno-44-4" href="#__codelineno-44-4"></a><span class="w">      </span><span class="nt">&quot;product_price&quot;</span><span class="p">:</span><span class="w"> </span><span class="mf">9.99</span>
<a id="__codelineno-44-5" name="__codelineno-44-5" href="#__codelineno-44-5"></a><span class="w">    </span><span class="p">}</span>
<a id="__codelineno-44-6" name="__codelineno-44-6" href="#__codelineno-44-6"></a><span class="w">  </span><span class="p">}</span>
<a id="__codelineno-44-7" name="__codelineno-44-7" href="#__codelineno-44-7"></a><span class="p">}</span>
</code></pre></div>
<p><em>Find with a Not Equals</em></p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-45-1" name="__codelineno-45-1" href="#__codelineno-45-1"></a><span class="p">{</span>
<a id="__codelineno-45-2" name="__codelineno-45-2" href="#__codelineno-45-2"></a><span class="w">  </span><span class="nt">&quot;find&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
<a id="__codelineno-45-3" name="__codelineno-45-3" href="#__codelineno-45-3"></a><span class="w">    </span><span class="nt">&quot;filter&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
<a id="__codelineno-45-4" name="__codelineno-45-4" href="#__codelineno-45-4"></a><span class="w">      </span><span class="nt">&quot;product_price&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
<a id="__codelineno-45-5" name="__codelineno-45-5" href="#__codelineno-45-5"></a><span class="w">        </span><span class="nt">&quot;$ne&quot;</span><span class="p">:</span><span class="w"> </span><span class="mf">9.99</span>
<a id="__codelineno-45-6" name="__codelineno-45-6" href="#__codelineno-45-6"></a><span class="w">      </span><span class="p">}</span>
<a id="__codelineno-45-7" name="__codelineno-45-7" href="#__codelineno-45-7"></a><span class="w">    </span><span class="p">}</span>
<a id="__codelineno-45-8" name="__codelineno-45-8" href="#__codelineno-45-8"></a><span class="w">  </span><span class="p">}</span>
<a id="__codelineno-45-9" name="__codelineno-45-9" href="#__codelineno-45-9"></a><span class="p">}</span>
</code></pre></div>
<p><em>Find with a Exists</em></p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-46-1" name="__codelineno-46-1" href="#__codelineno-46-1"></a><span class="p">{</span>
<a id="__codelineno-46-2" name="__codelineno-46-2" href="#__codelineno-46-2"></a><span class="w">  </span><span class="nt">&quot;find&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
<a id="__codelineno-46-3" name="__codelineno-46-3" href="#__codelineno-46-3"></a><span class="w">    </span><span class="nt">&quot;filter&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
<a id="__codelineno-46-4" name="__codelineno-46-4" href="#__codelineno-46-4"></a><span class="w">      </span><span class="nt">&quot;product_price&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
<a id="__codelineno-46-5" name="__codelineno-46-5" href="#__codelineno-46-5"></a><span class="w">        </span><span class="nt">&quot;$exists&quot;</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span>
<a id="__codelineno-46-6" name="__codelineno-46-6" href="#__codelineno-46-6"></a><span class="w">      </span><span class="p">}</span>
<a id="__codelineno-46-7" name="__codelineno-46-7" href="#__codelineno-46-7"></a><span class="w">    </span><span class="p">}</span>
<a id="__codelineno-46-8" name="__codelineno-46-8" href="#__codelineno-46-8"></a><span class="w">  </span><span class="p">}</span>
<a id="__codelineno-46-9" name="__codelineno-46-9" href="#__codelineno-46-9"></a><span class="p">}</span>
</code></pre></div>
<p><em>Find with a And</em></p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-47-1" name="__codelineno-47-1" href="#__codelineno-47-1"></a><span class="p">{</span>
<a id="__codelineno-47-2" name="__codelineno-47-2" href="#__codelineno-47-2"></a><span class="w">  </span><span class="nt">&quot;find&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
<a id="__codelineno-47-3" name="__codelineno-47-3" href="#__codelineno-47-3"></a><span class="w">    </span><span class="nt">&quot;filter&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
<a id="__codelineno-47-4" name="__codelineno-47-4" href="#__codelineno-47-4"></a><span class="w">      </span><span class="nt">&quot;$and&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">[</span>
<a id="__codelineno-47-5" name="__codelineno-47-5" href="#__codelineno-47-5"></a><span class="w">        </span><span class="p">{</span>
<a id="__codelineno-47-6" name="__codelineno-47-6" href="#__codelineno-47-6"></a><span class="w">          </span><span class="nt">&quot;product_price&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
<a id="__codelineno-47-7" name="__codelineno-47-7" href="#__codelineno-47-7"></a><span class="w">            </span><span class="nt">&quot;$exists&quot;</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span>
<a id="__codelineno-47-8" name="__codelineno-47-8" href="#__codelineno-47-8"></a><span class="w">          </span><span class="p">}</span>
<a id="__codelineno-47-9" name="__codelineno-47-9" href="#__codelineno-47-9"></a><span class="w">        </span><span class="p">},</span>
<a id="__codelineno-47-10" name="__codelineno-47-10" href="#__codelineno-47-10"></a><span class="w">        </span><span class="p">{</span>
<a id="__codelineno-47-11" name="__codelineno-47-11" href="#__codelineno-47-11"></a><span class="w">          </span><span class="nt">&quot;product_price&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
<a id="__codelineno-47-12" name="__codelineno-47-12" href="#__codelineno-47-12"></a><span class="w">            </span><span class="nt">&quot;$ne&quot;</span><span class="p">:</span><span class="w"> </span><span class="mf">9.99</span>
<a id="__codelineno-47-13" name="__codelineno-47-13" href="#__codelineno-47-13"></a><span class="w">          </span><span class="p">}</span>
<a id="__codelineno-47-14" name="__codelineno-47-14" href="#__codelineno-47-14"></a><span class="w">        </span><span class="p">}</span>
<a id="__codelineno-47-15" name="__codelineno-47-15" href="#__codelineno-47-15"></a><span class="w">      </span><span class="p">]</span>
<a id="__codelineno-47-16" name="__codelineno-47-16" href="#__codelineno-47-16"></a><span class="w">    </span><span class="p">}</span>
<a id="__codelineno-47-17" name="__codelineno-47-17" href="#__codelineno-47-17"></a><span class="w">  </span><span class="p">}</span>
<a id="__codelineno-47-18" name="__codelineno-47-18" href="#__codelineno-47-18"></a><span class="p">}</span>
</code></pre></div>
<p><em>Find with a In</em></p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-48-1" name="__codelineno-48-1" href="#__codelineno-48-1"></a><span class="p">{</span>
<a id="__codelineno-48-2" name="__codelineno-48-2" href="#__codelineno-48-2"></a><span class="w">  </span><span class="nt">&quot;find&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
<a id="__codelineno-48-3" name="__codelineno-48-3" href="#__codelineno-48-3"></a><span class="w">    </span><span class="nt">&quot;filter&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
<a id="__codelineno-48-4" name="__codelineno-48-4" href="#__codelineno-48-4"></a><span class="w">      </span><span class="nt">&quot;metadata_string&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
<a id="__codelineno-48-5" name="__codelineno-48-5" href="#__codelineno-48-5"></a><span class="w">        </span><span class="nt">&quot;$in&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">[</span>
<a id="__codelineno-48-6" name="__codelineno-48-6" href="#__codelineno-48-6"></a><span class="w">          </span><span class="s2">&quot;hello&quot;</span><span class="p">,</span>
<a id="__codelineno-48-7" name="__codelineno-48-7" href="#__codelineno-48-7"></a><span class="w">          </span><span class="s2">&quot;world&quot;</span>
<a id="__codelineno-48-8" name="__codelineno-48-8" href="#__codelineno-48-8"></a><span class="w">        </span><span class="p">]</span>
<a id="__codelineno-48-9" name="__codelineno-48-9" href="#__codelineno-48-9"></a><span class="w">      </span><span class="p">}</span>
<a id="__codelineno-48-10" name="__codelineno-48-10" href="#__codelineno-48-10"></a><span class="w">    </span><span class="p">}</span>
<a id="__codelineno-48-11" name="__codelineno-48-11" href="#__codelineno-48-11"></a><span class="w">  </span><span class="p">}</span>
<a id="__codelineno-48-12" name="__codelineno-48-12" href="#__codelineno-48-12"></a><span class="p">}</span>
</code></pre></div>
<p><em>Find with a Not In</em></p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-49-1" name="__codelineno-49-1" href="#__codelineno-49-1"></a><span class="p">{</span>
<a id="__codelineno-49-2" name="__codelineno-49-2" href="#__codelineno-49-2"></a><span class="w">  </span><span class="nt">&quot;find&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
<a id="__codelineno-49-3" name="__codelineno-49-3" href="#__codelineno-49-3"></a><span class="w">    </span><span class="nt">&quot;filter&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
<a id="__codelineno-49-4" name="__codelineno-49-4" href="#__codelineno-49-4"></a><span class="w">      </span><span class="nt">&quot;metadata_string&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
<a id="__codelineno-49-5" name="__codelineno-49-5" href="#__codelineno-49-5"></a><span class="w">        </span><span class="nt">&quot;$nin&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">[</span>
<a id="__codelineno-49-6" name="__codelineno-49-6" href="#__codelineno-49-6"></a><span class="w">          </span><span class="s2">&quot;Hallo&quot;</span><span class="p">,</span>
<a id="__codelineno-49-7" name="__codelineno-49-7" href="#__codelineno-49-7"></a><span class="w">          </span><span class="s2">&quot;Welt&quot;</span>
<a id="__codelineno-49-8" name="__codelineno-49-8" href="#__codelineno-49-8"></a><span class="w">        </span><span class="p">]</span>
<a id="__codelineno-49-9" name="__codelineno-49-9" href="#__codelineno-49-9"></a><span class="w">      </span><span class="p">}</span>
<a id="__codelineno-49-10" name="__codelineno-49-10" href="#__codelineno-49-10"></a><span class="w">    </span><span class="p">}</span>
<a id="__codelineno-49-11" name="__codelineno-49-11" href="#__codelineno-49-11"></a><span class="w">  </span><span class="p">}</span>
<a id="__codelineno-49-12" name="__codelineno-49-12" href="#__codelineno-49-12"></a><span class="p">}</span>
</code></pre></div>
<p><em>Find with a Size</em></p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-50-1" name="__codelineno-50-1" href="#__codelineno-50-1"></a><span class="p">{</span>
<a id="__codelineno-50-2" name="__codelineno-50-2" href="#__codelineno-50-2"></a><span class="w">  </span><span class="nt">&quot;find&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
<a id="__codelineno-50-3" name="__codelineno-50-3" href="#__codelineno-50-3"></a><span class="w">    </span><span class="nt">&quot;filter&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
<a id="__codelineno-50-4" name="__codelineno-50-4" href="#__codelineno-50-4"></a><span class="w">      </span><span class="nt">&quot;metadata_boolean_array&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
<a id="__codelineno-50-5" name="__codelineno-50-5" href="#__codelineno-50-5"></a><span class="w">        </span><span class="nt">&quot;$size&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">3</span>
<a id="__codelineno-50-6" name="__codelineno-50-6" href="#__codelineno-50-6"></a><span class="w">      </span><span class="p">}</span>
<a id="__codelineno-50-7" name="__codelineno-50-7" href="#__codelineno-50-7"></a><span class="w">    </span><span class="p">}</span>
<a id="__codelineno-50-8" name="__codelineno-50-8" href="#__codelineno-50-8"></a><span class="w">  </span><span class="p">}</span>
<a id="__codelineno-50-9" name="__codelineno-50-9" href="#__codelineno-50-9"></a><span class="p">}</span>
</code></pre></div>
<p><em>Find with a Less Than Instant</em></p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-51-1" name="__codelineno-51-1" href="#__codelineno-51-1"></a><span class="p">{</span>
<a id="__codelineno-51-2" name="__codelineno-51-2" href="#__codelineno-51-2"></a><span class="w">  </span><span class="nt">&quot;find&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
<a id="__codelineno-51-3" name="__codelineno-51-3" href="#__codelineno-51-3"></a><span class="w">    </span><span class="nt">&quot;filter&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
<a id="__codelineno-51-4" name="__codelineno-51-4" href="#__codelineno-51-4"></a><span class="w">      </span><span class="nt">&quot;metadata_instant&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
<a id="__codelineno-51-5" name="__codelineno-51-5" href="#__codelineno-51-5"></a><span class="w">        </span><span class="nt">&quot;$lt&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
<a id="__codelineno-51-6" name="__codelineno-51-6" href="#__codelineno-51-6"></a><span class="w">          </span><span class="nt">&quot;$date&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">1707483540638</span>
<a id="__codelineno-51-7" name="__codelineno-51-7" href="#__codelineno-51-7"></a><span class="w">        </span><span class="p">}</span>
<a id="__codelineno-51-8" name="__codelineno-51-8" href="#__codelineno-51-8"></a><span class="w">      </span><span class="p">}</span>
<a id="__codelineno-51-9" name="__codelineno-51-9" href="#__codelineno-51-9"></a><span class="w">    </span><span class="p">}</span>
<a id="__codelineno-51-10" name="__codelineno-51-10" href="#__codelineno-51-10"></a><span class="w">  </span><span class="p">}</span>
<a id="__codelineno-51-11" name="__codelineno-51-11" href="#__codelineno-51-11"></a><span class="p">}</span>
</code></pre></div>
<h4 id="find">Find<a class="headerlink" href="#find" title="Permanent link">&para;</a></h4>
<details class="info annotate" open="open">
<summary>Reminders on <code>SelectQuery</code></summary>
<p>Under the hood every search against the REST Api is done by providing 4 parameters:</p>
<ul>
<li><strong><code>$filter</code></strong>: which are your criteria (where clause)</li>
<li><strong><code>$projection</code></strong>: which list the fields you want to retrieve (select)</li>
<li><strong><code>$sort</code></strong>: which order the results in memory (order by) or the vector search (order by ANN)</li>
<li><strong><code>$options</code></strong>: that will contains all information like paging, limit, etc.</li>
</ul>
<p>The <code>SelectQuery</code> class is a builder that will help you to build the query. It is a fluent API that will help you to build the query.</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-52-1" name="__codelineno-52-1" href="#__codelineno-52-1"></a><span class="w"> </span><span class="n">SelectQuery</span><span class="p">.</span><span class="na">builder</span><span class="p">()</span>
<a id="__codelineno-52-2" name="__codelineno-52-2" href="#__codelineno-52-2"></a><span class="w"> </span><span class="p">.</span><span class="na">where</span><span class="p">(</span><span class="s">&quot;product_price&quot;</span><span class="p">)</span>
<a id="__codelineno-52-3" name="__codelineno-52-3" href="#__codelineno-52-3"></a><span class="w"> </span><span class="p">.</span><span class="na">isEqualsTo</span><span class="p">(</span><span class="mf">9.99</span><span class="p">)</span>
<a id="__codelineno-52-4" name="__codelineno-52-4" href="#__codelineno-52-4"></a><span class="w"> </span><span class="p">.</span><span class="na">build</span><span class="p">();</span>
</code></pre></div>
</details>
<details class="warning annotate" open="open">
<summary>Important</summary>
<p>With the Json API all queries are paged. The maximum page size is 20. The method findAll() and find() will fetch the
pages one after the other until <code>pagingState</code> is null. Use those functions with caution. </p>
</details>
<ul class="task-list">
<li class="task-list-item"><label class="task-list-control"><input type="checkbox" disabled checked/><span class="task-list-indicator"></span></label> <strong>To retrieve every document of a collection use <code>findAll()</code></strong></li>
</ul>
<div class="highlight"><pre><span></span><code><a id="__codelineno-53-1" name="__codelineno-53-1" href="#__codelineno-53-1"></a><span class="c1">// Find All for VectorStore&lt;MyBean&gt;</span>
<a id="__codelineno-53-2" name="__codelineno-53-2" href="#__codelineno-53-2"></a><span class="n">Stream</span><span class="o">&lt;</span><span class="n">JsonResult</span><span class="o">&gt;</span><span class="w"> </span><span class="n">all</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">col1</span><span class="p">.</span><span class="na">findAll</span><span class="p">();</span>
</code></pre></div>
<ul class="task-list">
<li class="task-list-item"><label class="task-list-control"><input type="checkbox" disabled checked/><span class="task-list-indicator"></span></label> <strong>Find with a <code>Query</code></strong></li>
</ul>
<div class="highlight"><table class="highlighttable"><tr><th colspan="2" class="filename"><span class="filename">Find.java</span></th></tr><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-54-1"> 1</a></span>
<span class="normal"><a href="#__codelineno-54-2"> 2</a></span>
<span class="normal"><a href="#__codelineno-54-3"> 3</a></span>
<span class="normal"><a href="#__codelineno-54-4"> 4</a></span>
<span class="normal"><a href="#__codelineno-54-5"> 5</a></span>
<span class="normal"><a href="#__codelineno-54-6"> 6</a></span>
<span class="normal"><a href="#__codelineno-54-7"> 7</a></span>
<span class="normal"><a href="#__codelineno-54-8"> 8</a></span>
<span class="normal"><a href="#__codelineno-54-9"> 9</a></span>
<span class="normal"><a href="#__codelineno-54-10">10</a></span>
<span class="normal"><a href="#__codelineno-54-11">11</a></span>
<span class="normal"><a href="#__codelineno-54-12">12</a></span>
<span class="normal"><a href="#__codelineno-54-13">13</a></span>
<span class="normal"><a href="#__codelineno-54-14">14</a></span>
<span class="normal"><a href="#__codelineno-54-15">15</a></span>
<span class="normal"><a href="#__codelineno-54-16">16</a></span>
<span class="normal"><a href="#__codelineno-54-17">17</a></span>
<span class="normal"><a href="#__codelineno-54-18">18</a></span>
<span class="normal"><a href="#__codelineno-54-19">19</a></span>
<span class="normal"><a href="#__codelineno-54-20">20</a></span>
<span class="normal"><a href="#__codelineno-54-21">21</a></span>
<span class="normal"><a href="#__codelineno-54-22">22</a></span>
<span class="normal"><a href="#__codelineno-54-23">23</a></span>
<span class="normal"><a href="#__codelineno-54-24">24</a></span>
<span class="normal"><a href="#__codelineno-54-25">25</a></span>
<span class="normal"><a href="#__codelineno-54-26">26</a></span>
<span class="normal"><a href="#__codelineno-54-27">27</a></span>
<span class="normal"><a href="#__codelineno-54-28">28</a></span>
<span class="normal"><a href="#__codelineno-54-29">29</a></span>
<span class="normal"><a href="#__codelineno-54-30">30</a></span>
<span class="normal"><a href="#__codelineno-54-31">31</a></span>
<span class="normal"><a href="#__codelineno-54-32">32</a></span>
<span class="normal"><a href="#__codelineno-54-33">33</a></span>
<span class="normal"><a href="#__codelineno-54-34">34</a></span>
<span class="normal"><a href="#__codelineno-54-35">35</a></span>
<span class="normal"><a href="#__codelineno-54-36">36</a></span>
<span class="normal"><a href="#__codelineno-54-37">37</a></span>
<span class="normal"><a href="#__codelineno-54-38">38</a></span>
<span class="normal"><a href="#__codelineno-54-39">39</a></span>
<span class="normal"><a href="#__codelineno-54-40">40</a></span>
<span class="normal"><a href="#__codelineno-54-41">41</a></span>
<span class="normal"><a href="#__codelineno-54-42">42</a></span>
<span class="normal"><a href="#__codelineno-54-43">43</a></span>
<span class="normal"><a href="#__codelineno-54-44">44</a></span>
<span class="normal"><a href="#__codelineno-54-45">45</a></span>
<span class="normal"><a href="#__codelineno-54-46">46</a></span>
<span class="normal"><a href="#__codelineno-54-47">47</a></span>
<span class="normal"><a href="#__codelineno-54-48">48</a></span>
<span class="normal"><a href="#__codelineno-54-49">49</a></span>
<span class="normal"><a href="#__codelineno-54-50">50</a></span>
<span class="normal"><a href="#__codelineno-54-51">51</a></span>
<span class="normal"><a href="#__codelineno-54-52">52</a></span>
<span class="normal"><a href="#__codelineno-54-53">53</a></span>
<span class="normal"><a href="#__codelineno-54-54">54</a></span>
<span class="normal"><a href="#__codelineno-54-55">55</a></span>
<span class="normal"><a href="#__codelineno-54-56">56</a></span>
<span class="normal"><a href="#__codelineno-54-57">57</a></span>
<span class="normal"><a href="#__codelineno-54-58">58</a></span>
<span class="normal"><a href="#__codelineno-54-59">59</a></span>
<span class="normal"><a href="#__codelineno-54-60">60</a></span>
<span class="normal"><a href="#__codelineno-54-61">61</a></span>
<span class="normal"><a href="#__codelineno-54-62">62</a></span>
<span class="normal"><a href="#__codelineno-54-63">63</a></span>
<span class="normal"><a href="#__codelineno-54-64">64</a></span>
<span class="normal"><a href="#__codelineno-54-65">65</a></span>
<span class="normal"><a href="#__codelineno-54-66">66</a></span>
<span class="normal"><a href="#__codelineno-54-67">67</a></span>
<span class="normal"><a href="#__codelineno-54-68">68</a></span>
<span class="normal"><a href="#__codelineno-54-69">69</a></span>
<span class="normal"><a href="#__codelineno-54-70">70</a></span>
<span class="normal"><a href="#__codelineno-54-71">71</a></span>
<span class="normal"><a href="#__codelineno-54-72">72</a></span>
<span class="normal"><a href="#__codelineno-54-73">73</a></span>
<span class="normal"><a href="#__codelineno-54-74">74</a></span>
<span class="normal"><a href="#__codelineno-54-75">75</a></span>
<span class="normal"><a href="#__codelineno-54-76">76</a></span>
<span class="normal"><a href="#__codelineno-54-77">77</a></span>
<span class="normal"><a href="#__codelineno-54-78">78</a></span>
<span class="normal"><a href="#__codelineno-54-79">79</a></span></pre></div></td><td class="code"><div><pre><span></span><code><a id="__codelineno-54-1" name="__codelineno-54-1"></a><span class="kn">package</span><span class="w"> </span><span class="nn">com.dtsx.astra.sdk.documentation</span><span class="p">;</span>
<a id="__codelineno-54-2" name="__codelineno-54-2"></a>
<a id="__codelineno-54-3" name="__codelineno-54-3"></a><span class="kn">import</span><span class="w"> </span><span class="nn">com.dtsx.astra.sdk.AstraDB</span><span class="p">;</span>
<a id="__codelineno-54-4" name="__codelineno-54-4"></a><span class="kn">import</span><span class="w"> </span><span class="nn">com.dtsx.astra.sdk.AstraDBCollection</span><span class="p">;</span>
<a id="__codelineno-54-5" name="__codelineno-54-5"></a><span class="kn">import</span><span class="w"> </span><span class="nn">io.stargate.sdk.data.domain.query.Filter</span><span class="p">;</span>
<a id="__codelineno-54-6" name="__codelineno-54-6"></a><span class="kn">import</span><span class="w"> </span><span class="nn">io.stargate.sdk.data.domain.query.SelectQuery</span><span class="p">;</span>
<a id="__codelineno-54-7" name="__codelineno-54-7"></a><span class="kn">import</span><span class="w"> </span><span class="nn">java.util.ArrayList</span><span class="p">;</span>
<a id="__codelineno-54-8" name="__codelineno-54-8"></a><span class="kn">import</span><span class="w"> </span><span class="nn">java.util.HashMap</span><span class="p">;</span>
<a id="__codelineno-54-9" name="__codelineno-54-9"></a><span class="kn">import</span><span class="w"> </span><span class="nn">java.util.List</span><span class="p">;</span>
<a id="__codelineno-54-10" name="__codelineno-54-10"></a><span class="kn">import</span><span class="w"> </span><span class="nn">java.util.Map</span><span class="p">;</span>
<a id="__codelineno-54-11" name="__codelineno-54-11"></a>
<a id="__codelineno-54-12" name="__codelineno-54-12"></a><span class="kd">public</span><span class="w"> </span><span class="kd">class</span> <span class="nc">Find</span><span class="w"> </span><span class="p">{</span>
<a id="__codelineno-54-13" name="__codelineno-54-13"></a><span class="w">  </span><span class="kd">public</span><span class="w"> </span><span class="kd">static</span><span class="w"> </span><span class="kt">void</span><span class="w"> </span><span class="nf">main</span><span class="p">(</span><span class="n">String</span><span class="o">[]</span><span class="w"> </span><span class="n">args</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<a id="__codelineno-54-14" name="__codelineno-54-14"></a><span class="w">    </span><span class="n">AstraDB</span><span class="w"> </span><span class="n">db</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">new</span><span class="w"> </span><span class="n">AstraDB</span><span class="p">(</span><span class="s">&quot;TOKEN&quot;</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;API_ENDPOINT&quot;</span><span class="p">);</span>
<a id="__codelineno-54-15" name="__codelineno-54-15"></a><span class="w">    </span><span class="n">AstraDBCollection</span><span class="w"> </span><span class="n">collection</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">db</span><span class="p">.</span><span class="na">createCollection</span><span class="p">(</span><span class="s">&quot;collection_vector1&quot;</span><span class="p">,</span><span class="w"> </span><span class="mi">14</span><span class="p">);</span>
<a id="__codelineno-54-16" name="__codelineno-54-16"></a>
<a id="__codelineno-54-17" name="__codelineno-54-17"></a><span class="w">    </span><span class="c1">// Retrieve the first document with a product_price</span>
<a id="__codelineno-54-18" name="__codelineno-54-18"></a><span class="w">    </span><span class="n">Filter</span><span class="w"> </span><span class="n">filter</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">new</span><span class="w"> </span><span class="n">Filter</span><span class="p">()</span>
<a id="__codelineno-54-19" name="__codelineno-54-19"></a><span class="w">            </span><span class="p">.</span><span class="na">where</span><span class="p">(</span><span class="s">&quot;product_price&quot;</span><span class="p">)</span>
<a id="__codelineno-54-20" name="__codelineno-54-20"></a><span class="w">            </span><span class="p">.</span><span class="na">exists</span><span class="p">();</span>
<a id="__codelineno-54-21" name="__codelineno-54-21"></a><span class="w">    </span><span class="n">collection</span><span class="p">.</span><span class="na">find</span><span class="p">(</span>
<a id="__codelineno-54-22" name="__codelineno-54-22"></a><span class="w">        </span><span class="n">SelectQuery</span><span class="p">.</span><span class="na">builder</span><span class="p">().</span><span class="na">filter</span><span class="p">(</span><span class="n">filter</span><span class="p">).</span><span class="na">build</span><span class="p">()</span>
<a id="__codelineno-54-23" name="__codelineno-54-23"></a><span class="w">    </span><span class="p">).</span><span class="na">forEach</span><span class="p">(</span><span class="n">System</span><span class="p">.</span><span class="na">out</span><span class="p">::</span><span class="n">println</span><span class="p">);</span>
<a id="__codelineno-54-24" name="__codelineno-54-24"></a>
<a id="__codelineno-54-25" name="__codelineno-54-25"></a><span class="w">    </span><span class="c1">// Retrieve the first document where the product_price is 12.99</span>
<a id="__codelineno-54-26" name="__codelineno-54-26"></a><span class="w">    </span><span class="n">Filter</span><span class="w"> </span><span class="n">filter2</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">new</span><span class="w"> </span><span class="n">Filter</span><span class="p">()</span>
<a id="__codelineno-54-27" name="__codelineno-54-27"></a><span class="w">            </span><span class="p">.</span><span class="na">where</span><span class="p">(</span><span class="s">&quot;product_price&quot;</span><span class="p">)</span>
<a id="__codelineno-54-28" name="__codelineno-54-28"></a><span class="w">            </span><span class="p">.</span><span class="na">isEqualsTo</span><span class="p">(</span><span class="mf">12.99</span><span class="p">);</span>
<a id="__codelineno-54-29" name="__codelineno-54-29"></a><span class="w">    </span><span class="n">collection</span>
<a id="__codelineno-54-30" name="__codelineno-54-30"></a><span class="w">            </span><span class="p">.</span><span class="na">find</span><span class="p">(</span><span class="n">SelectQuery</span><span class="p">.</span><span class="na">builder</span><span class="p">().</span><span class="na">filter</span><span class="p">(</span><span class="n">filter2</span><span class="p">).</span><span class="na">build</span><span class="p">())</span>
<a id="__codelineno-54-31" name="__codelineno-54-31"></a><span class="w">            </span><span class="p">.</span><span class="na">forEach</span><span class="p">(</span><span class="n">System</span><span class="p">.</span><span class="na">out</span><span class="p">::</span><span class="n">println</span><span class="p">);</span>
<a id="__codelineno-54-32" name="__codelineno-54-32"></a>
<a id="__codelineno-54-33" name="__codelineno-54-33"></a><span class="w">    </span><span class="c1">// Only retrieve the product_name and product_price fields</span>
<a id="__codelineno-54-34" name="__codelineno-54-34"></a><span class="w">    </span><span class="n">collection</span><span class="p">.</span><span class="na">find</span><span class="p">(</span>
<a id="__codelineno-54-35" name="__codelineno-54-35"></a><span class="w">        </span><span class="n">SelectQuery</span><span class="p">.</span><span class="na">builder</span><span class="p">()</span>
<a id="__codelineno-54-36" name="__codelineno-54-36"></a><span class="w">            </span><span class="p">.</span><span class="na">select</span><span class="p">(</span><span class="s">&quot;product_name&quot;</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;product_price&quot;</span><span class="p">)</span>
<a id="__codelineno-54-37" name="__codelineno-54-37"></a><span class="w">            </span><span class="p">.</span><span class="na">filter</span><span class="p">(</span><span class="n">filter2</span><span class="p">)</span>
<a id="__codelineno-54-38" name="__codelineno-54-38"></a><span class="w">            </span><span class="p">.</span><span class="na">build</span><span class="p">())</span>
<a id="__codelineno-54-39" name="__codelineno-54-39"></a><span class="w">        </span><span class="p">.</span><span class="na">forEach</span><span class="p">(</span><span class="n">System</span><span class="p">.</span><span class="na">out</span><span class="p">::</span><span class="n">println</span><span class="p">);</span>
<a id="__codelineno-54-40" name="__codelineno-54-40"></a>
<a id="__codelineno-54-41" name="__codelineno-54-41"></a><span class="w">    </span><span class="c1">// Order the results by similarity</span>
<a id="__codelineno-54-42" name="__codelineno-54-42"></a><span class="w">    </span><span class="n">collection</span><span class="p">.</span><span class="na">find</span><span class="p">(</span>
<a id="__codelineno-54-43" name="__codelineno-54-43"></a><span class="w">        </span><span class="n">SelectQuery</span><span class="p">.</span><span class="na">builder</span><span class="p">()</span>
<a id="__codelineno-54-44" name="__codelineno-54-44"></a><span class="w">            </span><span class="p">.</span><span class="na">filter</span><span class="p">(</span><span class="n">filter2</span><span class="p">)</span>
<a id="__codelineno-54-45" name="__codelineno-54-45"></a><span class="w">            </span><span class="p">.</span><span class="na">orderByAnn</span><span class="p">(</span><span class="k">new</span><span class="w"> </span><span class="kt">float</span><span class="o">[]</span><span class="p">{</span><span class="mf">1f</span><span class="p">,</span><span class="w"> </span><span class="mf">0f</span><span class="p">,</span><span class="w"> </span><span class="mf">1f</span><span class="p">,</span><span class="w"> </span><span class="mf">1f</span><span class="p">,</span><span class="w"> </span><span class="mf">1f</span><span class="p">,</span><span class="w"> </span><span class="mf">1f</span><span class="p">,</span><span class="w"> </span><span class="mf">0f</span><span class="p">,</span><span class="w"> </span><span class="mf">0f</span><span class="p">,</span><span class="w"> </span><span class="mf">0f</span><span class="p">,</span><span class="w"> </span><span class="mf">0f</span><span class="p">,</span><span class="w"> </span><span class="mf">0f</span><span class="p">,</span><span class="w"> </span><span class="mf">0f</span><span class="p">,</span><span class="w"> </span><span class="mf">0f</span><span class="p">,</span><span class="w"> </span><span class="mf">0f</span><span class="p">})</span>
<a id="__codelineno-54-46" name="__codelineno-54-46"></a><span class="w">            </span><span class="p">.</span><span class="na">build</span><span class="p">())</span>
<a id="__codelineno-54-47" name="__codelineno-54-47"></a><span class="w">        </span><span class="p">.</span><span class="na">forEach</span><span class="p">(</span><span class="n">System</span><span class="p">.</span><span class="na">out</span><span class="p">::</span><span class="n">println</span><span class="p">);</span>
<a id="__codelineno-54-48" name="__codelineno-54-48"></a>
<a id="__codelineno-54-49" name="__codelineno-54-49"></a><span class="w">    </span><span class="c1">// Order the results by a specific field</span>
<a id="__codelineno-54-50" name="__codelineno-54-50"></a><span class="w">    </span><span class="n">Filter</span><span class="w"> </span><span class="n">filter3</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">new</span><span class="w"> </span><span class="n">Filter</span><span class="p">()</span>
<a id="__codelineno-54-51" name="__codelineno-54-51"></a><span class="w">            </span><span class="p">.</span><span class="na">where</span><span class="p">(</span><span class="s">&quot;product_name&quot;</span><span class="p">)</span>
<a id="__codelineno-54-52" name="__codelineno-54-52"></a><span class="w">            </span><span class="p">.</span><span class="na">isEqualsTo</span><span class="p">(</span><span class="s">&quot;HealthyFresh - Chicken raw dog food&quot;</span><span class="p">);</span>
<a id="__codelineno-54-53" name="__codelineno-54-53"></a><span class="w">    </span><span class="n">collection</span><span class="p">.</span><span class="na">find</span><span class="p">(</span>
<a id="__codelineno-54-54" name="__codelineno-54-54"></a><span class="w">        </span><span class="n">SelectQuery</span><span class="p">.</span><span class="na">builder</span><span class="p">()</span>
<a id="__codelineno-54-55" name="__codelineno-54-55"></a><span class="w">            </span><span class="p">.</span><span class="na">filter</span><span class="p">(</span><span class="n">filter3</span><span class="p">)</span>
<a id="__codelineno-54-56" name="__codelineno-54-56"></a><span class="w">            </span><span class="p">.</span><span class="na">orderBy</span><span class="p">(</span><span class="s">&quot;product_price&quot;</span><span class="p">,</span><span class="w"> </span><span class="mi">1</span><span class="p">)</span>
<a id="__codelineno-54-57" name="__codelineno-54-57"></a><span class="w">            </span><span class="p">.</span><span class="na">build</span><span class="p">())</span>
<a id="__codelineno-54-58" name="__codelineno-54-58"></a><span class="w">        </span><span class="p">.</span><span class="na">forEach</span><span class="p">(</span><span class="n">System</span><span class="p">.</span><span class="na">out</span><span class="p">::</span><span class="n">println</span><span class="p">);</span>
<a id="__codelineno-54-59" name="__codelineno-54-59"></a>
<a id="__codelineno-54-60" name="__codelineno-54-60"></a><span class="w">    </span><span class="c1">// Complex query with AND and OR:</span>
<a id="__codelineno-54-61" name="__codelineno-54-61"></a><span class="w">    </span><span class="c1">//     (product_price == 9.99 OR product_name == &quot;HealthyFresh - Beef raw dog food&quot;)</span>
<a id="__codelineno-54-62" name="__codelineno-54-62"></a><span class="w">    </span><span class="c1">// AND (product_price == 12.99 OR product_name == &quot;HealthyFresh - Beef raw dog food&quot;)</span>
<a id="__codelineno-54-63" name="__codelineno-54-63"></a><span class="w">    </span><span class="n">SelectQuery</span><span class="w"> </span><span class="n">sq2</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">new</span><span class="w"> </span><span class="n">SelectQuery</span><span class="p">();</span>
<a id="__codelineno-54-64" name="__codelineno-54-64"></a><span class="w">    </span><span class="n">sq2</span><span class="p">.</span><span class="na">setFilter</span><span class="p">(</span><span class="k">new</span><span class="w"> </span><span class="n">HashMap</span><span class="o">&lt;&gt;</span><span class="p">());</span>
<a id="__codelineno-54-65" name="__codelineno-54-65"></a><span class="w">    </span><span class="n">Map</span><span class="o">&lt;</span><span class="n">String</span><span class="p">,</span><span class="w"> </span><span class="n">List</span><span class="o">&lt;</span><span class="n">Map</span><span class="o">&lt;</span><span class="n">String</span><span class="p">,</span><span class="w"> </span><span class="n">Object</span><span class="o">&gt;&gt;&gt;</span><span class="w"> </span><span class="n">or1Criteria</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">new</span><span class="w"> </span><span class="n">HashMap</span><span class="o">&lt;&gt;</span><span class="p">();</span>
<a id="__codelineno-54-66" name="__codelineno-54-66"></a><span class="w">    </span><span class="n">or1Criteria</span><span class="p">.</span><span class="na">put</span><span class="p">(</span><span class="s">&quot;$or&quot;</span><span class="p">,</span><span class="w"> </span><span class="k">new</span><span class="w"> </span><span class="n">ArrayList</span><span class="o">&lt;</span><span class="n">Map</span><span class="o">&lt;</span><span class="n">String</span><span class="p">,</span><span class="w"> </span><span class="n">Object</span><span class="o">&gt;&gt;</span><span class="p">());</span>
<a id="__codelineno-54-67" name="__codelineno-54-67"></a><span class="w">    </span><span class="n">or1Criteria</span><span class="p">.</span><span class="na">get</span><span class="p">(</span><span class="s">&quot;$or&quot;</span><span class="p">).</span><span class="na">add</span><span class="p">(</span><span class="n">Map</span><span class="p">.</span><span class="na">of</span><span class="p">(</span><span class="s">&quot;product_price&quot;</span><span class="p">,</span><span class="w"> </span><span class="mf">9.99</span><span class="p">));</span>
<a id="__codelineno-54-68" name="__codelineno-54-68"></a><span class="w">    </span><span class="n">or1Criteria</span><span class="p">.</span><span class="na">get</span><span class="p">(</span><span class="s">&quot;$or&quot;</span><span class="p">).</span><span class="na">add</span><span class="p">(</span><span class="n">Map</span><span class="p">.</span><span class="na">of</span><span class="p">(</span><span class="s">&quot;product_name&quot;</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;HealthyFresh - Beef raw dog food&quot;</span><span class="p">));</span>
<a id="__codelineno-54-69" name="__codelineno-54-69"></a><span class="w">    </span><span class="n">Map</span><span class="o">&lt;</span><span class="n">String</span><span class="p">,</span><span class="w"> </span><span class="n">List</span><span class="o">&lt;</span><span class="n">Map</span><span class="o">&lt;</span><span class="n">String</span><span class="p">,</span><span class="w"> </span><span class="n">Object</span><span class="o">&gt;&gt;&gt;</span><span class="w"> </span><span class="n">or2Criteria</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">new</span><span class="w"> </span><span class="n">HashMap</span><span class="o">&lt;&gt;</span><span class="p">();</span>
<a id="__codelineno-54-70" name="__codelineno-54-70"></a><span class="w">    </span><span class="n">or2Criteria</span><span class="p">.</span><span class="na">put</span><span class="p">(</span><span class="s">&quot;$or&quot;</span><span class="p">,</span><span class="w"> </span><span class="k">new</span><span class="w"> </span><span class="n">ArrayList</span><span class="o">&lt;</span><span class="n">Map</span><span class="o">&lt;</span><span class="n">String</span><span class="p">,</span><span class="w"> </span><span class="n">Object</span><span class="o">&gt;&gt;</span><span class="p">());</span>
<a id="__codelineno-54-71" name="__codelineno-54-71"></a><span class="w">    </span><span class="n">or2Criteria</span><span class="p">.</span><span class="na">get</span><span class="p">(</span><span class="s">&quot;$or&quot;</span><span class="p">).</span><span class="na">add</span><span class="p">(</span><span class="n">Map</span><span class="p">.</span><span class="na">of</span><span class="p">(</span><span class="s">&quot;product_price&quot;</span><span class="p">,</span><span class="w"> </span><span class="mf">12.99</span><span class="p">));</span>
<a id="__codelineno-54-72" name="__codelineno-54-72"></a><span class="w">    </span><span class="n">or2Criteria</span><span class="p">.</span><span class="na">get</span><span class="p">(</span><span class="s">&quot;$or&quot;</span><span class="p">).</span><span class="na">add</span><span class="p">(</span><span class="n">Map</span><span class="p">.</span><span class="na">of</span><span class="p">(</span><span class="s">&quot;product_name&quot;</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;HealthyFresh - Beef raw dog food&quot;</span><span class="p">));</span>
<a id="__codelineno-54-73" name="__codelineno-54-73"></a><span class="w">    </span><span class="n">List</span><span class="o">&lt;</span><span class="n">Map</span><span class="o">&lt;</span><span class="n">String</span><span class="p">,</span><span class="w"> </span><span class="n">List</span><span class="o">&lt;</span><span class="n">Map</span><span class="o">&lt;</span><span class="n">String</span><span class="p">,</span><span class="w"> </span><span class="n">Object</span><span class="o">&gt;&gt;&gt;&gt;</span><span class="w"> </span><span class="n">andCriteria</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">new</span><span class="w"> </span><span class="n">ArrayList</span><span class="o">&lt;&gt;</span><span class="p">();</span>
<a id="__codelineno-54-74" name="__codelineno-54-74"></a><span class="w">    </span><span class="n">andCriteria</span><span class="p">.</span><span class="na">add</span><span class="p">(</span><span class="n">or1Criteria</span><span class="p">);</span>
<a id="__codelineno-54-75" name="__codelineno-54-75"></a><span class="w">    </span><span class="n">andCriteria</span><span class="p">.</span><span class="na">add</span><span class="p">(</span><span class="n">or2Criteria</span><span class="p">);</span>
<a id="__codelineno-54-76" name="__codelineno-54-76"></a><span class="w">    </span><span class="n">sq2</span><span class="p">.</span><span class="na">getFilter</span><span class="p">().</span><span class="na">put</span><span class="p">(</span><span class="s">&quot;$and&quot;</span><span class="p">,</span><span class="w"> </span><span class="n">andCriteria</span><span class="p">);</span>
<a id="__codelineno-54-77" name="__codelineno-54-77"></a><span class="w">    </span><span class="n">collection</span><span class="p">.</span><span class="na">find</span><span class="p">(</span><span class="n">sq2</span><span class="p">).</span><span class="na">forEach</span><span class="p">(</span><span class="n">System</span><span class="p">.</span><span class="na">out</span><span class="p">::</span><span class="n">println</span><span class="p">);</span>
<a id="__codelineno-54-78" name="__codelineno-54-78"></a><span class="w">  </span><span class="p">}</span>
<a id="__codelineno-54-79" name="__codelineno-54-79"></a><span class="p">}</span>
</code></pre></div></td></tr></table></div>
<ul class="task-list">
<li class="task-list-item"><label class="task-list-control"><input type="checkbox" disabled checked/><span class="task-list-indicator"></span></label> <strong>To perform semantic search use <code>findVector()</code></strong></li>
</ul>
<div class="highlight"><table class="highlighttable"><tr><th colspan="2" class="filename"><span class="filename">FindOne.java</span></th></tr><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-55-1"> 1</a></span>
<span class="normal"><a href="#__codelineno-55-2"> 2</a></span>
<span class="normal"><a href="#__codelineno-55-3"> 3</a></span>
<span class="normal"><a href="#__codelineno-55-4"> 4</a></span>
<span class="normal"><a href="#__codelineno-55-5"> 5</a></span>
<span class="normal"><a href="#__codelineno-55-6"> 6</a></span>
<span class="normal"><a href="#__codelineno-55-7"> 7</a></span>
<span class="normal"><a href="#__codelineno-55-8"> 8</a></span>
<span class="normal"><a href="#__codelineno-55-9"> 9</a></span>
<span class="normal"><a href="#__codelineno-55-10">10</a></span>
<span class="normal"><a href="#__codelineno-55-11">11</a></span>
<span class="normal"><a href="#__codelineno-55-12">12</a></span>
<span class="normal"><a href="#__codelineno-55-13">13</a></span>
<span class="normal"><a href="#__codelineno-55-14">14</a></span>
<span class="normal"><a href="#__codelineno-55-15">15</a></span>
<span class="normal"><a href="#__codelineno-55-16">16</a></span>
<span class="normal"><a href="#__codelineno-55-17">17</a></span>
<span class="normal"><a href="#__codelineno-55-18">18</a></span>
<span class="normal"><a href="#__codelineno-55-19">19</a></span>
<span class="normal"><a href="#__codelineno-55-20">20</a></span>
<span class="normal"><a href="#__codelineno-55-21">21</a></span>
<span class="normal"><a href="#__codelineno-55-22">22</a></span>
<span class="normal"><a href="#__codelineno-55-23">23</a></span>
<span class="normal"><a href="#__codelineno-55-24">24</a></span>
<span class="normal"><a href="#__codelineno-55-25">25</a></span>
<span class="normal"><a href="#__codelineno-55-26">26</a></span>
<span class="normal"><a href="#__codelineno-55-27">27</a></span>
<span class="normal"><a href="#__codelineno-55-28">28</a></span>
<span class="normal"><a href="#__codelineno-55-29">29</a></span>
<span class="normal"><a href="#__codelineno-55-30">30</a></span></pre></div></td><td class="code"><div><pre><span></span><code><a id="__codelineno-55-1" name="__codelineno-55-1"></a><span class="kn">package</span><span class="w"> </span><span class="nn">com.dtsx.astra.sdk.documentation</span><span class="p">;</span>
<a id="__codelineno-55-2" name="__codelineno-55-2"></a>
<a id="__codelineno-55-3" name="__codelineno-55-3"></a><span class="kn">import</span><span class="w"> </span><span class="nn">com.dtsx.astra.sdk.AstraDB</span><span class="p">;</span>
<a id="__codelineno-55-4" name="__codelineno-55-4"></a><span class="kn">import</span><span class="w"> </span><span class="nn">com.dtsx.astra.sdk.AstraDBCollection</span><span class="p">;</span>
<a id="__codelineno-55-5" name="__codelineno-55-5"></a><span class="kn">import</span><span class="w"> </span><span class="nn">io.stargate.sdk.data.domain.JsonDocumentResult</span><span class="p">;</span>
<a id="__codelineno-55-6" name="__codelineno-55-6"></a><span class="kn">import</span><span class="w"> </span><span class="nn">io.stargate.sdk.data.domain.query.Filter</span><span class="p">;</span>
<a id="__codelineno-55-7" name="__codelineno-55-7"></a><span class="kn">import</span><span class="w"> </span><span class="nn">io.stargate.sdk.data.domain.query.SelectQuery</span><span class="p">;</span>
<a id="__codelineno-55-8" name="__codelineno-55-8"></a><span class="kn">import</span><span class="w"> </span><span class="nn">java.util.stream.Stream</span><span class="p">;</span>
<a id="__codelineno-55-9" name="__codelineno-55-9"></a>
<a id="__codelineno-55-10" name="__codelineno-55-10"></a><span class="kd">public</span><span class="w"> </span><span class="kd">class</span> <span class="nc">FindVector</span><span class="w"> </span><span class="p">{</span>
<a id="__codelineno-55-11" name="__codelineno-55-11"></a><span class="w">  </span><span class="kd">public</span><span class="w"> </span><span class="kd">static</span><span class="w"> </span><span class="kt">void</span><span class="w"> </span><span class="nf">main</span><span class="p">(</span><span class="n">String</span><span class="o">[]</span><span class="w"> </span><span class="n">args</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<a id="__codelineno-55-12" name="__codelineno-55-12"></a><span class="w">    </span><span class="n">AstraDB</span><span class="w"> </span><span class="n">db</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">new</span><span class="w"> </span><span class="n">AstraDB</span><span class="p">(</span><span class="s">&quot;TOKEN&quot;</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;API_ENDPOINT&quot;</span><span class="p">);</span>
<a id="__codelineno-55-13" name="__codelineno-55-13"></a><span class="w">    </span><span class="n">AstraDBCollection</span><span class="w"> </span><span class="n">collection</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">db</span><span class="p">.</span><span class="na">createCollection</span><span class="p">(</span><span class="s">&quot;collection_vector1&quot;</span><span class="p">,</span><span class="w"> </span><span class="mi">14</span><span class="p">);</span>
<a id="__codelineno-55-14" name="__codelineno-55-14"></a>
<a id="__codelineno-55-15" name="__codelineno-55-15"></a><span class="w">    </span><span class="kt">float</span><span class="o">[]</span><span class="w"> </span><span class="n">embeddings</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">new</span><span class="w"> </span><span class="kt">float</span><span class="o">[]</span><span class="p">{</span><span class="mf">1f</span><span class="p">,</span><span class="w"> </span><span class="mf">0f</span><span class="p">,</span><span class="w"> </span><span class="mf">1f</span><span class="p">,</span><span class="w"> </span><span class="mf">1f</span><span class="p">,</span><span class="w"> </span><span class="mf">1f</span><span class="p">,</span><span class="w"> </span><span class="mf">1f</span><span class="p">,</span><span class="w"> </span><span class="mf">0f</span><span class="p">,</span><span class="w"> </span><span class="mf">0f</span><span class="p">,</span><span class="w"> </span><span class="mf">0f</span><span class="p">,</span><span class="w"> </span><span class="mf">0f</span><span class="p">,</span><span class="w"> </span><span class="mf">0f</span><span class="p">,</span><span class="w"> </span><span class="mf">0f</span><span class="p">,</span><span class="w"> </span><span class="mf">0f</span><span class="p">,</span><span class="w"> </span><span class="mf">0f</span><span class="p">};</span>
<a id="__codelineno-55-16" name="__codelineno-55-16"></a><span class="w">    </span><span class="n">Filter</span><span class="w"> </span><span class="n">metadataFilter</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">new</span><span class="w"> </span><span class="n">Filter</span><span class="p">().</span><span class="na">where</span><span class="p">(</span><span class="s">&quot;product_price&quot;</span><span class="p">).</span><span class="na">isEqualsTo</span><span class="p">(</span><span class="mf">9.99</span><span class="p">);</span>
<a id="__codelineno-55-17" name="__codelineno-55-17"></a><span class="w">    </span><span class="kt">int</span><span class="w"> </span><span class="n">maxRecord</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">10</span><span class="p">;</span>
<a id="__codelineno-55-18" name="__codelineno-55-18"></a>
<a id="__codelineno-55-19" name="__codelineno-55-19"></a><span class="w">    </span><span class="c1">// Retrieve all document with product price based on the ann search</span>
<a id="__codelineno-55-20" name="__codelineno-55-20"></a><span class="w">    </span><span class="n">collection</span><span class="p">.</span><span class="na">findVector</span><span class="p">(</span><span class="n">SelectQuery</span><span class="p">.</span><span class="na">builder</span><span class="p">()</span>
<a id="__codelineno-55-21" name="__codelineno-55-21"></a><span class="w">       </span><span class="p">.</span><span class="na">filter</span><span class="p">(</span><span class="n">metadataFilter</span><span class="p">)</span>
<a id="__codelineno-55-22" name="__codelineno-55-22"></a><span class="w">       </span><span class="p">.</span><span class="na">orderByAnn</span><span class="p">(</span><span class="n">embeddings</span><span class="p">)</span>
<a id="__codelineno-55-23" name="__codelineno-55-23"></a><span class="w">       </span><span class="p">.</span><span class="na">withLimit</span><span class="p">(</span><span class="n">maxRecord</span><span class="p">)</span>
<a id="__codelineno-55-24" name="__codelineno-55-24"></a><span class="w">       </span><span class="p">.</span><span class="na">build</span><span class="p">())</span>
<a id="__codelineno-55-25" name="__codelineno-55-25"></a><span class="w">    </span><span class="p">.</span><span class="na">forEach</span><span class="p">(</span><span class="n">System</span><span class="p">.</span><span class="na">out</span><span class="p">::</span><span class="n">println</span><span class="p">);</span>
<a id="__codelineno-55-26" name="__codelineno-55-26"></a>
<a id="__codelineno-55-27" name="__codelineno-55-27"></a><span class="w">    </span><span class="c1">// Same using another signature</span>
<a id="__codelineno-55-28" name="__codelineno-55-28"></a><span class="w">    </span><span class="n">Stream</span><span class="o">&lt;</span><span class="n">JsonDocumentResult</span><span class="o">&gt;</span><span class="w"> </span><span class="n">result</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">collection</span><span class="p">.</span><span class="na">findVector</span><span class="p">(</span><span class="n">embeddings</span><span class="p">,</span><span class="w"> </span><span class="n">metadataFilter</span><span class="p">,</span><span class="w"> </span><span class="n">maxRecord</span><span class="p">);</span>
<a id="__codelineno-55-29" name="__codelineno-55-29"></a><span class="w">  </span><span class="p">}</span>
<a id="__codelineno-55-30" name="__codelineno-55-30"></a><span class="p">}</span>
</code></pre></div></td></tr></table></div>
<h4 id="paging">Paging<a class="headerlink" href="#paging" title="Permanent link">&para;</a></h4>
<p>Every request is paged with the Json API and the maximum page size is 20. The methods return Page<JsonResult> that contains the data but also a field called `pagingState</p>
<ul class="task-list">
<li class="task-list-item"><label class="task-list-control"><input type="checkbox" disabled checked/><span class="task-list-indicator"></span></label> <strong>Find Page</strong></li>
</ul>
<p>The signature are close to the <code>find()</code>. Reason is that <code>find()</code> is using findPage under the hood. The difference is that it will exhaust all the pages 
and return a <code>Stream&lt;JsonResult&gt;</code>.</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-56-1" name="__codelineno-56-1" href="#__codelineno-56-1"></a><span class="n">Page</span><span class="o">&lt;</span><span class="n">JsonResult</span><span class="o">&gt;</span><span class="w"> </span><span class="n">jsonResult</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">findPage</span><span class="p">(</span><span class="n">SelectQuery</span><span class="w"> </span><span class="n">query</span><span class="p">);</span>
<a id="__codelineno-56-2" name="__codelineno-56-2" href="#__codelineno-56-2"></a><span class="n">Page</span><span class="o">&lt;</span><span class="n">Result</span><span class="o">&lt;</span><span class="n">T</span><span class="o">&gt;&gt;</span><span class="w"> </span><span class="n">jsonResult2</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">findPage</span><span class="p">(</span><span class="n">SelectQuery</span><span class="w"> </span><span class="n">query</span><span class="p">,</span><span class="w"> </span><span class="n">Class</span><span class="o">&lt;</span><span class="n">T</span><span class="o">&gt;</span><span class="w"> </span><span class="n">clazz</span><span class="p">);</span>
<a id="__codelineno-56-3" name="__codelineno-56-3" href="#__codelineno-56-3"></a><span class="n">Page</span><span class="o">&lt;</span><span class="n">Result</span><span class="o">&lt;</span><span class="n">T</span><span class="o">&gt;&gt;</span><span class="w"> </span><span class="n">jsonResult3</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">findPage</span><span class="p">(</span><span class="n">SelectQuery</span><span class="w"> </span><span class="n">query</span><span class="p">,</span><span class="w"> </span><span class="n">ResultMapper</span><span class="o">&lt;</span><span class="n">T</span><span class="o">&gt;</span><span class="w"> </span><span class="n">clazz</span><span class="p">);</span>
</code></pre></div>
<div class="highlight"><table class="highlighttable"><tr><th colspan="2" class="filename"><span class="filename">FindPage.java</span></th></tr><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-57-1"> 1</a></span>
<span class="normal"><a href="#__codelineno-57-2"> 2</a></span>
<span class="normal"><a href="#__codelineno-57-3"> 3</a></span>
<span class="normal"><a href="#__codelineno-57-4"> 4</a></span>
<span class="normal"><a href="#__codelineno-57-5"> 5</a></span>
<span class="normal"><a href="#__codelineno-57-6"> 6</a></span>
<span class="normal"><a href="#__codelineno-57-7"> 7</a></span>
<span class="normal"><a href="#__codelineno-57-8"> 8</a></span>
<span class="normal"><a href="#__codelineno-57-9"> 9</a></span>
<span class="normal"><a href="#__codelineno-57-10">10</a></span>
<span class="normal"><a href="#__codelineno-57-11">11</a></span>
<span class="normal"><a href="#__codelineno-57-12">12</a></span>
<span class="normal"><a href="#__codelineno-57-13">13</a></span>
<span class="normal"><a href="#__codelineno-57-14">14</a></span>
<span class="normal"><a href="#__codelineno-57-15">15</a></span>
<span class="normal"><a href="#__codelineno-57-16">16</a></span>
<span class="normal"><a href="#__codelineno-57-17">17</a></span>
<span class="normal"><a href="#__codelineno-57-18">18</a></span>
<span class="normal"><a href="#__codelineno-57-19">19</a></span>
<span class="normal"><a href="#__codelineno-57-20">20</a></span>
<span class="normal"><a href="#__codelineno-57-21">21</a></span>
<span class="normal"><a href="#__codelineno-57-22">22</a></span>
<span class="normal"><a href="#__codelineno-57-23">23</a></span>
<span class="normal"><a href="#__codelineno-57-24">24</a></span>
<span class="normal"><a href="#__codelineno-57-25">25</a></span>
<span class="normal"><a href="#__codelineno-57-26">26</a></span>
<span class="normal"><a href="#__codelineno-57-27">27</a></span>
<span class="normal"><a href="#__codelineno-57-28">28</a></span>
<span class="normal"><a href="#__codelineno-57-29">29</a></span>
<span class="normal"><a href="#__codelineno-57-30">30</a></span>
<span class="normal"><a href="#__codelineno-57-31">31</a></span>
<span class="normal"><a href="#__codelineno-57-32">32</a></span>
<span class="normal"><a href="#__codelineno-57-33">33</a></span>
<span class="normal"><a href="#__codelineno-57-34">34</a></span>
<span class="normal"><a href="#__codelineno-57-35">35</a></span>
<span class="normal"><a href="#__codelineno-57-36">36</a></span>
<span class="normal"><a href="#__codelineno-57-37">37</a></span>
<span class="normal"><a href="#__codelineno-57-38">38</a></span>
<span class="normal"><a href="#__codelineno-57-39">39</a></span>
<span class="normal"><a href="#__codelineno-57-40">40</a></span>
<span class="normal"><a href="#__codelineno-57-41">41</a></span>
<span class="normal"><a href="#__codelineno-57-42">42</a></span>
<span class="normal"><a href="#__codelineno-57-43">43</a></span>
<span class="normal"><a href="#__codelineno-57-44">44</a></span>
<span class="normal"><a href="#__codelineno-57-45">45</a></span>
<span class="normal"><a href="#__codelineno-57-46">46</a></span>
<span class="normal"><a href="#__codelineno-57-47">47</a></span>
<span class="normal"><a href="#__codelineno-57-48">48</a></span>
<span class="normal"><a href="#__codelineno-57-49">49</a></span>
<span class="normal"><a href="#__codelineno-57-50">50</a></span>
<span class="normal"><a href="#__codelineno-57-51">51</a></span>
<span class="normal"><a href="#__codelineno-57-52">52</a></span>
<span class="normal"><a href="#__codelineno-57-53">53</a></span></pre></div></td><td class="code"><div><pre><span></span><code><a id="__codelineno-57-1" name="__codelineno-57-1"></a><span class="kn">package</span><span class="w"> </span><span class="nn">com.dtsx.astra.sdk.documentation</span><span class="p">;</span>
<a id="__codelineno-57-2" name="__codelineno-57-2"></a>
<a id="__codelineno-57-3" name="__codelineno-57-3"></a><span class="kn">import</span><span class="w"> </span><span class="nn">com.dtsx.astra.sdk.AstraDB</span><span class="p">;</span>
<a id="__codelineno-57-4" name="__codelineno-57-4"></a><span class="kn">import</span><span class="w"> </span><span class="nn">com.dtsx.astra.sdk.AstraDBCollection</span><span class="p">;</span>
<a id="__codelineno-57-5" name="__codelineno-57-5"></a><span class="kn">import</span><span class="w"> </span><span class="nn">com.fasterxml.jackson.annotation.JsonProperty</span><span class="p">;</span>
<a id="__codelineno-57-6" name="__codelineno-57-6"></a><span class="kn">import</span><span class="w"> </span><span class="nn">io.stargate.sdk.core.domain.Page</span><span class="p">;</span>
<a id="__codelineno-57-7" name="__codelineno-57-7"></a><span class="kn">import</span><span class="w"> </span><span class="nn">io.stargate.sdk.data.domain.JsonDocumentResult</span><span class="p">;</span>
<a id="__codelineno-57-8" name="__codelineno-57-8"></a><span class="kn">import</span><span class="w"> </span><span class="nn">io.stargate.sdk.data.domain.odm.DocumentResult</span><span class="p">;</span>
<a id="__codelineno-57-9" name="__codelineno-57-9"></a><span class="kn">import</span><span class="w"> </span><span class="nn">io.stargate.sdk.data.domain.query.Filter</span><span class="p">;</span>
<a id="__codelineno-57-10" name="__codelineno-57-10"></a><span class="kn">import</span><span class="w"> </span><span class="nn">io.stargate.sdk.data.domain.query.SelectQuery</span><span class="p">;</span>
<a id="__codelineno-57-11" name="__codelineno-57-11"></a>
<a id="__codelineno-57-12" name="__codelineno-57-12"></a><span class="kd">public</span><span class="w"> </span><span class="kd">class</span> <span class="nc">FindPage</span><span class="w"> </span><span class="p">{</span>
<a id="__codelineno-57-13" name="__codelineno-57-13"></a><span class="w">  </span><span class="kd">public</span><span class="w"> </span><span class="kd">static</span><span class="w"> </span><span class="kt">void</span><span class="w"> </span><span class="nf">main</span><span class="p">(</span><span class="n">String</span><span class="o">[]</span><span class="w"> </span><span class="n">args</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<a id="__codelineno-57-14" name="__codelineno-57-14"></a><span class="w">    </span><span class="n">AstraDB</span><span class="w"> </span><span class="n">db</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">new</span><span class="w"> </span><span class="n">AstraDB</span><span class="p">(</span><span class="s">&quot;TOKEN&quot;</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;API_ENDPOINT&quot;</span><span class="p">);</span>
<a id="__codelineno-57-15" name="__codelineno-57-15"></a><span class="w">    </span><span class="n">AstraDBCollection</span><span class="w"> </span><span class="n">collection</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">db</span><span class="p">.</span><span class="na">createCollection</span><span class="p">(</span><span class="s">&quot;collection_vector1&quot;</span><span class="p">,</span><span class="w"> </span><span class="mi">14</span><span class="p">);</span>
<a id="__codelineno-57-16" name="__codelineno-57-16"></a>
<a id="__codelineno-57-17" name="__codelineno-57-17"></a><span class="w">    </span><span class="c1">// Retrieve page 1 of a search (up to 20 results)</span>
<a id="__codelineno-57-18" name="__codelineno-57-18"></a><span class="w">    </span><span class="n">Filter</span><span class="w"> </span><span class="n">filter</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">new</span><span class="w"> </span><span class="n">Filter</span><span class="p">()</span>
<a id="__codelineno-57-19" name="__codelineno-57-19"></a><span class="w">            </span><span class="p">.</span><span class="na">where</span><span class="p">(</span><span class="s">&quot;product_price&quot;</span><span class="p">)</span>
<a id="__codelineno-57-20" name="__codelineno-57-20"></a><span class="w">            </span><span class="p">.</span><span class="na">exists</span><span class="p">();</span>
<a id="__codelineno-57-21" name="__codelineno-57-21"></a><span class="w">    </span><span class="n">Page</span><span class="o">&lt;</span><span class="n">JsonDocumentResult</span><span class="o">&gt;</span><span class="w"> </span><span class="n">page1</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">collection</span><span class="p">.</span><span class="na">findPage</span><span class="p">(</span>
<a id="__codelineno-57-22" name="__codelineno-57-22"></a><span class="w">        </span><span class="n">SelectQuery</span><span class="p">.</span><span class="na">builder</span><span class="p">()</span>
<a id="__codelineno-57-23" name="__codelineno-57-23"></a><span class="w">            </span><span class="p">.</span><span class="na">filter</span><span class="p">(</span><span class="n">filter</span><span class="p">)</span>
<a id="__codelineno-57-24" name="__codelineno-57-24"></a><span class="w">            </span><span class="p">.</span><span class="na">build</span><span class="p">());</span>
<a id="__codelineno-57-25" name="__codelineno-57-25"></a>
<a id="__codelineno-57-26" name="__codelineno-57-26"></a><span class="w">    </span><span class="c1">// Retrieve page 2 of the same search (if there are more than 20 results)</span>
<a id="__codelineno-57-27" name="__codelineno-57-27"></a><span class="w">    </span><span class="n">Filter</span><span class="w"> </span><span class="n">filter2</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">new</span><span class="w"> </span><span class="n">Filter</span><span class="p">()</span>
<a id="__codelineno-57-28" name="__codelineno-57-28"></a><span class="w">            </span><span class="p">.</span><span class="na">where</span><span class="p">(</span><span class="s">&quot;product_price&quot;</span><span class="p">)</span>
<a id="__codelineno-57-29" name="__codelineno-57-29"></a><span class="w">            </span><span class="p">.</span><span class="na">isEqualsTo</span><span class="p">(</span><span class="mf">12.99</span><span class="p">);</span>
<a id="__codelineno-57-30" name="__codelineno-57-30"></a><span class="w">    </span><span class="n">page1</span><span class="p">.</span><span class="na">getPageState</span><span class="p">().</span><span class="na">ifPresent</span><span class="p">(</span><span class="n">pageState</span><span class="w"> </span><span class="o">-&gt;</span><span class="w"> </span><span class="p">{</span>
<a id="__codelineno-57-31" name="__codelineno-57-31"></a><span class="w">        </span><span class="n">Page</span><span class="o">&lt;</span><span class="n">JsonDocumentResult</span><span class="o">&gt;</span><span class="w"> </span><span class="n">page2</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">collection</span><span class="p">.</span><span class="na">findPage</span><span class="p">(</span>
<a id="__codelineno-57-32" name="__codelineno-57-32"></a><span class="w">            </span><span class="n">SelectQuery</span><span class="p">.</span><span class="na">builder</span><span class="p">()</span>
<a id="__codelineno-57-33" name="__codelineno-57-33"></a><span class="w">                </span><span class="p">.</span><span class="na">filter</span><span class="p">(</span><span class="n">filter2</span><span class="p">)</span>
<a id="__codelineno-57-34" name="__codelineno-57-34"></a><span class="w">                </span><span class="p">.</span><span class="na">withPagingState</span><span class="p">(</span><span class="n">pageState</span><span class="p">)</span>
<a id="__codelineno-57-35" name="__codelineno-57-35"></a><span class="w">                </span><span class="p">.</span><span class="na">build</span><span class="p">());</span>
<a id="__codelineno-57-36" name="__codelineno-57-36"></a><span class="w">    </span><span class="p">});</span>
<a id="__codelineno-57-37" name="__codelineno-57-37"></a>
<a id="__codelineno-57-38" name="__codelineno-57-38"></a><span class="w">    </span><span class="c1">// You can map the output as Result&lt;T&gt; using either a Java pojo or mapper</span>
<a id="__codelineno-57-39" name="__codelineno-57-39"></a><span class="w">    </span><span class="n">Page</span><span class="o">&lt;</span><span class="n">DocumentResult</span><span class="o">&lt;</span><span class="n">MyBean</span><span class="o">&gt;&gt;</span><span class="w"> </span><span class="n">page</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">collection</span><span class="p">.</span><span class="na">findPage</span><span class="p">(</span>
<a id="__codelineno-57-40" name="__codelineno-57-40"></a><span class="w">        </span><span class="n">SelectQuery</span><span class="p">.</span><span class="na">builder</span><span class="p">().</span><span class="na">filter</span><span class="p">(</span><span class="n">filter2</span><span class="p">).</span><span class="na">build</span><span class="p">(),</span>
<a id="__codelineno-57-41" name="__codelineno-57-41"></a><span class="w">        </span><span class="n">MyBean</span><span class="p">.</span><span class="na">class</span><span class="p">);</span>
<a id="__codelineno-57-42" name="__codelineno-57-42"></a><span class="w">  </span><span class="p">}</span>
<a id="__codelineno-57-43" name="__codelineno-57-43"></a>
<a id="__codelineno-57-44" name="__codelineno-57-44"></a><span class="w">  </span><span class="kd">public</span><span class="w"> </span><span class="kd">static</span><span class="w"> </span><span class="kd">class</span> <span class="nc">MyBean</span><span class="w"> </span><span class="p">{</span>
<a id="__codelineno-57-45" name="__codelineno-57-45"></a><span class="w">    </span><span class="nd">@JsonProperty</span><span class="p">(</span><span class="s">&quot;product_name&quot;</span><span class="p">)</span><span class="w"> </span><span class="n">String</span><span class="w"> </span><span class="n">name</span><span class="p">;</span>
<a id="__codelineno-57-46" name="__codelineno-57-46"></a><span class="w">    </span><span class="nd">@JsonProperty</span><span class="p">(</span><span class="s">&quot;product_price&quot;</span><span class="p">)</span><span class="w"> </span><span class="n">Double</span><span class="w"> </span><span class="n">price</span><span class="p">;</span>
<a id="__codelineno-57-47" name="__codelineno-57-47"></a>
<a id="__codelineno-57-48" name="__codelineno-57-48"></a><span class="w">    </span><span class="kd">public</span><span class="w"> </span><span class="nf">MyBean</span><span class="p">(</span><span class="n">String</span><span class="w"> </span><span class="n">name</span><span class="p">,</span><span class="w"> </span><span class="n">Double</span><span class="w"> </span><span class="n">price</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<a id="__codelineno-57-49" name="__codelineno-57-49"></a><span class="w">      </span><span class="k">this</span><span class="p">.</span><span class="na">name</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">name</span><span class="p">;</span>
<a id="__codelineno-57-50" name="__codelineno-57-50"></a><span class="w">      </span><span class="k">this</span><span class="p">.</span><span class="na">price</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">price</span><span class="p">;</span>
<a id="__codelineno-57-51" name="__codelineno-57-51"></a><span class="w">    </span><span class="p">}</span>
<a id="__codelineno-57-52" name="__codelineno-57-52"></a><span class="w">  </span><span class="p">}</span>
<a id="__codelineno-57-53" name="__codelineno-57-53"></a><span class="p">}</span>
</code></pre></div></td></tr></table></div>
<h4 id="update-one">Update One<a class="headerlink" href="#update-one" title="Permanent link">&para;</a></h4>
<p>Allow to update an existing document:</p>
<div class="highlight"><table class="highlighttable"><tr><th colspan="2" class="filename"><span class="filename">UpdateOne.java</span></th></tr><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-58-1"> 1</a></span>
<span class="normal"><a href="#__codelineno-58-2"> 2</a></span>
<span class="normal"><a href="#__codelineno-58-3"> 3</a></span>
<span class="normal"><a href="#__codelineno-58-4"> 4</a></span>
<span class="normal"><a href="#__codelineno-58-5"> 5</a></span>
<span class="normal"><a href="#__codelineno-58-6"> 6</a></span>
<span class="normal"><a href="#__codelineno-58-7"> 7</a></span>
<span class="normal"><a href="#__codelineno-58-8"> 8</a></span>
<span class="normal"><a href="#__codelineno-58-9"> 9</a></span>
<span class="normal"><a href="#__codelineno-58-10">10</a></span>
<span class="normal"><a href="#__codelineno-58-11">11</a></span>
<span class="normal"><a href="#__codelineno-58-12">12</a></span>
<span class="normal"><a href="#__codelineno-58-13">13</a></span>
<span class="normal"><a href="#__codelineno-58-14">14</a></span>
<span class="normal"><a href="#__codelineno-58-15">15</a></span>
<span class="normal"><a href="#__codelineno-58-16">16</a></span>
<span class="normal"><a href="#__codelineno-58-17">17</a></span>
<span class="normal"><a href="#__codelineno-58-18">18</a></span>
<span class="normal"><a href="#__codelineno-58-19">19</a></span>
<span class="normal"><a href="#__codelineno-58-20">20</a></span>
<span class="normal"><a href="#__codelineno-58-21">21</a></span>
<span class="normal"><a href="#__codelineno-58-22">22</a></span>
<span class="normal"><a href="#__codelineno-58-23">23</a></span>
<span class="normal"><a href="#__codelineno-58-24">24</a></span>
<span class="normal"><a href="#__codelineno-58-25">25</a></span>
<span class="normal"><a href="#__codelineno-58-26">26</a></span>
<span class="normal"><a href="#__codelineno-58-27">27</a></span>
<span class="normal"><a href="#__codelineno-58-28">28</a></span>
<span class="normal"><a href="#__codelineno-58-29">29</a></span>
<span class="normal"><a href="#__codelineno-58-30">30</a></span></pre></div></td><td class="code"><div><pre><span></span><code><a id="__codelineno-58-1" name="__codelineno-58-1"></a><span class="kn">package</span><span class="w"> </span><span class="nn">com.dtsx.astra.sdk.documentation</span><span class="p">;</span>
<a id="__codelineno-58-2" name="__codelineno-58-2"></a>
<a id="__codelineno-58-3" name="__codelineno-58-3"></a><span class="kn">import</span><span class="w"> </span><span class="nn">com.dtsx.astra.sdk.AstraDB</span><span class="p">;</span>
<a id="__codelineno-58-4" name="__codelineno-58-4"></a><span class="kn">import</span><span class="w"> </span><span class="nn">com.dtsx.astra.sdk.AstraDBCollection</span><span class="p">;</span>
<a id="__codelineno-58-5" name="__codelineno-58-5"></a><span class="kn">import</span><span class="w"> </span><span class="nn">io.stargate.sdk.data.domain.JsonDocument</span><span class="p">;</span>
<a id="__codelineno-58-6" name="__codelineno-58-6"></a><span class="kn">import</span><span class="w"> </span><span class="nn">io.stargate.sdk.data.domain.query.UpdateQuery</span><span class="p">;</span>
<a id="__codelineno-58-7" name="__codelineno-58-7"></a>
<a id="__codelineno-58-8" name="__codelineno-58-8"></a><span class="kn">import static</span><span class="w"> </span><span class="nn">io.stargate.sdk.http.domain.FilterOperator.EQUALS_TO</span><span class="p">;</span>
<a id="__codelineno-58-9" name="__codelineno-58-9"></a>
<a id="__codelineno-58-10" name="__codelineno-58-10"></a><span class="kd">public</span><span class="w"> </span><span class="kd">class</span> <span class="nc">UpdateOne</span><span class="w"> </span><span class="p">{</span>
<a id="__codelineno-58-11" name="__codelineno-58-11"></a><span class="w">  </span><span class="kd">public</span><span class="w"> </span><span class="kd">static</span><span class="w"> </span><span class="kt">void</span><span class="w"> </span><span class="nf">main</span><span class="p">(</span><span class="n">String</span><span class="o">[]</span><span class="w"> </span><span class="n">args</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<a id="__codelineno-58-12" name="__codelineno-58-12"></a><span class="w">    </span><span class="n">AstraDB</span><span class="w"> </span><span class="n">db</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">new</span><span class="w"> </span><span class="n">AstraDB</span><span class="p">(</span><span class="s">&quot;TOKEN&quot;</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;API_ENDPOINT&quot;</span><span class="p">);</span>
<a id="__codelineno-58-13" name="__codelineno-58-13"></a><span class="w">    </span><span class="n">AstraDBCollection</span><span class="w"> </span><span class="n">collection</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">db</span><span class="p">.</span><span class="na">collection</span><span class="p">(</span><span class="s">&quot;collection_vector1&quot;</span><span class="p">);</span>
<a id="__codelineno-58-14" name="__codelineno-58-14"></a>
<a id="__codelineno-58-15" name="__codelineno-58-15"></a><span class="w">    </span><span class="c1">// You must delete any existing rows with the same IDs as the</span>
<a id="__codelineno-58-16" name="__codelineno-58-16"></a><span class="w">    </span><span class="c1">// rows you want to insert</span>
<a id="__codelineno-58-17" name="__codelineno-58-17"></a><span class="w">    </span><span class="n">collection</span><span class="p">.</span><span class="na">deleteAll</span><span class="p">();</span>
<a id="__codelineno-58-18" name="__codelineno-58-18"></a>
<a id="__codelineno-58-19" name="__codelineno-58-19"></a><span class="w">    </span><span class="c1">// Upsert a document based on a query</span>
<a id="__codelineno-58-20" name="__codelineno-58-20"></a><span class="w">    </span><span class="n">collection</span><span class="p">.</span><span class="na">updateOne</span><span class="p">(</span><span class="n">UpdateQuery</span><span class="p">.</span><span class="na">builder</span><span class="p">()</span>
<a id="__codelineno-58-21" name="__codelineno-58-21"></a><span class="w">      </span><span class="p">.</span><span class="na">updateSet</span><span class="p">(</span><span class="s">&quot;product_name&quot;</span><span class="p">,</span><span class="w"> </span><span class="mf">12.99</span><span class="p">)</span>
<a id="__codelineno-58-22" name="__codelineno-58-22"></a><span class="w">      </span><span class="p">.</span><span class="na">where</span><span class="p">(</span><span class="s">&quot;product_name&quot;</span><span class="p">,</span><span class="w"> </span><span class="n">EQUALS_TO</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;HealthyFresh - Beef raw dog food&quot;</span><span class="p">)</span>
<a id="__codelineno-58-23" name="__codelineno-58-23"></a><span class="w">      </span><span class="p">.</span><span class="na">build</span><span class="p">());</span>
<a id="__codelineno-58-24" name="__codelineno-58-24"></a>
<a id="__codelineno-58-25" name="__codelineno-58-25"></a><span class="w">    </span><span class="c1">// Upsert a document by ID</span>
<a id="__codelineno-58-26" name="__codelineno-58-26"></a><span class="w">    </span><span class="n">collection</span><span class="p">.</span><span class="na">upsertOne</span><span class="p">(</span><span class="k">new</span><span class="w"> </span><span class="n">JsonDocument</span><span class="p">()</span>
<a id="__codelineno-58-27" name="__codelineno-58-27"></a><span class="w">        </span><span class="p">.</span><span class="na">id</span><span class="p">(</span><span class="s">&quot;id1&quot;</span><span class="p">)</span>
<a id="__codelineno-58-28" name="__codelineno-58-28"></a><span class="w">        </span><span class="p">.</span><span class="na">put</span><span class="p">(</span><span class="s">&quot;product_name&quot;</span><span class="p">,</span><span class="w"> </span><span class="mf">12.99</span><span class="p">));</span>
<a id="__codelineno-58-29" name="__codelineno-58-29"></a><span class="w">  </span><span class="p">}</span>
<a id="__codelineno-58-30" name="__codelineno-58-30"></a><span class="p">}</span>
</code></pre></div></td></tr></table></div>
<h4 id="update-many">Update Many<a class="headerlink" href="#update-many" title="Permanent link">&para;</a></h4>
<p>Allow to update a set of document matching a request.</p>
<div class="highlight"><table class="highlighttable"><tr><th colspan="2" class="filename"><span class="filename">UpdateMany.java</span></th></tr><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-59-1"> 1</a></span>
<span class="normal"><a href="#__codelineno-59-2"> 2</a></span>
<span class="normal"><a href="#__codelineno-59-3"> 3</a></span>
<span class="normal"><a href="#__codelineno-59-4"> 4</a></span>
<span class="normal"><a href="#__codelineno-59-5"> 5</a></span>
<span class="normal"><a href="#__codelineno-59-6"> 6</a></span>
<span class="normal"><a href="#__codelineno-59-7"> 7</a></span>
<span class="normal"><a href="#__codelineno-59-8"> 8</a></span>
<span class="normal"><a href="#__codelineno-59-9"> 9</a></span>
<span class="normal"><a href="#__codelineno-59-10">10</a></span>
<span class="normal"><a href="#__codelineno-59-11">11</a></span>
<span class="normal"><a href="#__codelineno-59-12">12</a></span>
<span class="normal"><a href="#__codelineno-59-13">13</a></span>
<span class="normal"><a href="#__codelineno-59-14">14</a></span>
<span class="normal"><a href="#__codelineno-59-15">15</a></span>
<span class="normal"><a href="#__codelineno-59-16">16</a></span>
<span class="normal"><a href="#__codelineno-59-17">17</a></span>
<span class="normal"><a href="#__codelineno-59-18">18</a></span>
<span class="normal"><a href="#__codelineno-59-19">19</a></span>
<span class="normal"><a href="#__codelineno-59-20">20</a></span></pre></div></td><td class="code"><div><pre><span></span><code><a id="__codelineno-59-1" name="__codelineno-59-1"></a><span class="kn">package</span><span class="w"> </span><span class="nn">com.dtsx.astra.sdk.documentation</span><span class="p">;</span>
<a id="__codelineno-59-2" name="__codelineno-59-2"></a>
<a id="__codelineno-59-3" name="__codelineno-59-3"></a><span class="kn">import</span><span class="w"> </span><span class="nn">com.dtsx.astra.sdk.AstraDB</span><span class="p">;</span>
<a id="__codelineno-59-4" name="__codelineno-59-4"></a><span class="kn">import</span><span class="w"> </span><span class="nn">com.dtsx.astra.sdk.AstraDBCollection</span><span class="p">;</span>
<a id="__codelineno-59-5" name="__codelineno-59-5"></a><span class="kn">import</span><span class="w"> </span><span class="nn">io.stargate.sdk.data.domain.query.Filter</span><span class="p">;</span>
<a id="__codelineno-59-6" name="__codelineno-59-6"></a><span class="kn">import</span><span class="w"> </span><span class="nn">io.stargate.sdk.data.domain.query.UpdateQuery</span><span class="p">;</span>
<a id="__codelineno-59-7" name="__codelineno-59-7"></a><span class="kn">import</span><span class="w"> </span><span class="nn">io.stargate.sdk.http.domain.FilterOperator</span><span class="p">;</span>
<a id="__codelineno-59-8" name="__codelineno-59-8"></a>
<a id="__codelineno-59-9" name="__codelineno-59-9"></a><span class="kd">public</span><span class="w"> </span><span class="kd">class</span> <span class="nc">UpdateMany</span><span class="w"> </span><span class="p">{</span>
<a id="__codelineno-59-10" name="__codelineno-59-10"></a><span class="w">  </span><span class="kd">public</span><span class="w"> </span><span class="kd">static</span><span class="w"> </span><span class="kt">void</span><span class="w"> </span><span class="nf">main</span><span class="p">(</span><span class="n">String</span><span class="o">[]</span><span class="w"> </span><span class="n">args</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<a id="__codelineno-59-11" name="__codelineno-59-11"></a><span class="w">    </span><span class="n">AstraDB</span><span class="w"> </span><span class="n">db</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">new</span><span class="w"> </span><span class="n">AstraDB</span><span class="p">(</span><span class="s">&quot;TOKEN&quot;</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;API_ENDPOINT&quot;</span><span class="p">);</span>
<a id="__codelineno-59-12" name="__codelineno-59-12"></a><span class="w">    </span><span class="n">AstraDBCollection</span><span class="w"> </span><span class="n">collection</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">db</span><span class="p">.</span><span class="na">collection</span><span class="p">(</span><span class="s">&quot;collection_vector1&quot;</span><span class="p">);</span>
<a id="__codelineno-59-13" name="__codelineno-59-13"></a>
<a id="__codelineno-59-14" name="__codelineno-59-14"></a><span class="w">    </span><span class="c1">// Update multiple documents based on a query</span>
<a id="__codelineno-59-15" name="__codelineno-59-15"></a><span class="w">    </span><span class="n">collection</span><span class="p">.</span><span class="na">updateMany</span><span class="p">(</span><span class="n">UpdateQuery</span><span class="p">.</span><span class="na">builder</span><span class="p">()</span>
<a id="__codelineno-59-16" name="__codelineno-59-16"></a><span class="w">        </span><span class="p">.</span><span class="na">updateSet</span><span class="p">(</span><span class="s">&quot;product_name&quot;</span><span class="p">,</span><span class="w"> </span><span class="mf">12.99</span><span class="p">)</span>
<a id="__codelineno-59-17" name="__codelineno-59-17"></a><span class="w">        </span><span class="p">.</span><span class="na">filter</span><span class="p">(</span><span class="k">new</span><span class="w"> </span><span class="n">Filter</span><span class="p">(</span><span class="s">&quot;product_name&quot;</span><span class="p">,</span><span class="w"> </span><span class="n">FilterOperator</span><span class="p">.</span><span class="na">EQUALS_TO</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;HealthyFresh - Beef raw dog food&quot;</span><span class="p">))</span>
<a id="__codelineno-59-18" name="__codelineno-59-18"></a><span class="w">        </span><span class="p">.</span><span class="na">build</span><span class="p">());</span>
<a id="__codelineno-59-19" name="__codelineno-59-19"></a><span class="w">  </span><span class="p">}</span>
<a id="__codelineno-59-20" name="__codelineno-59-20"></a><span class="p">}</span>
</code></pre></div></td></tr></table></div>
<h4 id="delete-one">Delete One<a class="headerlink" href="#delete-one" title="Permanent link">&para;</a></h4>
<p>Use to delete an existing document.</p>
<div class="highlight"><table class="highlighttable"><tr><th colspan="2" class="filename"><span class="filename">DeleteOne.java</span></th></tr><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-60-1"> 1</a></span>
<span class="normal"><a href="#__codelineno-60-2"> 2</a></span>
<span class="normal"><a href="#__codelineno-60-3"> 3</a></span>
<span class="normal"><a href="#__codelineno-60-4"> 4</a></span>
<span class="normal"><a href="#__codelineno-60-5"> 5</a></span>
<span class="normal"><a href="#__codelineno-60-6"> 6</a></span>
<span class="normal"><a href="#__codelineno-60-7"> 7</a></span>
<span class="normal"><a href="#__codelineno-60-8"> 8</a></span>
<span class="normal"><a href="#__codelineno-60-9"> 9</a></span>
<span class="normal"><a href="#__codelineno-60-10">10</a></span>
<span class="normal"><a href="#__codelineno-60-11">11</a></span>
<span class="normal"><a href="#__codelineno-60-12">12</a></span>
<span class="normal"><a href="#__codelineno-60-13">13</a></span>
<span class="normal"><a href="#__codelineno-60-14">14</a></span>
<span class="normal"><a href="#__codelineno-60-15">15</a></span>
<span class="normal"><a href="#__codelineno-60-16">16</a></span>
<span class="normal"><a href="#__codelineno-60-17">17</a></span></pre></div></td><td class="code"><div><pre><span></span><code><a id="__codelineno-60-1" name="__codelineno-60-1"></a><span class="kn">package</span><span class="w"> </span><span class="nn">com.dtsx.astra.sdk.documentation</span><span class="p">;</span>
<a id="__codelineno-60-2" name="__codelineno-60-2"></a>
<a id="__codelineno-60-3" name="__codelineno-60-3"></a><span class="kn">import</span><span class="w"> </span><span class="nn">com.dtsx.astra.sdk.AstraDB</span><span class="p">;</span>
<a id="__codelineno-60-4" name="__codelineno-60-4"></a><span class="kn">import</span><span class="w"> </span><span class="nn">com.dtsx.astra.sdk.AstraDBCollection</span><span class="p">;</span>
<a id="__codelineno-60-5" name="__codelineno-60-5"></a><span class="kn">import</span><span class="w"> </span><span class="nn">io.stargate.sdk.data.domain.query.DeleteQuery</span><span class="p">;</span>
<a id="__codelineno-60-6" name="__codelineno-60-6"></a><span class="kn">import</span><span class="w"> </span><span class="nn">io.stargate.sdk.data.domain.query.DeleteResult</span><span class="p">;</span>
<a id="__codelineno-60-7" name="__codelineno-60-7"></a>
<a id="__codelineno-60-8" name="__codelineno-60-8"></a><span class="kd">public</span><span class="w"> </span><span class="kd">class</span> <span class="nc">DeleteOne</span><span class="w"> </span><span class="p">{</span>
<a id="__codelineno-60-9" name="__codelineno-60-9"></a><span class="w">  </span><span class="kd">public</span><span class="w"> </span><span class="kd">static</span><span class="w"> </span><span class="kt">void</span><span class="w"> </span><span class="nf">main</span><span class="p">(</span><span class="n">String</span><span class="o">[]</span><span class="w"> </span><span class="n">args</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<a id="__codelineno-60-10" name="__codelineno-60-10"></a><span class="w">    </span><span class="n">AstraDB</span><span class="w"> </span><span class="n">db</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">new</span><span class="w"> </span><span class="n">AstraDB</span><span class="p">(</span><span class="s">&quot;TOKEN&quot;</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;API_ENDPOINT&quot;</span><span class="p">);</span>
<a id="__codelineno-60-11" name="__codelineno-60-11"></a><span class="w">    </span><span class="n">AstraDBCollection</span><span class="w"> </span><span class="n">collection</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">db</span><span class="p">.</span><span class="na">createCollection</span><span class="p">(</span><span class="s">&quot;collection_vector1&quot;</span><span class="p">,</span><span class="w"> </span><span class="mi">14</span><span class="p">);</span>
<a id="__codelineno-60-12" name="__codelineno-60-12"></a>
<a id="__codelineno-60-13" name="__codelineno-60-13"></a><span class="w">    </span><span class="c1">// Delete items from an existing collection with a query</span>
<a id="__codelineno-60-14" name="__codelineno-60-14"></a><span class="w">    </span><span class="n">DeleteResult</span><span class="w"> </span><span class="n">deletedCount</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">collection</span>
<a id="__codelineno-60-15" name="__codelineno-60-15"></a><span class="w">            </span><span class="p">.</span><span class="na">deleteOne</span><span class="p">(</span><span class="n">DeleteQuery</span><span class="p">.</span><span class="na">deleteById</span><span class="p">(</span><span class="s">&quot;id1&quot;</span><span class="p">));</span>
<a id="__codelineno-60-16" name="__codelineno-60-16"></a><span class="w">  </span><span class="p">}</span>
<a id="__codelineno-60-17" name="__codelineno-60-17"></a><span class="p">}</span>
</code></pre></div></td></tr></table></div>
<h4 id="delete-many">Delete Many<a class="headerlink" href="#delete-many" title="Permanent link">&para;</a></h4>
<p>Used to delete a set of document matching a request.</p>
<div class="highlight"><table class="highlighttable"><tr><th colspan="2" class="filename"><span class="filename">DeleteMany.java</span></th></tr><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-61-1"> 1</a></span>
<span class="normal"><a href="#__codelineno-61-2"> 2</a></span>
<span class="normal"><a href="#__codelineno-61-3"> 3</a></span>
<span class="normal"><a href="#__codelineno-61-4"> 4</a></span>
<span class="normal"><a href="#__codelineno-61-5"> 5</a></span>
<span class="normal"><a href="#__codelineno-61-6"> 6</a></span>
<span class="normal"><a href="#__codelineno-61-7"> 7</a></span>
<span class="normal"><a href="#__codelineno-61-8"> 8</a></span>
<span class="normal"><a href="#__codelineno-61-9"> 9</a></span>
<span class="normal"><a href="#__codelineno-61-10">10</a></span>
<span class="normal"><a href="#__codelineno-61-11">11</a></span>
<span class="normal"><a href="#__codelineno-61-12">12</a></span>
<span class="normal"><a href="#__codelineno-61-13">13</a></span>
<span class="normal"><a href="#__codelineno-61-14">14</a></span>
<span class="normal"><a href="#__codelineno-61-15">15</a></span>
<span class="normal"><a href="#__codelineno-61-16">16</a></span>
<span class="normal"><a href="#__codelineno-61-17">17</a></span>
<span class="normal"><a href="#__codelineno-61-18">18</a></span>
<span class="normal"><a href="#__codelineno-61-19">19</a></span>
<span class="normal"><a href="#__codelineno-61-20">20</a></span>
<span class="normal"><a href="#__codelineno-61-21">21</a></span>
<span class="normal"><a href="#__codelineno-61-22">22</a></span>
<span class="normal"><a href="#__codelineno-61-23">23</a></span>
<span class="normal"><a href="#__codelineno-61-24">24</a></span>
<span class="normal"><a href="#__codelineno-61-25">25</a></span>
<span class="normal"><a href="#__codelineno-61-26">26</a></span>
<span class="normal"><a href="#__codelineno-61-27">27</a></span>
<span class="normal"><a href="#__codelineno-61-28">28</a></span>
<span class="normal"><a href="#__codelineno-61-29">29</a></span>
<span class="normal"><a href="#__codelineno-61-30">30</a></span>
<span class="normal"><a href="#__codelineno-61-31">31</a></span>
<span class="normal"><a href="#__codelineno-61-32">32</a></span>
<span class="normal"><a href="#__codelineno-61-33">33</a></span>
<span class="normal"><a href="#__codelineno-61-34">34</a></span></pre></div></td><td class="code"><div><pre><span></span><code><a id="__codelineno-61-1" name="__codelineno-61-1"></a><span class="kn">package</span><span class="w"> </span><span class="nn">com.dtsx.astra.sdk.documentation</span><span class="p">;</span>
<a id="__codelineno-61-2" name="__codelineno-61-2"></a>
<a id="__codelineno-61-3" name="__codelineno-61-3"></a><span class="kn">import</span><span class="w"> </span><span class="nn">com.dtsx.astra.sdk.AstraDB</span><span class="p">;</span>
<a id="__codelineno-61-4" name="__codelineno-61-4"></a><span class="kn">import</span><span class="w"> </span><span class="nn">com.dtsx.astra.sdk.AstraDBCollection</span><span class="p">;</span>
<a id="__codelineno-61-5" name="__codelineno-61-5"></a><span class="kn">import</span><span class="w"> </span><span class="nn">io.stargate.sdk.data.domain.query.DeleteQuery</span><span class="p">;</span>
<a id="__codelineno-61-6" name="__codelineno-61-6"></a><span class="kn">import</span><span class="w"> </span><span class="nn">io.stargate.sdk.data.domain.query.DeleteResult</span><span class="p">;</span>
<a id="__codelineno-61-7" name="__codelineno-61-7"></a><span class="kn">import</span><span class="w"> </span><span class="nn">io.stargate.sdk.data.domain.query.Filter</span><span class="p">;</span>
<a id="__codelineno-61-8" name="__codelineno-61-8"></a><span class="kn">import</span><span class="w"> </span><span class="nn">io.stargate.sdk.http.domain.FilterOperator</span><span class="p">;</span>
<a id="__codelineno-61-9" name="__codelineno-61-9"></a>
<a id="__codelineno-61-10" name="__codelineno-61-10"></a><span class="kn">import static</span><span class="w"> </span><span class="nn">io.stargate.sdk.http.domain.FilterOperator.EQUALS_TO</span><span class="p">;</span>
<a id="__codelineno-61-11" name="__codelineno-61-11"></a>
<a id="__codelineno-61-12" name="__codelineno-61-12"></a><span class="kd">public</span><span class="w"> </span><span class="kd">class</span> <span class="nc">DeleteMany</span><span class="w"> </span><span class="p">{</span>
<a id="__codelineno-61-13" name="__codelineno-61-13"></a><span class="w">  </span><span class="kd">public</span><span class="w"> </span><span class="kd">static</span><span class="w"> </span><span class="kt">void</span><span class="w"> </span><span class="nf">main</span><span class="p">(</span><span class="n">String</span><span class="o">[]</span><span class="w"> </span><span class="n">args</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<a id="__codelineno-61-14" name="__codelineno-61-14"></a><span class="w">    </span><span class="n">AstraDB</span><span class="w"> </span><span class="n">db</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">new</span><span class="w"> </span><span class="n">AstraDB</span><span class="p">(</span><span class="s">&quot;TOKEN&quot;</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;API_ENDPOINT&quot;</span><span class="p">);</span>
<a id="__codelineno-61-15" name="__codelineno-61-15"></a><span class="w">    </span><span class="n">AstraDBCollection</span><span class="w"> </span><span class="n">collection</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">db</span><span class="p">.</span><span class="na">createCollection</span><span class="p">(</span><span class="s">&quot;collection_vector1&quot;</span><span class="p">,</span><span class="w"> </span><span class="mi">14</span><span class="p">);</span>
<a id="__codelineno-61-16" name="__codelineno-61-16"></a>
<a id="__codelineno-61-17" name="__codelineno-61-17"></a><span class="w">    </span><span class="c1">// Build our query</span>
<a id="__codelineno-61-18" name="__codelineno-61-18"></a><span class="w">    </span><span class="n">DeleteQuery</span><span class="w"> </span><span class="n">deleteQuery</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">DeleteQuery</span><span class="p">.</span><span class="na">builder</span><span class="p">()</span>
<a id="__codelineno-61-19" name="__codelineno-61-19"></a><span class="w">      </span><span class="p">.</span><span class="na">where</span><span class="p">(</span><span class="s">&quot;product_price&quot;</span><span class="p">,</span><span class="w"> </span><span class="n">EQUALS_TO</span><span class="p">,</span><span class="w"> </span><span class="mf">9.99</span><span class="p">)</span>
<a id="__codelineno-61-20" name="__codelineno-61-20"></a><span class="w">      </span><span class="p">.</span><span class="na">build</span><span class="p">();</span>
<a id="__codelineno-61-21" name="__codelineno-61-21"></a>
<a id="__codelineno-61-22" name="__codelineno-61-22"></a><span class="w">    </span><span class="c1">// Deleting only up to 20 record</span>
<a id="__codelineno-61-23" name="__codelineno-61-23"></a><span class="w">    </span><span class="n">DeleteResult</span><span class="w"> </span><span class="n">page</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">collection</span>
<a id="__codelineno-61-24" name="__codelineno-61-24"></a><span class="w">            </span><span class="p">.</span><span class="na">deleteManyPaged</span><span class="p">(</span><span class="n">deleteQuery</span><span class="p">);</span>
<a id="__codelineno-61-25" name="__codelineno-61-25"></a>
<a id="__codelineno-61-26" name="__codelineno-61-26"></a><span class="w">    </span><span class="c1">// Deleting all documents matching query</span>
<a id="__codelineno-61-27" name="__codelineno-61-27"></a><span class="w">    </span><span class="n">DeleteResult</span><span class="w"> </span><span class="n">allDeleted</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">collection</span>
<a id="__codelineno-61-28" name="__codelineno-61-28"></a><span class="w">            </span><span class="p">.</span><span class="na">deleteMany</span><span class="p">(</span><span class="n">deleteQuery</span><span class="p">);</span>
<a id="__codelineno-61-29" name="__codelineno-61-29"></a>
<a id="__codelineno-61-30" name="__codelineno-61-30"></a><span class="w">    </span><span class="c1">// Deleting all documents matching query in distributed way</span>
<a id="__codelineno-61-31" name="__codelineno-61-31"></a><span class="w">    </span><span class="n">DeleteResult</span><span class="w"> </span><span class="n">result</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">collection</span>
<a id="__codelineno-61-32" name="__codelineno-61-32"></a><span class="w">            </span><span class="p">.</span><span class="na">deleteManyChunked</span><span class="p">(</span><span class="n">deleteQuery</span><span class="p">,</span><span class="w"> </span><span class="mi">5</span><span class="p">);</span>
<a id="__codelineno-61-33" name="__codelineno-61-33"></a><span class="w">  </span><span class="p">}</span>
<a id="__codelineno-61-34" name="__codelineno-61-34"></a><span class="p">}</span>
</code></pre></div></td></tr></table></div>
<h4 id="clear">Clear<a class="headerlink" href="#clear" title="Permanent link">&para;</a></h4>
<p>Used to empty a collection</p>
<div class="highlight"><table class="highlighttable"><tr><th colspan="2" class="filename"><span class="filename">ClearCollection.java</span></th></tr><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-62-1"> 1</a></span>
<span class="normal"><a href="#__codelineno-62-2"> 2</a></span>
<span class="normal"><a href="#__codelineno-62-3"> 3</a></span>
<span class="normal"><a href="#__codelineno-62-4"> 4</a></span>
<span class="normal"><a href="#__codelineno-62-5"> 5</a></span>
<span class="normal"><a href="#__codelineno-62-6"> 6</a></span>
<span class="normal"><a href="#__codelineno-62-7"> 7</a></span>
<span class="normal"><a href="#__codelineno-62-8"> 8</a></span>
<span class="normal"><a href="#__codelineno-62-9"> 9</a></span>
<span class="normal"><a href="#__codelineno-62-10">10</a></span>
<span class="normal"><a href="#__codelineno-62-11">11</a></span>
<span class="normal"><a href="#__codelineno-62-12">12</a></span>
<span class="normal"><a href="#__codelineno-62-13">13</a></span>
<span class="normal"><a href="#__codelineno-62-14">14</a></span></pre></div></td><td class="code"><div><pre><span></span><code><a id="__codelineno-62-1" name="__codelineno-62-1"></a><span class="kn">package</span><span class="w"> </span><span class="nn">com.dtsx.astra.sdk.documentation</span><span class="p">;</span>
<a id="__codelineno-62-2" name="__codelineno-62-2"></a>
<a id="__codelineno-62-3" name="__codelineno-62-3"></a><span class="kn">import</span><span class="w"> </span><span class="nn">com.dtsx.astra.sdk.AstraDB</span><span class="p">;</span>
<a id="__codelineno-62-4" name="__codelineno-62-4"></a><span class="kn">import</span><span class="w"> </span><span class="nn">com.dtsx.astra.sdk.AstraDBCollection</span><span class="p">;</span>
<a id="__codelineno-62-5" name="__codelineno-62-5"></a>
<a id="__codelineno-62-6" name="__codelineno-62-6"></a><span class="kd">public</span><span class="w"> </span><span class="kd">class</span> <span class="nc">ClearCollection</span><span class="w"> </span><span class="p">{</span>
<a id="__codelineno-62-7" name="__codelineno-62-7"></a><span class="w">  </span><span class="kd">public</span><span class="w"> </span><span class="kd">static</span><span class="w"> </span><span class="kt">void</span><span class="w"> </span><span class="nf">main</span><span class="p">(</span><span class="n">String</span><span class="o">[]</span><span class="w"> </span><span class="n">args</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<a id="__codelineno-62-8" name="__codelineno-62-8"></a><span class="w">    </span><span class="n">AstraDB</span><span class="w"> </span><span class="n">db</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">new</span><span class="w"> </span><span class="n">AstraDB</span><span class="p">(</span><span class="s">&quot;TOKEN&quot;</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;API_ENDPOINT&quot;</span><span class="p">);</span>
<a id="__codelineno-62-9" name="__codelineno-62-9"></a><span class="w">    </span><span class="n">AstraDBCollection</span><span class="w"> </span><span class="n">collection</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">db</span><span class="p">.</span><span class="na">createCollection</span><span class="p">(</span><span class="s">&quot;collection_vector1&quot;</span><span class="p">,</span><span class="w"> </span><span class="mi">14</span><span class="p">);</span>
<a id="__codelineno-62-10" name="__codelineno-62-10"></a>
<a id="__codelineno-62-11" name="__codelineno-62-11"></a><span class="w">    </span><span class="c1">// Delete all rows from an existing collection</span>
<a id="__codelineno-62-12" name="__codelineno-62-12"></a><span class="w">    </span><span class="n">collection</span><span class="p">.</span><span class="na">deleteAll</span><span class="p">();</span>
<a id="__codelineno-62-13" name="__codelineno-62-13"></a><span class="w">  </span><span class="p">}</span>
<a id="__codelineno-62-14" name="__codelineno-62-14"></a><span class="p">}</span>
</code></pre></div></td></tr></table></div>
<h3 id="object-mapping">Object Mapping<a class="headerlink" href="#object-mapping" title="Permanent link">&para;</a></h3>
<details class="info annotate" open="open">
<summary>Overview</summary>
<p>Instead of interacting with the database with key/values you may want to
associate an object to each record in the collection for this you can use <code>CollectionRepository</code>. If we reproduce the sample before</p>
<p><img src="../../../../img/sdk/uml-repository.png" /></p>
</details>
<h4 id="repository-pattern">Repository Pattern<a class="headerlink" href="#repository-pattern" title="Permanent link">&para;</a></h4>
<p>Instead of working with raw <code>JsonDocument</code> you can work with your own object. The object will be serialized to JSON and stored in the database. You do not want to provide a <code>ResultMapper</code> each time but rather use the repository pattern.
We will follow the <a href="https://docs.spring.io/spring-data/commons/docs/current/api/org/springframework/data/repository/CrudRepository.html">signature of the <code>CrudRepository</code> from Spring Data</a>. </p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-63-1" name="__codelineno-63-1" href="#__codelineno-63-1"></a><span class="kt">long</span><span class="w"> </span><span class="nf">count</span><span class="p">();</span>
<a id="__codelineno-63-2" name="__codelineno-63-2" href="#__codelineno-63-2"></a><span class="kt">void</span><span class="w"> </span><span class="nf">delete</span><span class="p">(</span><span class="n">T</span><span class="w"> </span><span class="n">entity</span><span class="p">);</span>
<a id="__codelineno-63-3" name="__codelineno-63-3" href="#__codelineno-63-3"></a><span class="kt">void</span><span class="w"> </span><span class="nf">deleteAll</span><span class="p">();</span>
<a id="__codelineno-63-4" name="__codelineno-63-4" href="#__codelineno-63-4"></a><span class="kt">void</span><span class="w"> </span><span class="nf">deleteAll</span><span class="p">(</span><span class="n">Iterable</span><span class="o">&lt;?</span><span class="w"> </span><span class="kd">extends</span><span class="w"> </span><span class="n">T</span><span class="o">&gt;</span><span class="w"> </span><span class="n">entities</span><span class="p">);</span>
<a id="__codelineno-63-5" name="__codelineno-63-5" href="#__codelineno-63-5"></a><span class="kt">void</span><span class="w"> </span><span class="nf">deleteAllById</span><span class="p">(</span><span class="n">Iterable</span><span class="o">&lt;?</span><span class="w"> </span><span class="kd">extends</span><span class="w"> </span><span class="n">ID</span><span class="o">&gt;</span><span class="w"> </span><span class="n">ids</span><span class="p">);</span>
<a id="__codelineno-63-6" name="__codelineno-63-6" href="#__codelineno-63-6"></a><span class="kt">void</span><span class="w"> </span><span class="nf">deleteById</span><span class="p">(</span><span class="n">ID</span><span class="w"> </span><span class="n">id</span><span class="p">);</span>
<a id="__codelineno-63-7" name="__codelineno-63-7" href="#__codelineno-63-7"></a><span class="kt">boolean</span><span class="w"> </span><span class="nf">existsById</span><span class="p">(</span><span class="n">ID</span><span class="w"> </span><span class="n">id</span><span class="p">);</span>
<a id="__codelineno-63-8" name="__codelineno-63-8" href="#__codelineno-63-8"></a><span class="n">Iterable</span><span class="o">&lt;</span><span class="n">T</span><span class="o">&gt;</span><span class="w"> </span><span class="nf">findAll</span><span class="p">();</span>
<a id="__codelineno-63-9" name="__codelineno-63-9" href="#__codelineno-63-9"></a><span class="n">Iterable</span><span class="o">&lt;</span><span class="n">T</span><span class="o">&gt;</span><span class="w"> </span><span class="nf">findAllById</span><span class="p">(</span><span class="n">Iterable</span><span class="o">&lt;</span><span class="n">ID</span><span class="o">&gt;</span><span class="w"> </span><span class="n">ids</span><span class="p">);</span>
<a id="__codelineno-63-10" name="__codelineno-63-10" href="#__codelineno-63-10"></a><span class="n">Optional</span><span class="o">&lt;</span><span class="n">T</span><span class="o">&gt;</span><span class="w"> </span><span class="nf">findById</span><span class="p">(</span><span class="n">ID</span><span class="w"> </span><span class="n">id</span><span class="p">);</span>
<a id="__codelineno-63-11" name="__codelineno-63-11" href="#__codelineno-63-11"></a><span class="o">&lt;</span><span class="n">S</span><span class="w"> </span><span class="kd">extends</span><span class="w"> </span><span class="n">T</span><span class="o">&gt;</span><span class="w"> </span><span class="n">S</span><span class="w">  </span><span class="nf">save</span><span class="p">(</span><span class="n">S</span><span class="w"> </span><span class="n">entity</span><span class="p">);</span>
<a id="__codelineno-63-12" name="__codelineno-63-12" href="#__codelineno-63-12"></a><span class="n">Iterable</span><span class="o">&lt;</span><span class="n">S</span><span class="o">&gt;</span><span class="w"> </span><span class="nf">saveAll</span><span class="p">(</span><span class="n">Iterable</span><span class="o">&lt;</span><span class="n">S</span><span class="o">&gt;</span><span class="w"> </span><span class="n">entities</span><span class="p">);</span>
</code></pre></div>
<h4 id="create-collection_1">Create collection<a class="headerlink" href="#create-collection_1" title="Permanent link">&para;</a></h4>
<div class="highlight"><table class="highlighttable"><tr><th colspan="2" class="filename"><span class="filename">ObjectMappingCreateCollection.java</span></th></tr><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-64-1"> 1</a></span>
<span class="normal"><a href="#__codelineno-64-2"> 2</a></span>
<span class="normal"><a href="#__codelineno-64-3"> 3</a></span>
<span class="normal"><a href="#__codelineno-64-4"> 4</a></span>
<span class="normal"><a href="#__codelineno-64-5"> 5</a></span>
<span class="normal"><a href="#__codelineno-64-6"> 6</a></span>
<span class="normal"><a href="#__codelineno-64-7"> 7</a></span>
<span class="normal"><a href="#__codelineno-64-8"> 8</a></span>
<span class="normal"><a href="#__codelineno-64-9"> 9</a></span>
<span class="normal"><a href="#__codelineno-64-10">10</a></span>
<span class="normal"><a href="#__codelineno-64-11">11</a></span>
<span class="normal"><a href="#__codelineno-64-12">12</a></span>
<span class="normal"><a href="#__codelineno-64-13">13</a></span>
<span class="normal"><a href="#__codelineno-64-14">14</a></span>
<span class="normal"><a href="#__codelineno-64-15">15</a></span>
<span class="normal"><a href="#__codelineno-64-16">16</a></span>
<span class="normal"><a href="#__codelineno-64-17">17</a></span>
<span class="normal"><a href="#__codelineno-64-18">18</a></span>
<span class="normal"><a href="#__codelineno-64-19">19</a></span>
<span class="normal"><a href="#__codelineno-64-20">20</a></span>
<span class="normal"><a href="#__codelineno-64-21">21</a></span>
<span class="normal"><a href="#__codelineno-64-22">22</a></span>
<span class="normal"><a href="#__codelineno-64-23">23</a></span>
<span class="normal"><a href="#__codelineno-64-24">24</a></span>
<span class="normal"><a href="#__codelineno-64-25">25</a></span>
<span class="normal"><a href="#__codelineno-64-26">26</a></span>
<span class="normal"><a href="#__codelineno-64-27">27</a></span>
<span class="normal"><a href="#__codelineno-64-28">28</a></span>
<span class="normal"><a href="#__codelineno-64-29">29</a></span>
<span class="normal"><a href="#__codelineno-64-30">30</a></span>
<span class="normal"><a href="#__codelineno-64-31">31</a></span>
<span class="normal"><a href="#__codelineno-64-32">32</a></span></pre></div></td><td class="code"><div><pre><span></span><code><a id="__codelineno-64-1" name="__codelineno-64-1"></a><span class="kn">package</span><span class="w"> </span><span class="nn">com.dtsx.astra.sdk.documentation</span><span class="p">;</span>
<a id="__codelineno-64-2" name="__codelineno-64-2"></a>
<a id="__codelineno-64-3" name="__codelineno-64-3"></a><span class="kn">import</span><span class="w"> </span><span class="nn">com.dtsx.astra.sdk.AstraDB</span><span class="p">;</span>
<a id="__codelineno-64-4" name="__codelineno-64-4"></a><span class="kn">import</span><span class="w"> </span><span class="nn">com.dtsx.astra.sdk.AstraDBRepository</span><span class="p">;</span>
<a id="__codelineno-64-5" name="__codelineno-64-5"></a><span class="kn">import</span><span class="w"> </span><span class="nn">com.fasterxml.jackson.annotation.JsonProperty</span><span class="p">;</span>
<a id="__codelineno-64-6" name="__codelineno-64-6"></a><span class="kn">import</span><span class="w"> </span><span class="nn">io.stargate.sdk.data.domain.CollectionDefinition</span><span class="p">;</span>
<a id="__codelineno-64-7" name="__codelineno-64-7"></a><span class="kn">import</span><span class="w"> </span><span class="nn">io.stargate.sdk.data.domain.SimilarityMetric</span><span class="p">;</span>
<a id="__codelineno-64-8" name="__codelineno-64-8"></a>
<a id="__codelineno-64-9" name="__codelineno-64-9"></a><span class="kd">public</span><span class="w"> </span><span class="kd">class</span> <span class="nc">ObjectMappingCreateCollection</span><span class="w"> </span><span class="p">{</span>
<a id="__codelineno-64-10" name="__codelineno-64-10"></a>
<a id="__codelineno-64-11" name="__codelineno-64-11"></a><span class="w">  </span><span class="kd">static</span><span class="w"> </span><span class="kd">class</span> <span class="nc">Product</span><span class="w"> </span><span class="p">{</span>
<a id="__codelineno-64-12" name="__codelineno-64-12"></a><span class="w">    </span><span class="nd">@JsonProperty</span><span class="p">(</span><span class="s">&quot;product_name&quot;</span><span class="p">)</span><span class="w"> </span><span class="kd">private</span><span class="w"> </span><span class="n">String</span><span class="w"> </span><span class="n">name</span><span class="p">;</span>
<a id="__codelineno-64-13" name="__codelineno-64-13"></a><span class="w">    </span><span class="nd">@JsonProperty</span><span class="p">(</span><span class="s">&quot;product_price&quot;</span><span class="p">)</span><span class="w"> </span><span class="kd">private</span><span class="w"> </span><span class="n">Double</span><span class="w"> </span><span class="n">price</span><span class="p">;</span>
<a id="__codelineno-64-14" name="__codelineno-64-14"></a><span class="w">  </span><span class="p">}</span>
<a id="__codelineno-64-15" name="__codelineno-64-15"></a>
<a id="__codelineno-64-16" name="__codelineno-64-16"></a><span class="w">  </span><span class="kd">public</span><span class="w"> </span><span class="kd">static</span><span class="w"> </span><span class="kt">void</span><span class="w"> </span><span class="nf">main</span><span class="p">(</span><span class="n">String</span><span class="o">[]</span><span class="w"> </span><span class="n">args</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<a id="__codelineno-64-17" name="__codelineno-64-17"></a><span class="w">    </span><span class="n">AstraDB</span><span class="w"> </span><span class="n">db</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">new</span><span class="w"> </span><span class="n">AstraDB</span><span class="p">(</span><span class="s">&quot;TOKEN&quot;</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;API_ENDPOINT&quot;</span><span class="p">);</span>
<a id="__codelineno-64-18" name="__codelineno-64-18"></a>
<a id="__codelineno-64-19" name="__codelineno-64-19"></a><span class="w">    </span><span class="c1">// Create a non-vector collection</span>
<a id="__codelineno-64-20" name="__codelineno-64-20"></a><span class="w">    </span><span class="n">AstraDBRepository</span><span class="o">&lt;</span><span class="n">Product</span><span class="o">&gt;</span><span class="w"> </span><span class="n">collection1</span><span class="w"> </span><span class="o">=</span>
<a id="__codelineno-64-21" name="__codelineno-64-21"></a><span class="w">        </span><span class="n">db</span><span class="p">.</span><span class="na">createCollection</span><span class="p">(</span><span class="s">&quot;collection_simple&quot;</span><span class="p">,</span><span class="w"> </span><span class="n">Product</span><span class="p">.</span><span class="na">class</span><span class="p">);</span>
<a id="__codelineno-64-22" name="__codelineno-64-22"></a>
<a id="__codelineno-64-23" name="__codelineno-64-23"></a><span class="w">    </span><span class="c1">// Create a vector collection with a builder</span>
<a id="__codelineno-64-24" name="__codelineno-64-24"></a><span class="w">    </span><span class="n">AstraDBRepository</span><span class="o">&lt;</span><span class="n">Product</span><span class="o">&gt;</span><span class="w"> </span><span class="n">collection2</span><span class="w"> </span><span class="o">=</span>
<a id="__codelineno-64-25" name="__codelineno-64-25"></a><span class="w">        </span><span class="n">db</span><span class="p">.</span><span class="na">createCollection</span><span class="p">(</span>
<a id="__codelineno-64-26" name="__codelineno-64-26"></a><span class="w">            </span><span class="n">CollectionDefinition</span><span class="p">.</span><span class="na">builder</span><span class="p">()</span>
<a id="__codelineno-64-27" name="__codelineno-64-27"></a><span class="w">                </span><span class="p">.</span><span class="na">name</span><span class="p">(</span><span class="s">&quot;collection_vector2&quot;</span><span class="p">)</span>
<a id="__codelineno-64-28" name="__codelineno-64-28"></a><span class="w">                </span><span class="p">.</span><span class="na">vector</span><span class="p">(</span><span class="mi">1536</span><span class="p">,</span><span class="w"> </span><span class="n">SimilarityMetric</span><span class="p">.</span><span class="na">euclidean</span><span class="p">)</span>
<a id="__codelineno-64-29" name="__codelineno-64-29"></a><span class="w">                </span><span class="p">.</span><span class="na">build</span><span class="p">(),</span>
<a id="__codelineno-64-30" name="__codelineno-64-30"></a><span class="w">            </span><span class="n">Product</span><span class="p">.</span><span class="na">class</span><span class="p">);</span>
<a id="__codelineno-64-31" name="__codelineno-64-31"></a><span class="w">  </span><span class="p">}</span>
<a id="__codelineno-64-32" name="__codelineno-64-32"></a><span class="p">}</span>
</code></pre></div></td></tr></table></div>
<h4 id="insert-one_1">Insert One<a class="headerlink" href="#insert-one_1" title="Permanent link">&para;</a></h4>
<div class="highlight"><table class="highlighttable"><tr><th colspan="2" class="filename"><span class="filename">ObjectMappingInsertOne.java</span></th></tr><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-65-1"> 1</a></span>
<span class="normal"><a href="#__codelineno-65-2"> 2</a></span>
<span class="normal"><a href="#__codelineno-65-3"> 3</a></span>
<span class="normal"><a href="#__codelineno-65-4"> 4</a></span>
<span class="normal"><a href="#__codelineno-65-5"> 5</a></span>
<span class="normal"><a href="#__codelineno-65-6"> 6</a></span>
<span class="normal"><a href="#__codelineno-65-7"> 7</a></span>
<span class="normal"><a href="#__codelineno-65-8"> 8</a></span>
<span class="normal"><a href="#__codelineno-65-9"> 9</a></span>
<span class="normal"><a href="#__codelineno-65-10">10</a></span>
<span class="normal"><a href="#__codelineno-65-11">11</a></span>
<span class="normal"><a href="#__codelineno-65-12">12</a></span>
<span class="normal"><a href="#__codelineno-65-13">13</a></span>
<span class="normal"><a href="#__codelineno-65-14">14</a></span>
<span class="normal"><a href="#__codelineno-65-15">15</a></span>
<span class="normal"><a href="#__codelineno-65-16">16</a></span>
<span class="normal"><a href="#__codelineno-65-17">17</a></span>
<span class="normal"><a href="#__codelineno-65-18">18</a></span>
<span class="normal"><a href="#__codelineno-65-19">19</a></span>
<span class="normal"><a href="#__codelineno-65-20">20</a></span>
<span class="normal"><a href="#__codelineno-65-21">21</a></span>
<span class="normal"><a href="#__codelineno-65-22">22</a></span>
<span class="normal"><a href="#__codelineno-65-23">23</a></span>
<span class="normal"><a href="#__codelineno-65-24">24</a></span>
<span class="normal"><a href="#__codelineno-65-25">25</a></span>
<span class="normal"><a href="#__codelineno-65-26">26</a></span>
<span class="normal"><a href="#__codelineno-65-27">27</a></span>
<span class="normal"><a href="#__codelineno-65-28">28</a></span>
<span class="normal"><a href="#__codelineno-65-29">29</a></span></pre></div></td><td class="code"><div><pre><span></span><code><a id="__codelineno-65-1" name="__codelineno-65-1"></a><span class="kn">package</span><span class="w"> </span><span class="nn">com.dtsx.astra.sdk.documentation</span><span class="p">;</span>
<a id="__codelineno-65-2" name="__codelineno-65-2"></a>
<a id="__codelineno-65-3" name="__codelineno-65-3"></a><span class="kn">import</span><span class="w"> </span><span class="nn">com.dtsx.astra.sdk.AstraDB</span><span class="p">;</span>
<a id="__codelineno-65-4" name="__codelineno-65-4"></a><span class="kn">import</span><span class="w"> </span><span class="nn">com.dtsx.astra.sdk.AstraDBRepository</span><span class="p">;</span>
<a id="__codelineno-65-5" name="__codelineno-65-5"></a><span class="kn">import</span><span class="w"> </span><span class="nn">com.fasterxml.jackson.annotation.JsonProperty</span><span class="p">;</span>
<a id="__codelineno-65-6" name="__codelineno-65-6"></a><span class="kn">import</span><span class="w"> </span><span class="nn">io.stargate.sdk.data.domain.odm.Document</span><span class="p">;</span>
<a id="__codelineno-65-7" name="__codelineno-65-7"></a>
<a id="__codelineno-65-8" name="__codelineno-65-8"></a><span class="kd">public</span><span class="w"> </span><span class="kd">class</span> <span class="nc">ObjectMappingInsertOne</span><span class="w"> </span><span class="p">{</span>
<a id="__codelineno-65-9" name="__codelineno-65-9"></a><span class="w">  </span><span class="kd">static</span><span class="w"> </span><span class="kd">class</span> <span class="nc">Product</span><span class="w"> </span><span class="p">{</span>
<a id="__codelineno-65-10" name="__codelineno-65-10"></a><span class="w">    </span><span class="nd">@JsonProperty</span><span class="p">(</span><span class="s">&quot;product_name&quot;</span><span class="p">)</span><span class="w"> </span><span class="kd">private</span><span class="w"> </span><span class="n">String</span><span class="w"> </span><span class="n">name</span><span class="p">;</span>
<a id="__codelineno-65-11" name="__codelineno-65-11"></a><span class="w">    </span><span class="nd">@JsonProperty</span><span class="p">(</span><span class="s">&quot;product_price&quot;</span><span class="p">)</span><span class="w"> </span><span class="kd">private</span><span class="w"> </span><span class="n">Double</span><span class="w"> </span><span class="n">price</span><span class="p">;</span>
<a id="__codelineno-65-12" name="__codelineno-65-12"></a><span class="w">    </span><span class="n">Product</span><span class="p">(</span><span class="n">String</span><span class="w"> </span><span class="n">name</span><span class="p">,</span><span class="w"> </span><span class="n">Double</span><span class="w"> </span><span class="n">price</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<a id="__codelineno-65-13" name="__codelineno-65-13"></a><span class="w">      </span><span class="k">this</span><span class="p">.</span><span class="na">name</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">name</span><span class="p">;</span>
<a id="__codelineno-65-14" name="__codelineno-65-14"></a><span class="w">      </span><span class="k">this</span><span class="p">.</span><span class="na">price</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">price</span><span class="p">;</span>
<a id="__codelineno-65-15" name="__codelineno-65-15"></a><span class="w">    </span><span class="p">}</span>
<a id="__codelineno-65-16" name="__codelineno-65-16"></a><span class="w">  </span><span class="p">}</span>
<a id="__codelineno-65-17" name="__codelineno-65-17"></a>
<a id="__codelineno-65-18" name="__codelineno-65-18"></a><span class="w">  </span><span class="kd">public</span><span class="w"> </span><span class="kd">static</span><span class="w"> </span><span class="kt">void</span><span class="w"> </span><span class="nf">main</span><span class="p">(</span><span class="n">String</span><span class="o">[]</span><span class="w"> </span><span class="n">args</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<a id="__codelineno-65-19" name="__codelineno-65-19"></a><span class="w">    </span><span class="n">AstraDB</span><span class="w"> </span><span class="n">db</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">new</span><span class="w"> </span><span class="n">AstraDB</span><span class="p">(</span><span class="s">&quot;TOKEN&quot;</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;API_ENDPOINT&quot;</span><span class="p">);</span>
<a id="__codelineno-65-20" name="__codelineno-65-20"></a><span class="w">    </span><span class="n">AstraDBRepository</span><span class="o">&lt;</span><span class="n">Product</span><span class="o">&gt;</span><span class="w"> </span><span class="n">productRepository</span><span class="w"> </span><span class="o">=</span>
<a id="__codelineno-65-21" name="__codelineno-65-21"></a><span class="w">        </span><span class="n">db</span><span class="p">.</span><span class="na">createCollection</span><span class="p">(</span><span class="s">&quot;collection_vector1&quot;</span><span class="p">,</span><span class="w"> </span><span class="mi">14</span><span class="p">,</span><span class="w"> </span><span class="n">Product</span><span class="p">.</span><span class="na">class</span><span class="p">);</span>
<a id="__codelineno-65-22" name="__codelineno-65-22"></a>
<a id="__codelineno-65-23" name="__codelineno-65-23"></a><span class="w">    </span><span class="c1">// Upsert document</span>
<a id="__codelineno-65-24" name="__codelineno-65-24"></a><span class="w">    </span><span class="n">productRepository</span><span class="p">.</span><span class="na">save</span><span class="p">(</span><span class="k">new</span><span class="w"> </span><span class="n">Document</span><span class="o">&lt;</span><span class="n">Product</span><span class="o">&gt;</span><span class="p">()</span>
<a id="__codelineno-65-25" name="__codelineno-65-25"></a><span class="w">        </span><span class="p">.</span><span class="na">id</span><span class="p">(</span><span class="s">&quot;product1&quot;</span><span class="p">)</span>
<a id="__codelineno-65-26" name="__codelineno-65-26"></a><span class="w">        </span><span class="p">.</span><span class="na">vector</span><span class="p">(</span><span class="k">new</span><span class="w"> </span><span class="kt">float</span><span class="o">[]</span><span class="p">{</span><span class="mf">1f</span><span class="p">,</span><span class="w"> </span><span class="mf">0f</span><span class="p">,</span><span class="w"> </span><span class="mf">1f</span><span class="p">,</span><span class="w"> </span><span class="mf">1f</span><span class="p">,</span><span class="w"> </span><span class="mf">.5f</span><span class="p">,</span><span class="w"> </span><span class="mf">1f</span><span class="p">,</span><span class="w"> </span><span class="mf">0f</span><span class="p">,</span><span class="w"> </span><span class="mf">0.3f</span><span class="p">,</span><span class="w"> </span><span class="mf">0f</span><span class="p">,</span><span class="w"> </span><span class="mf">0f</span><span class="p">,</span><span class="w"> </span><span class="mf">0f</span><span class="p">,</span><span class="w"> </span><span class="mf">0f</span><span class="p">,</span><span class="w"> </span><span class="mf">0f</span><span class="p">,</span><span class="w"> </span><span class="mf">0f</span><span class="p">})</span>
<a id="__codelineno-65-27" name="__codelineno-65-27"></a><span class="w">        </span><span class="p">.</span><span class="na">data</span><span class="p">(</span><span class="k">new</span><span class="w"> </span><span class="n">Product</span><span class="p">(</span><span class="s">&quot;product1&quot;</span><span class="p">,</span><span class="w"> </span><span class="mf">9.99</span><span class="p">)));</span>
<a id="__codelineno-65-28" name="__codelineno-65-28"></a><span class="w">  </span><span class="p">}</span>
<a id="__codelineno-65-29" name="__codelineno-65-29"></a><span class="p">}</span>
</code></pre></div></td></tr></table></div>
<h4 id="insert-many_1">Insert Many<a class="headerlink" href="#insert-many_1" title="Permanent link">&para;</a></h4>
<div class="highlight"><table class="highlighttable"><tr><th colspan="2" class="filename"><span class="filename">ObjectMappingInsertMany.java</span></th></tr><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-66-1"> 1</a></span>
<span class="normal"><a href="#__codelineno-66-2"> 2</a></span>
<span class="normal"><a href="#__codelineno-66-3"> 3</a></span>
<span class="normal"><a href="#__codelineno-66-4"> 4</a></span>
<span class="normal"><a href="#__codelineno-66-5"> 5</a></span>
<span class="normal"><a href="#__codelineno-66-6"> 6</a></span>
<span class="normal"><a href="#__codelineno-66-7"> 7</a></span>
<span class="normal"><a href="#__codelineno-66-8"> 8</a></span>
<span class="normal"><a href="#__codelineno-66-9"> 9</a></span>
<span class="normal"><a href="#__codelineno-66-10">10</a></span>
<span class="normal"><a href="#__codelineno-66-11">11</a></span>
<span class="normal"><a href="#__codelineno-66-12">12</a></span>
<span class="normal"><a href="#__codelineno-66-13">13</a></span>
<span class="normal"><a href="#__codelineno-66-14">14</a></span>
<span class="normal"><a href="#__codelineno-66-15">15</a></span>
<span class="normal"><a href="#__codelineno-66-16">16</a></span>
<span class="normal"><a href="#__codelineno-66-17">17</a></span>
<span class="normal"><a href="#__codelineno-66-18">18</a></span>
<span class="normal"><a href="#__codelineno-66-19">19</a></span>
<span class="normal"><a href="#__codelineno-66-20">20</a></span>
<span class="normal"><a href="#__codelineno-66-21">21</a></span>
<span class="normal"><a href="#__codelineno-66-22">22</a></span>
<span class="normal"><a href="#__codelineno-66-23">23</a></span>
<span class="normal"><a href="#__codelineno-66-24">24</a></span>
<span class="normal"><a href="#__codelineno-66-25">25</a></span>
<span class="normal"><a href="#__codelineno-66-26">26</a></span>
<span class="normal"><a href="#__codelineno-66-27">27</a></span>
<span class="normal"><a href="#__codelineno-66-28">28</a></span>
<span class="normal"><a href="#__codelineno-66-29">29</a></span>
<span class="normal"><a href="#__codelineno-66-30">30</a></span>
<span class="normal"><a href="#__codelineno-66-31">31</a></span>
<span class="normal"><a href="#__codelineno-66-32">32</a></span>
<span class="normal"><a href="#__codelineno-66-33">33</a></span>
<span class="normal"><a href="#__codelineno-66-34">34</a></span>
<span class="normal"><a href="#__codelineno-66-35">35</a></span></pre></div></td><td class="code"><div><pre><span></span><code><a id="__codelineno-66-1" name="__codelineno-66-1"></a><span class="kn">package</span><span class="w"> </span><span class="nn">com.dtsx.astra.sdk.documentation</span><span class="p">;</span>
<a id="__codelineno-66-2" name="__codelineno-66-2"></a>
<a id="__codelineno-66-3" name="__codelineno-66-3"></a><span class="kn">import</span><span class="w"> </span><span class="nn">com.dtsx.astra.sdk.AstraDB</span><span class="p">;</span>
<a id="__codelineno-66-4" name="__codelineno-66-4"></a><span class="kn">import</span><span class="w"> </span><span class="nn">com.dtsx.astra.sdk.AstraDBRepository</span><span class="p">;</span>
<a id="__codelineno-66-5" name="__codelineno-66-5"></a><span class="kn">import</span><span class="w"> </span><span class="nn">com.fasterxml.jackson.annotation.JsonProperty</span><span class="p">;</span>
<a id="__codelineno-66-6" name="__codelineno-66-6"></a><span class="kn">import</span><span class="w"> </span><span class="nn">io.stargate.sdk.data.domain.DocumentMutationResult</span><span class="p">;</span>
<a id="__codelineno-66-7" name="__codelineno-66-7"></a><span class="kn">import</span><span class="w"> </span><span class="nn">io.stargate.sdk.data.domain.odm.Document</span><span class="p">;</span>
<a id="__codelineno-66-8" name="__codelineno-66-8"></a><span class="kn">import</span><span class="w"> </span><span class="nn">java.util.List</span><span class="p">;</span>
<a id="__codelineno-66-9" name="__codelineno-66-9"></a>
<a id="__codelineno-66-10" name="__codelineno-66-10"></a><span class="kd">public</span><span class="w"> </span><span class="kd">class</span> <span class="nc">ObjectMappingInsertMany</span><span class="w"> </span><span class="p">{</span>
<a id="__codelineno-66-11" name="__codelineno-66-11"></a><span class="w">  </span><span class="kd">static</span><span class="w"> </span><span class="kd">class</span> <span class="nc">Product</span><span class="w"> </span><span class="p">{</span>
<a id="__codelineno-66-12" name="__codelineno-66-12"></a><span class="w">    </span><span class="nd">@JsonProperty</span><span class="p">(</span><span class="s">&quot;product_name&quot;</span><span class="p">)</span><span class="w"> </span><span class="kd">private</span><span class="w"> </span><span class="n">String</span><span class="w"> </span><span class="n">name</span><span class="p">;</span>
<a id="__codelineno-66-13" name="__codelineno-66-13"></a><span class="w">    </span><span class="nd">@JsonProperty</span><span class="p">(</span><span class="s">&quot;product_price&quot;</span><span class="p">)</span><span class="w"> </span><span class="kd">private</span><span class="w"> </span><span class="n">Double</span><span class="w"> </span><span class="n">price</span><span class="p">;</span>
<a id="__codelineno-66-14" name="__codelineno-66-14"></a><span class="w">    </span><span class="n">Product</span><span class="p">(</span><span class="n">String</span><span class="w"> </span><span class="n">name</span><span class="p">,</span><span class="w"> </span><span class="n">Double</span><span class="w"> </span><span class="n">price</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<a id="__codelineno-66-15" name="__codelineno-66-15"></a><span class="w">      </span><span class="k">this</span><span class="p">.</span><span class="na">name</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">name</span><span class="p">;</span>
<a id="__codelineno-66-16" name="__codelineno-66-16"></a><span class="w">      </span><span class="k">this</span><span class="p">.</span><span class="na">price</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">price</span><span class="p">;</span>
<a id="__codelineno-66-17" name="__codelineno-66-17"></a><span class="w">    </span><span class="p">}</span>
<a id="__codelineno-66-18" name="__codelineno-66-18"></a><span class="w">  </span><span class="p">}</span>
<a id="__codelineno-66-19" name="__codelineno-66-19"></a>
<a id="__codelineno-66-20" name="__codelineno-66-20"></a><span class="w">  </span><span class="kd">public</span><span class="w"> </span><span class="kd">static</span><span class="w"> </span><span class="kt">void</span><span class="w"> </span><span class="nf">main</span><span class="p">(</span><span class="n">String</span><span class="o">[]</span><span class="w"> </span><span class="n">args</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<a id="__codelineno-66-21" name="__codelineno-66-21"></a><span class="w">    </span><span class="n">AstraDB</span><span class="w"> </span><span class="n">db</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">new</span><span class="w"> </span><span class="n">AstraDB</span><span class="p">(</span><span class="s">&quot;TOKEN&quot;</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;API_ENDPOINT&quot;</span><span class="p">);</span>
<a id="__codelineno-66-22" name="__codelineno-66-22"></a><span class="w">    </span><span class="n">AstraDBRepository</span><span class="o">&lt;</span><span class="n">Product</span><span class="o">&gt;</span><span class="w"> </span><span class="n">productRepository</span><span class="w"> </span><span class="o">=</span>
<a id="__codelineno-66-23" name="__codelineno-66-23"></a><span class="w">        </span><span class="n">db</span><span class="p">.</span><span class="na">createCollection</span><span class="p">(</span><span class="s">&quot;collection_vector1&quot;</span><span class="p">,</span><span class="w"> </span><span class="mi">14</span><span class="p">,</span><span class="w"> </span><span class="n">Product</span><span class="p">.</span><span class="na">class</span><span class="p">);</span>
<a id="__codelineno-66-24" name="__codelineno-66-24"></a>
<a id="__codelineno-66-25" name="__codelineno-66-25"></a><span class="w">    </span><span class="c1">// Insert documents into the collection (IDs are generated automatically)</span>
<a id="__codelineno-66-26" name="__codelineno-66-26"></a><span class="w">    </span><span class="n">List</span><span class="o">&lt;</span><span class="n">DocumentMutationResult</span><span class="o">&lt;</span><span class="n">Product</span><span class="o">&gt;&gt;</span><span class="w"> </span><span class="n">identifiers</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">productRepository</span><span class="p">.</span><span class="na">saveAll</span><span class="p">(</span>
<a id="__codelineno-66-27" name="__codelineno-66-27"></a><span class="w">        </span><span class="n">List</span><span class="p">.</span><span class="na">of</span><span class="p">(</span>
<a id="__codelineno-66-28" name="__codelineno-66-28"></a><span class="w">            </span><span class="k">new</span><span class="w"> </span><span class="n">Document</span><span class="o">&lt;</span><span class="n">Product</span><span class="o">&gt;</span><span class="p">()</span>
<a id="__codelineno-66-29" name="__codelineno-66-29"></a><span class="w">                </span><span class="p">.</span><span class="na">vector</span><span class="p">(</span><span class="k">new</span><span class="w"> </span><span class="kt">float</span><span class="o">[]</span><span class="p">{</span><span class="mf">1f</span><span class="p">,</span><span class="w"> </span><span class="mf">0f</span><span class="p">,</span><span class="w"> </span><span class="mf">1f</span><span class="p">,</span><span class="w"> </span><span class="mf">1f</span><span class="p">,</span><span class="w"> </span><span class="mf">.5f</span><span class="p">,</span><span class="w"> </span><span class="mf">1f</span><span class="p">,</span><span class="w"> </span><span class="mf">0f</span><span class="p">,</span><span class="w"> </span><span class="mf">0.3f</span><span class="p">,</span><span class="w"> </span><span class="mf">0f</span><span class="p">,</span><span class="w"> </span><span class="mf">0f</span><span class="p">,</span><span class="w"> </span><span class="mf">0f</span><span class="p">,</span><span class="w"> </span><span class="mf">0f</span><span class="p">,</span><span class="w"> </span><span class="mf">0f</span><span class="p">,</span><span class="w"> </span><span class="mf">0f</span><span class="p">})</span>
<a id="__codelineno-66-30" name="__codelineno-66-30"></a><span class="w">                </span><span class="p">.</span><span class="na">data</span><span class="p">(</span><span class="k">new</span><span class="w"> </span><span class="n">Product</span><span class="p">(</span><span class="s">&quot;product1&quot;</span><span class="p">,</span><span class="w"> </span><span class="mf">9.99</span><span class="p">)),</span>
<a id="__codelineno-66-31" name="__codelineno-66-31"></a><span class="w">            </span><span class="k">new</span><span class="w"> </span><span class="n">Document</span><span class="o">&lt;</span><span class="n">Product</span><span class="o">&gt;</span><span class="p">()</span>
<a id="__codelineno-66-32" name="__codelineno-66-32"></a><span class="w">                </span><span class="p">.</span><span class="na">vector</span><span class="p">(</span><span class="k">new</span><span class="w"> </span><span class="kt">float</span><span class="o">[]</span><span class="p">{</span><span class="mf">1f</span><span class="p">,</span><span class="w"> </span><span class="mf">0f</span><span class="p">,</span><span class="w"> </span><span class="mf">1f</span><span class="p">,</span><span class="w"> </span><span class="mf">1f</span><span class="p">,</span><span class="w"> </span><span class="mf">.5f</span><span class="p">,</span><span class="w"> </span><span class="mf">1f</span><span class="p">,</span><span class="w"> </span><span class="mf">0f</span><span class="p">,</span><span class="w"> </span><span class="mf">0.3f</span><span class="p">,</span><span class="w"> </span><span class="mf">0f</span><span class="p">,</span><span class="w"> </span><span class="mf">0f</span><span class="p">,</span><span class="w"> </span><span class="mf">0f</span><span class="p">,</span><span class="w"> </span><span class="mf">0f</span><span class="p">,</span><span class="w"> </span><span class="mf">0f</span><span class="p">,</span><span class="w"> </span><span class="mf">0f</span><span class="p">})</span>
<a id="__codelineno-66-33" name="__codelineno-66-33"></a><span class="w">                </span><span class="p">.</span><span class="na">data</span><span class="p">(</span><span class="k">new</span><span class="w"> </span><span class="n">Product</span><span class="p">(</span><span class="s">&quot;product2&quot;</span><span class="p">,</span><span class="w"> </span><span class="mf">12.99</span><span class="p">))));</span>
<a id="__codelineno-66-34" name="__codelineno-66-34"></a><span class="w">  </span><span class="p">}</span>
<a id="__codelineno-66-35" name="__codelineno-66-35"></a><span class="p">}</span>
</code></pre></div></td></tr></table></div>
<h4 id="find-one_1">Find One<a class="headerlink" href="#find-one_1" title="Permanent link">&para;</a></h4>
<ul class="task-list">
<li class="task-list-item"><label class="task-list-control"><input type="checkbox" disabled checked/><span class="task-list-indicator"></span></label> <strong>To get a single document use <code>findById()</code> or <code>findByVector()</code></strong></li>
</ul>
<div class="highlight"><table class="highlighttable"><tr><th colspan="2" class="filename"><span class="filename">ObjectMappingFindOne.java</span></th></tr><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-67-1"> 1</a></span>
<span class="normal"><a href="#__codelineno-67-2"> 2</a></span>
<span class="normal"><a href="#__codelineno-67-3"> 3</a></span>
<span class="normal"><a href="#__codelineno-67-4"> 4</a></span>
<span class="normal"><a href="#__codelineno-67-5"> 5</a></span>
<span class="normal"><a href="#__codelineno-67-6"> 6</a></span>
<span class="normal"><a href="#__codelineno-67-7"> 7</a></span>
<span class="normal"><a href="#__codelineno-67-8"> 8</a></span>
<span class="normal"><a href="#__codelineno-67-9"> 9</a></span>
<span class="normal"><a href="#__codelineno-67-10">10</a></span>
<span class="normal"><a href="#__codelineno-67-11">11</a></span>
<span class="normal"><a href="#__codelineno-67-12">12</a></span>
<span class="normal"><a href="#__codelineno-67-13">13</a></span>
<span class="normal"><a href="#__codelineno-67-14">14</a></span>
<span class="normal"><a href="#__codelineno-67-15">15</a></span>
<span class="normal"><a href="#__codelineno-67-16">16</a></span>
<span class="normal"><a href="#__codelineno-67-17">17</a></span>
<span class="normal"><a href="#__codelineno-67-18">18</a></span>
<span class="normal"><a href="#__codelineno-67-19">19</a></span>
<span class="normal"><a href="#__codelineno-67-20">20</a></span>
<span class="normal"><a href="#__codelineno-67-21">21</a></span>
<span class="normal"><a href="#__codelineno-67-22">22</a></span>
<span class="normal"><a href="#__codelineno-67-23">23</a></span>
<span class="normal"><a href="#__codelineno-67-24">24</a></span>
<span class="normal"><a href="#__codelineno-67-25">25</a></span>
<span class="normal"><a href="#__codelineno-67-26">26</a></span>
<span class="normal"><a href="#__codelineno-67-27">27</a></span></pre></div></td><td class="code"><div><pre><span></span><code><a id="__codelineno-67-1" name="__codelineno-67-1"></a><span class="kn">package</span><span class="w"> </span><span class="nn">com.dtsx.astra.sdk.documentation</span><span class="p">;</span>
<a id="__codelineno-67-2" name="__codelineno-67-2"></a>
<a id="__codelineno-67-3" name="__codelineno-67-3"></a><span class="kn">import</span><span class="w"> </span><span class="nn">com.dtsx.astra.sdk.AstraDB</span><span class="p">;</span>
<a id="__codelineno-67-4" name="__codelineno-67-4"></a><span class="kn">import</span><span class="w"> </span><span class="nn">com.dtsx.astra.sdk.AstraDBRepository</span><span class="p">;</span>
<a id="__codelineno-67-5" name="__codelineno-67-5"></a><span class="kn">import</span><span class="w"> </span><span class="nn">com.fasterxml.jackson.annotation.JsonProperty</span><span class="p">;</span>
<a id="__codelineno-67-6" name="__codelineno-67-6"></a><span class="kn">import</span><span class="w"> </span><span class="nn">io.stargate.sdk.data.domain.odm.DocumentResult</span><span class="p">;</span>
<a id="__codelineno-67-7" name="__codelineno-67-7"></a><span class="kn">import</span><span class="w"> </span><span class="nn">java.util.Optional</span><span class="p">;</span>
<a id="__codelineno-67-8" name="__codelineno-67-8"></a>
<a id="__codelineno-67-9" name="__codelineno-67-9"></a><span class="kd">public</span><span class="w"> </span><span class="kd">class</span> <span class="nc">ObjectMappingFindOne</span><span class="w"> </span><span class="p">{</span>
<a id="__codelineno-67-10" name="__codelineno-67-10"></a><span class="w">  </span><span class="kd">static</span><span class="w"> </span><span class="kd">class</span> <span class="nc">Product</span><span class="w"> </span><span class="p">{</span>
<a id="__codelineno-67-11" name="__codelineno-67-11"></a><span class="w">    </span><span class="nd">@JsonProperty</span><span class="p">(</span><span class="s">&quot;product_name&quot;</span><span class="p">)</span><span class="w"> </span><span class="kd">private</span><span class="w"> </span><span class="n">String</span><span class="w"> </span><span class="n">name</span><span class="p">;</span>
<a id="__codelineno-67-12" name="__codelineno-67-12"></a><span class="w">    </span><span class="nd">@JsonProperty</span><span class="p">(</span><span class="s">&quot;product_price&quot;</span><span class="p">)</span><span class="w"> </span><span class="kd">private</span><span class="w"> </span><span class="n">Double</span><span class="w"> </span><span class="n">price</span><span class="p">;</span>
<a id="__codelineno-67-13" name="__codelineno-67-13"></a><span class="w">  </span><span class="p">}</span>
<a id="__codelineno-67-14" name="__codelineno-67-14"></a>
<a id="__codelineno-67-15" name="__codelineno-67-15"></a><span class="w">  </span><span class="kd">public</span><span class="w"> </span><span class="kd">static</span><span class="w"> </span><span class="kt">void</span><span class="w"> </span><span class="nf">main</span><span class="p">(</span><span class="n">String</span><span class="o">[]</span><span class="w"> </span><span class="n">args</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<a id="__codelineno-67-16" name="__codelineno-67-16"></a><span class="w">    </span><span class="n">AstraDB</span><span class="w"> </span><span class="n">db</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">new</span><span class="w"> </span><span class="n">AstraDB</span><span class="p">(</span><span class="s">&quot;TOKEN&quot;</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;API_ENDPOINT&quot;</span><span class="p">);</span>
<a id="__codelineno-67-17" name="__codelineno-67-17"></a><span class="w">    </span><span class="n">AstraDBRepository</span><span class="o">&lt;</span><span class="n">Product</span><span class="o">&gt;</span><span class="w"> </span><span class="n">productRepository</span><span class="w"> </span><span class="o">=</span>
<a id="__codelineno-67-18" name="__codelineno-67-18"></a><span class="w">        </span><span class="n">db</span><span class="p">.</span><span class="na">createCollection</span><span class="p">(</span><span class="s">&quot;collection_vector1&quot;</span><span class="p">,</span><span class="w"> </span><span class="mi">14</span><span class="p">,</span><span class="w"> </span><span class="n">Product</span><span class="p">.</span><span class="na">class</span><span class="p">);</span>
<a id="__codelineno-67-19" name="__codelineno-67-19"></a>
<a id="__codelineno-67-20" name="__codelineno-67-20"></a><span class="w">    </span><span class="c1">// Retrieve a products from its id</span>
<a id="__codelineno-67-21" name="__codelineno-67-21"></a><span class="w">    </span><span class="n">Optional</span><span class="o">&lt;</span><span class="n">DocumentResult</span><span class="o">&lt;</span><span class="n">Product</span><span class="o">&gt;&gt;</span><span class="w"> </span><span class="n">res1</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">productRepository</span><span class="p">.</span><span class="na">findById</span><span class="p">(</span><span class="s">&quot;id1&quot;</span><span class="p">);</span>
<a id="__codelineno-67-22" name="__codelineno-67-22"></a>
<a id="__codelineno-67-23" name="__codelineno-67-23"></a><span class="w">    </span><span class="c1">// Retrieve a product from its vector</span>
<a id="__codelineno-67-24" name="__codelineno-67-24"></a><span class="w">    </span><span class="kt">float</span><span class="o">[]</span><span class="w"> </span><span class="n">vector</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">new</span><span class="w"> </span><span class="kt">float</span><span class="o">[]</span><span class="p">{</span><span class="mf">1f</span><span class="p">,</span><span class="w"> </span><span class="mf">0f</span><span class="p">,</span><span class="w"> </span><span class="mf">1f</span><span class="p">,</span><span class="w"> </span><span class="mf">1f</span><span class="p">,</span><span class="w"> </span><span class="mf">1f</span><span class="p">,</span><span class="w"> </span><span class="mf">1f</span><span class="p">,</span><span class="w"> </span><span class="mf">0f</span><span class="p">,</span><span class="w"> </span><span class="mf">0f</span><span class="p">,</span><span class="w"> </span><span class="mf">0f</span><span class="p">,</span><span class="w"> </span><span class="mf">0f</span><span class="p">,</span><span class="w"> </span><span class="mf">0f</span><span class="p">,</span><span class="w"> </span><span class="mf">0f</span><span class="p">,</span><span class="w"> </span><span class="mf">0f</span><span class="p">,</span><span class="w"> </span><span class="mf">0f</span><span class="p">};</span>
<a id="__codelineno-67-25" name="__codelineno-67-25"></a><span class="w">    </span><span class="n">Optional</span><span class="o">&lt;</span><span class="n">DocumentResult</span><span class="o">&lt;</span><span class="n">Product</span><span class="o">&gt;&gt;</span><span class="w"> </span><span class="n">res2</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">productRepository</span><span class="p">.</span><span class="na">findByVector</span><span class="p">(</span><span class="n">vector</span><span class="p">);</span>
<a id="__codelineno-67-26" name="__codelineno-67-26"></a><span class="w">  </span><span class="p">}</span>
<a id="__codelineno-67-27" name="__codelineno-67-27"></a><span class="p">}</span>
</code></pre></div></td></tr></table></div>
<h4 id="find_1">Find<a class="headerlink" href="#find_1" title="Permanent link">&para;</a></h4>
<ul class="task-list">
<li class="task-list-item"><label class="task-list-control"><input type="checkbox" disabled checked/><span class="task-list-indicator"></span></label> <strong>To perform search use <code>find()</code></strong></li>
</ul>
<div class="highlight"><table class="highlighttable"><tr><th colspan="2" class="filename"><span class="filename">ObjectMappingFind.java</span></th></tr><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-68-1"> 1</a></span>
<span class="normal"><a href="#__codelineno-68-2"> 2</a></span>
<span class="normal"><a href="#__codelineno-68-3"> 3</a></span>
<span class="normal"><a href="#__codelineno-68-4"> 4</a></span>
<span class="normal"><a href="#__codelineno-68-5"> 5</a></span>
<span class="normal"><a href="#__codelineno-68-6"> 6</a></span>
<span class="normal"><a href="#__codelineno-68-7"> 7</a></span>
<span class="normal"><a href="#__codelineno-68-8"> 8</a></span>
<span class="normal"><a href="#__codelineno-68-9"> 9</a></span>
<span class="normal"><a href="#__codelineno-68-10">10</a></span>
<span class="normal"><a href="#__codelineno-68-11">11</a></span>
<span class="normal"><a href="#__codelineno-68-12">12</a></span>
<span class="normal"><a href="#__codelineno-68-13">13</a></span>
<span class="normal"><a href="#__codelineno-68-14">14</a></span>
<span class="normal"><a href="#__codelineno-68-15">15</a></span>
<span class="normal"><a href="#__codelineno-68-16">16</a></span>
<span class="normal"><a href="#__codelineno-68-17">17</a></span>
<span class="normal"><a href="#__codelineno-68-18">18</a></span>
<span class="normal"><a href="#__codelineno-68-19">19</a></span>
<span class="normal"><a href="#__codelineno-68-20">20</a></span>
<span class="normal"><a href="#__codelineno-68-21">21</a></span>
<span class="normal"><a href="#__codelineno-68-22">22</a></span>
<span class="normal"><a href="#__codelineno-68-23">23</a></span>
<span class="normal"><a href="#__codelineno-68-24">24</a></span>
<span class="normal"><a href="#__codelineno-68-25">25</a></span>
<span class="normal"><a href="#__codelineno-68-26">26</a></span>
<span class="normal"><a href="#__codelineno-68-27">27</a></span>
<span class="normal"><a href="#__codelineno-68-28">28</a></span>
<span class="normal"><a href="#__codelineno-68-29">29</a></span>
<span class="normal"><a href="#__codelineno-68-30">30</a></span>
<span class="normal"><a href="#__codelineno-68-31">31</a></span>
<span class="normal"><a href="#__codelineno-68-32">32</a></span>
<span class="normal"><a href="#__codelineno-68-33">33</a></span>
<span class="normal"><a href="#__codelineno-68-34">34</a></span>
<span class="normal"><a href="#__codelineno-68-35">35</a></span>
<span class="normal"><a href="#__codelineno-68-36">36</a></span>
<span class="normal"><a href="#__codelineno-68-37">37</a></span>
<span class="normal"><a href="#__codelineno-68-38">38</a></span>
<span class="normal"><a href="#__codelineno-68-39">39</a></span>
<span class="normal"><a href="#__codelineno-68-40">40</a></span>
<span class="normal"><a href="#__codelineno-68-41">41</a></span>
<span class="normal"><a href="#__codelineno-68-42">42</a></span>
<span class="normal"><a href="#__codelineno-68-43">43</a></span>
<span class="normal"><a href="#__codelineno-68-44">44</a></span>
<span class="normal"><a href="#__codelineno-68-45">45</a></span>
<span class="normal"><a href="#__codelineno-68-46">46</a></span>
<span class="normal"><a href="#__codelineno-68-47">47</a></span>
<span class="normal"><a href="#__codelineno-68-48">48</a></span>
<span class="normal"><a href="#__codelineno-68-49">49</a></span>
<span class="normal"><a href="#__codelineno-68-50">50</a></span>
<span class="normal"><a href="#__codelineno-68-51">51</a></span>
<span class="normal"><a href="#__codelineno-68-52">52</a></span>
<span class="normal"><a href="#__codelineno-68-53">53</a></span>
<span class="normal"><a href="#__codelineno-68-54">54</a></span>
<span class="normal"><a href="#__codelineno-68-55">55</a></span>
<span class="normal"><a href="#__codelineno-68-56">56</a></span>
<span class="normal"><a href="#__codelineno-68-57">57</a></span>
<span class="normal"><a href="#__codelineno-68-58">58</a></span>
<span class="normal"><a href="#__codelineno-68-59">59</a></span>
<span class="normal"><a href="#__codelineno-68-60">60</a></span>
<span class="normal"><a href="#__codelineno-68-61">61</a></span>
<span class="normal"><a href="#__codelineno-68-62">62</a></span>
<span class="normal"><a href="#__codelineno-68-63">63</a></span>
<span class="normal"><a href="#__codelineno-68-64">64</a></span>
<span class="normal"><a href="#__codelineno-68-65">65</a></span>
<span class="normal"><a href="#__codelineno-68-66">66</a></span>
<span class="normal"><a href="#__codelineno-68-67">67</a></span>
<span class="normal"><a href="#__codelineno-68-68">68</a></span>
<span class="normal"><a href="#__codelineno-68-69">69</a></span>
<span class="normal"><a href="#__codelineno-68-70">70</a></span>
<span class="normal"><a href="#__codelineno-68-71">71</a></span>
<span class="normal"><a href="#__codelineno-68-72">72</a></span>
<span class="normal"><a href="#__codelineno-68-73">73</a></span>
<span class="normal"><a href="#__codelineno-68-74">74</a></span>
<span class="normal"><a href="#__codelineno-68-75">75</a></span>
<span class="normal"><a href="#__codelineno-68-76">76</a></span>
<span class="normal"><a href="#__codelineno-68-77">77</a></span>
<span class="normal"><a href="#__codelineno-68-78">78</a></span>
<span class="normal"><a href="#__codelineno-68-79">79</a></span>
<span class="normal"><a href="#__codelineno-68-80">80</a></span></pre></div></td><td class="code"><div><pre><span></span><code><a id="__codelineno-68-1" name="__codelineno-68-1"></a><span class="kn">package</span><span class="w"> </span><span class="nn">com.dtsx.astra.sdk.documentation</span><span class="p">;</span>
<a id="__codelineno-68-2" name="__codelineno-68-2"></a>
<a id="__codelineno-68-3" name="__codelineno-68-3"></a><span class="kn">import</span><span class="w"> </span><span class="nn">com.dtsx.astra.sdk.AstraDB</span><span class="p">;</span>
<a id="__codelineno-68-4" name="__codelineno-68-4"></a><span class="kn">import</span><span class="w"> </span><span class="nn">com.dtsx.astra.sdk.AstraDBCollection</span><span class="p">;</span>
<a id="__codelineno-68-5" name="__codelineno-68-5"></a><span class="kn">import</span><span class="w"> </span><span class="nn">io.stargate.sdk.data.domain.query.Filter</span><span class="p">;</span>
<a id="__codelineno-68-6" name="__codelineno-68-6"></a><span class="kn">import</span><span class="w"> </span><span class="nn">io.stargate.sdk.data.domain.query.SelectQuery</span><span class="p">;</span>
<a id="__codelineno-68-7" name="__codelineno-68-7"></a><span class="kn">import</span><span class="w"> </span><span class="nn">java.util.ArrayList</span><span class="p">;</span>
<a id="__codelineno-68-8" name="__codelineno-68-8"></a><span class="kn">import</span><span class="w"> </span><span class="nn">java.util.HashMap</span><span class="p">;</span>
<a id="__codelineno-68-9" name="__codelineno-68-9"></a><span class="kn">import</span><span class="w"> </span><span class="nn">java.util.List</span><span class="p">;</span>
<a id="__codelineno-68-10" name="__codelineno-68-10"></a><span class="kn">import</span><span class="w"> </span><span class="nn">java.util.Map</span><span class="p">;</span>
<a id="__codelineno-68-11" name="__codelineno-68-11"></a>
<a id="__codelineno-68-12" name="__codelineno-68-12"></a><span class="kd">public</span><span class="w"> </span><span class="kd">class</span> <span class="nc">ObjectMappingFind</span><span class="w"> </span><span class="p">{</span>
<a id="__codelineno-68-13" name="__codelineno-68-13"></a><span class="w">  </span><span class="kd">public</span><span class="w"> </span><span class="kd">static</span><span class="w"> </span><span class="kt">void</span><span class="w"> </span><span class="nf">main</span><span class="p">(</span><span class="n">String</span><span class="o">[]</span><span class="w"> </span><span class="n">args</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<a id="__codelineno-68-14" name="__codelineno-68-14"></a><span class="w">    </span><span class="n">AstraDB</span><span class="w"> </span><span class="n">db</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">new</span><span class="w"> </span><span class="n">AstraDB</span><span class="p">(</span><span class="s">&quot;TOKEN&quot;</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;API_ENDPOINT&quot;</span><span class="p">);</span>
<a id="__codelineno-68-15" name="__codelineno-68-15"></a><span class="w">    </span><span class="n">AstraDBCollection</span><span class="w"> </span><span class="n">collection</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">db</span><span class="p">.</span><span class="na">createCollection</span><span class="p">(</span><span class="s">&quot;collection_vector1&quot;</span><span class="p">,</span><span class="w"> </span><span class="mi">14</span><span class="p">);</span>
<a id="__codelineno-68-16" name="__codelineno-68-16"></a>
<a id="__codelineno-68-17" name="__codelineno-68-17"></a><span class="w">    </span><span class="c1">// Retrieve the first document with a product_price</span>
<a id="__codelineno-68-18" name="__codelineno-68-18"></a><span class="w">    </span><span class="n">Filter</span><span class="w"> </span><span class="n">filter</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">new</span><span class="w"> </span><span class="n">Filter</span><span class="p">()</span>
<a id="__codelineno-68-19" name="__codelineno-68-19"></a><span class="w">            </span><span class="p">.</span><span class="na">where</span><span class="p">(</span><span class="s">&quot;product_price&quot;</span><span class="p">)</span>
<a id="__codelineno-68-20" name="__codelineno-68-20"></a><span class="w">            </span><span class="p">.</span><span class="na">exists</span><span class="p">();</span>
<a id="__codelineno-68-21" name="__codelineno-68-21"></a><span class="w">    </span><span class="n">collection</span><span class="p">.</span><span class="na">find</span><span class="p">(</span>
<a id="__codelineno-68-22" name="__codelineno-68-22"></a><span class="w">        </span><span class="n">SelectQuery</span><span class="p">.</span><span class="na">builder</span><span class="p">()</span>
<a id="__codelineno-68-23" name="__codelineno-68-23"></a><span class="w">            </span><span class="p">.</span><span class="na">filter</span><span class="p">(</span><span class="n">filter</span><span class="p">)</span>
<a id="__codelineno-68-24" name="__codelineno-68-24"></a><span class="w">            </span><span class="p">.</span><span class="na">build</span><span class="p">())</span>
<a id="__codelineno-68-25" name="__codelineno-68-25"></a><span class="w">        </span><span class="p">.</span><span class="na">forEach</span><span class="p">(</span><span class="n">System</span><span class="p">.</span><span class="na">out</span><span class="p">::</span><span class="n">println</span><span class="p">);</span>
<a id="__codelineno-68-26" name="__codelineno-68-26"></a>
<a id="__codelineno-68-27" name="__codelineno-68-27"></a><span class="w">    </span><span class="c1">// Retrieve the first document where product_price is 12.99</span>
<a id="__codelineno-68-28" name="__codelineno-68-28"></a><span class="w">    </span><span class="n">Filter</span><span class="w"> </span><span class="n">filter2</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">new</span><span class="w"> </span><span class="n">Filter</span><span class="p">()</span>
<a id="__codelineno-68-29" name="__codelineno-68-29"></a><span class="w">            </span><span class="p">.</span><span class="na">where</span><span class="p">(</span><span class="s">&quot;product_price&quot;</span><span class="p">)</span>
<a id="__codelineno-68-30" name="__codelineno-68-30"></a><span class="w">            </span><span class="p">.</span><span class="na">isEqualsTo</span><span class="p">(</span><span class="mf">12.99</span><span class="p">);</span>
<a id="__codelineno-68-31" name="__codelineno-68-31"></a><span class="w">    </span><span class="n">collection</span><span class="p">.</span><span class="na">find</span><span class="p">(</span>
<a id="__codelineno-68-32" name="__codelineno-68-32"></a><span class="w">        </span><span class="n">SelectQuery</span><span class="p">.</span><span class="na">builder</span><span class="p">()</span>
<a id="__codelineno-68-33" name="__codelineno-68-33"></a><span class="w">            </span><span class="p">.</span><span class="na">filter</span><span class="p">(</span><span class="n">filter2</span><span class="p">)</span>
<a id="__codelineno-68-34" name="__codelineno-68-34"></a><span class="w">            </span><span class="p">.</span><span class="na">build</span><span class="p">())</span>
<a id="__codelineno-68-35" name="__codelineno-68-35"></a><span class="w">        </span><span class="p">.</span><span class="na">forEach</span><span class="p">(</span><span class="n">System</span><span class="p">.</span><span class="na">out</span><span class="p">::</span><span class="n">println</span><span class="p">);</span>
<a id="__codelineno-68-36" name="__codelineno-68-36"></a>
<a id="__codelineno-68-37" name="__codelineno-68-37"></a><span class="w">    </span><span class="c1">// Only retrieve the product_name and product_price fields</span>
<a id="__codelineno-68-38" name="__codelineno-68-38"></a><span class="w">    </span><span class="n">collection</span><span class="p">.</span><span class="na">find</span><span class="p">(</span>
<a id="__codelineno-68-39" name="__codelineno-68-39"></a><span class="w">        </span><span class="n">SelectQuery</span><span class="p">.</span><span class="na">builder</span><span class="p">()</span>
<a id="__codelineno-68-40" name="__codelineno-68-40"></a><span class="w">            </span><span class="p">.</span><span class="na">select</span><span class="p">(</span><span class="s">&quot;product_name&quot;</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;product_price&quot;</span><span class="p">)</span>
<a id="__codelineno-68-41" name="__codelineno-68-41"></a><span class="w">            </span><span class="p">.</span><span class="na">filter</span><span class="p">(</span><span class="n">filter2</span><span class="p">)</span>
<a id="__codelineno-68-42" name="__codelineno-68-42"></a><span class="w">            </span><span class="p">.</span><span class="na">build</span><span class="p">())</span>
<a id="__codelineno-68-43" name="__codelineno-68-43"></a><span class="w">        </span><span class="p">.</span><span class="na">forEach</span><span class="p">(</span><span class="n">System</span><span class="p">.</span><span class="na">out</span><span class="p">::</span><span class="n">println</span><span class="p">);</span>
<a id="__codelineno-68-44" name="__codelineno-68-44"></a>
<a id="__codelineno-68-45" name="__codelineno-68-45"></a><span class="w">    </span><span class="c1">// Order the results by similarity</span>
<a id="__codelineno-68-46" name="__codelineno-68-46"></a><span class="w">    </span><span class="n">collection</span><span class="p">.</span><span class="na">find</span><span class="p">(</span>
<a id="__codelineno-68-47" name="__codelineno-68-47"></a><span class="w">        </span><span class="n">SelectQuery</span><span class="p">.</span><span class="na">builder</span><span class="p">()</span>
<a id="__codelineno-68-48" name="__codelineno-68-48"></a><span class="w">            </span><span class="p">.</span><span class="na">filter</span><span class="p">(</span><span class="n">filter2</span><span class="p">)</span>
<a id="__codelineno-68-49" name="__codelineno-68-49"></a><span class="w">            </span><span class="p">.</span><span class="na">orderByAnn</span><span class="p">(</span><span class="k">new</span><span class="w"> </span><span class="kt">float</span><span class="o">[]</span><span class="p">{</span><span class="mf">1f</span><span class="p">,</span><span class="w"> </span><span class="mf">0f</span><span class="p">,</span><span class="w"> </span><span class="mf">1f</span><span class="p">,</span><span class="w"> </span><span class="mf">1f</span><span class="p">,</span><span class="w"> </span><span class="mf">1f</span><span class="p">,</span><span class="w"> </span><span class="mf">1f</span><span class="p">,</span><span class="w"> </span><span class="mf">0f</span><span class="p">,</span><span class="w"> </span><span class="mf">0f</span><span class="p">,</span><span class="w"> </span><span class="mf">0f</span><span class="p">,</span><span class="w"> </span><span class="mf">0f</span><span class="p">,</span><span class="w"> </span><span class="mf">0f</span><span class="p">,</span><span class="w"> </span><span class="mf">0f</span><span class="p">,</span><span class="w"> </span><span class="mf">0f</span><span class="p">,</span><span class="w"> </span><span class="mf">0f</span><span class="p">})</span>
<a id="__codelineno-68-50" name="__codelineno-68-50"></a><span class="w">            </span><span class="p">.</span><span class="na">build</span><span class="p">())</span>
<a id="__codelineno-68-51" name="__codelineno-68-51"></a><span class="w">        </span><span class="p">.</span><span class="na">forEach</span><span class="p">(</span><span class="n">System</span><span class="p">.</span><span class="na">out</span><span class="p">::</span><span class="n">println</span><span class="p">);</span>
<a id="__codelineno-68-52" name="__codelineno-68-52"></a>
<a id="__codelineno-68-53" name="__codelineno-68-53"></a><span class="w">    </span><span class="c1">// Order the results by a specific field</span>
<a id="__codelineno-68-54" name="__codelineno-68-54"></a><span class="w">    </span><span class="n">collection</span><span class="p">.</span><span class="na">find</span><span class="p">(</span>
<a id="__codelineno-68-55" name="__codelineno-68-55"></a><span class="w">        </span><span class="n">SelectQuery</span><span class="p">.</span><span class="na">builder</span><span class="p">()</span>
<a id="__codelineno-68-56" name="__codelineno-68-56"></a><span class="w">            </span><span class="p">.</span><span class="na">filter</span><span class="p">(</span><span class="n">filter2</span><span class="p">)</span>
<a id="__codelineno-68-57" name="__codelineno-68-57"></a><span class="w">            </span><span class="p">.</span><span class="na">orderBy</span><span class="p">(</span><span class="s">&quot;product_price&quot;</span><span class="p">,</span><span class="w"> </span><span class="mi">1</span><span class="p">)</span>
<a id="__codelineno-68-58" name="__codelineno-68-58"></a><span class="w">            </span><span class="p">.</span><span class="na">build</span><span class="p">())</span>
<a id="__codelineno-68-59" name="__codelineno-68-59"></a><span class="w">        </span><span class="p">.</span><span class="na">forEach</span><span class="p">(</span><span class="n">System</span><span class="p">.</span><span class="na">out</span><span class="p">::</span><span class="n">println</span><span class="p">);</span>
<a id="__codelineno-68-60" name="__codelineno-68-60"></a>
<a id="__codelineno-68-61" name="__codelineno-68-61"></a><span class="w">    </span><span class="c1">// Complex query with AND and OR:</span>
<a id="__codelineno-68-62" name="__codelineno-68-62"></a><span class="w">    </span><span class="c1">//     (product_price == 9.99 OR product_name == &quot;HealthyFresh - Beef raw dog food&quot;)</span>
<a id="__codelineno-68-63" name="__codelineno-68-63"></a><span class="w">    </span><span class="c1">// AND (product_price == 12.99 OR product_name == &quot;HealthyFresh - Beef raw dog food&quot;)</span>
<a id="__codelineno-68-64" name="__codelineno-68-64"></a><span class="w">    </span><span class="n">SelectQuery</span><span class="w"> </span><span class="n">sq2</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">new</span><span class="w"> </span><span class="n">SelectQuery</span><span class="p">();</span>
<a id="__codelineno-68-65" name="__codelineno-68-65"></a><span class="w">    </span><span class="n">sq2</span><span class="p">.</span><span class="na">setFilter</span><span class="p">(</span><span class="k">new</span><span class="w"> </span><span class="n">HashMap</span><span class="o">&lt;&gt;</span><span class="p">());</span>
<a id="__codelineno-68-66" name="__codelineno-68-66"></a><span class="w">    </span><span class="n">Map</span><span class="o">&lt;</span><span class="n">String</span><span class="p">,</span><span class="w"> </span><span class="n">List</span><span class="o">&lt;</span><span class="n">Map</span><span class="o">&lt;</span><span class="n">String</span><span class="p">,</span><span class="w"> </span><span class="n">Object</span><span class="o">&gt;&gt;&gt;</span><span class="w"> </span><span class="n">or1Criteria</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">new</span><span class="w"> </span><span class="n">HashMap</span><span class="o">&lt;&gt;</span><span class="p">();</span>
<a id="__codelineno-68-67" name="__codelineno-68-67"></a><span class="w">    </span><span class="n">or1Criteria</span><span class="p">.</span><span class="na">put</span><span class="p">(</span><span class="s">&quot;$or&quot;</span><span class="p">,</span><span class="w"> </span><span class="k">new</span><span class="w"> </span><span class="n">ArrayList</span><span class="o">&lt;</span><span class="n">Map</span><span class="o">&lt;</span><span class="n">String</span><span class="p">,</span><span class="w"> </span><span class="n">Object</span><span class="o">&gt;&gt;</span><span class="p">());</span>
<a id="__codelineno-68-68" name="__codelineno-68-68"></a><span class="w">    </span><span class="n">or1Criteria</span><span class="p">.</span><span class="na">get</span><span class="p">(</span><span class="s">&quot;$or&quot;</span><span class="p">).</span><span class="na">add</span><span class="p">(</span><span class="n">Map</span><span class="p">.</span><span class="na">of</span><span class="p">(</span><span class="s">&quot;product_price&quot;</span><span class="p">,</span><span class="w"> </span><span class="mf">9.99</span><span class="p">));</span>
<a id="__codelineno-68-69" name="__codelineno-68-69"></a><span class="w">    </span><span class="n">or1Criteria</span><span class="p">.</span><span class="na">get</span><span class="p">(</span><span class="s">&quot;$or&quot;</span><span class="p">).</span><span class="na">add</span><span class="p">(</span><span class="n">Map</span><span class="p">.</span><span class="na">of</span><span class="p">(</span><span class="s">&quot;product_name&quot;</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;HealthyFresh - Beef raw dog food&quot;</span><span class="p">));</span>
<a id="__codelineno-68-70" name="__codelineno-68-70"></a><span class="w">    </span><span class="n">Map</span><span class="o">&lt;</span><span class="n">String</span><span class="p">,</span><span class="w"> </span><span class="n">List</span><span class="o">&lt;</span><span class="n">Map</span><span class="o">&lt;</span><span class="n">String</span><span class="p">,</span><span class="w"> </span><span class="n">Object</span><span class="o">&gt;&gt;&gt;</span><span class="w"> </span><span class="n">or2Criteria</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">new</span><span class="w"> </span><span class="n">HashMap</span><span class="o">&lt;&gt;</span><span class="p">();</span>
<a id="__codelineno-68-71" name="__codelineno-68-71"></a><span class="w">    </span><span class="n">or2Criteria</span><span class="p">.</span><span class="na">put</span><span class="p">(</span><span class="s">&quot;$or&quot;</span><span class="p">,</span><span class="w"> </span><span class="k">new</span><span class="w"> </span><span class="n">ArrayList</span><span class="o">&lt;</span><span class="n">Map</span><span class="o">&lt;</span><span class="n">String</span><span class="p">,</span><span class="w"> </span><span class="n">Object</span><span class="o">&gt;&gt;</span><span class="p">());</span>
<a id="__codelineno-68-72" name="__codelineno-68-72"></a><span class="w">    </span><span class="n">or2Criteria</span><span class="p">.</span><span class="na">get</span><span class="p">(</span><span class="s">&quot;$or&quot;</span><span class="p">).</span><span class="na">add</span><span class="p">(</span><span class="n">Map</span><span class="p">.</span><span class="na">of</span><span class="p">(</span><span class="s">&quot;product_price&quot;</span><span class="p">,</span><span class="w"> </span><span class="mf">12.99</span><span class="p">));</span>
<a id="__codelineno-68-73" name="__codelineno-68-73"></a><span class="w">    </span><span class="n">or2Criteria</span><span class="p">.</span><span class="na">get</span><span class="p">(</span><span class="s">&quot;$or&quot;</span><span class="p">).</span><span class="na">add</span><span class="p">(</span><span class="n">Map</span><span class="p">.</span><span class="na">of</span><span class="p">(</span><span class="s">&quot;product_name&quot;</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;HealthyFresh - Beef raw dog food&quot;</span><span class="p">));</span>
<a id="__codelineno-68-74" name="__codelineno-68-74"></a><span class="w">    </span><span class="n">List</span><span class="o">&lt;</span><span class="n">Map</span><span class="o">&lt;</span><span class="n">String</span><span class="p">,</span><span class="w"> </span><span class="n">List</span><span class="o">&lt;</span><span class="n">Map</span><span class="o">&lt;</span><span class="n">String</span><span class="p">,</span><span class="w"> </span><span class="n">Object</span><span class="o">&gt;&gt;&gt;&gt;</span><span class="w"> </span><span class="n">andCriteria</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">new</span><span class="w"> </span><span class="n">ArrayList</span><span class="o">&lt;&gt;</span><span class="p">();</span>
<a id="__codelineno-68-75" name="__codelineno-68-75"></a><span class="w">    </span><span class="n">andCriteria</span><span class="p">.</span><span class="na">add</span><span class="p">(</span><span class="n">or1Criteria</span><span class="p">);</span>
<a id="__codelineno-68-76" name="__codelineno-68-76"></a><span class="w">    </span><span class="n">andCriteria</span><span class="p">.</span><span class="na">add</span><span class="p">(</span><span class="n">or2Criteria</span><span class="p">);</span>
<a id="__codelineno-68-77" name="__codelineno-68-77"></a><span class="w">    </span><span class="n">sq2</span><span class="p">.</span><span class="na">getFilter</span><span class="p">().</span><span class="na">put</span><span class="p">(</span><span class="s">&quot;$and&quot;</span><span class="p">,</span><span class="w"> </span><span class="n">andCriteria</span><span class="p">);</span>
<a id="__codelineno-68-78" name="__codelineno-68-78"></a><span class="w">    </span><span class="n">collection</span><span class="p">.</span><span class="na">find</span><span class="p">(</span><span class="n">sq2</span><span class="p">).</span><span class="na">forEach</span><span class="p">(</span><span class="n">System</span><span class="p">.</span><span class="na">out</span><span class="p">::</span><span class="n">println</span><span class="p">);</span>
<a id="__codelineno-68-79" name="__codelineno-68-79"></a><span class="w">  </span><span class="p">}</span>
<a id="__codelineno-68-80" name="__codelineno-68-80"></a><span class="p">}</span>
</code></pre></div></td></tr></table></div>
<ul class="task-list">
<li class="task-list-item"><label class="task-list-control"><input type="checkbox" disabled checked/><span class="task-list-indicator"></span></label> <strong>To perform semantic search use <code>findVector()</code></strong></li>
</ul>
<div class="highlight"><table class="highlighttable"><tr><th colspan="2" class="filename"><span class="filename">ObjectMappingFindVector.java</span></th></tr><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-69-1"> 1</a></span>
<span class="normal"><a href="#__codelineno-69-2"> 2</a></span>
<span class="normal"><a href="#__codelineno-69-3"> 3</a></span>
<span class="normal"><a href="#__codelineno-69-4"> 4</a></span>
<span class="normal"><a href="#__codelineno-69-5"> 5</a></span>
<span class="normal"><a href="#__codelineno-69-6"> 6</a></span>
<span class="normal"><a href="#__codelineno-69-7"> 7</a></span>
<span class="normal"><a href="#__codelineno-69-8"> 8</a></span>
<span class="normal"><a href="#__codelineno-69-9"> 9</a></span>
<span class="normal"><a href="#__codelineno-69-10">10</a></span>
<span class="normal"><a href="#__codelineno-69-11">11</a></span>
<span class="normal"><a href="#__codelineno-69-12">12</a></span>
<span class="normal"><a href="#__codelineno-69-13">13</a></span>
<span class="normal"><a href="#__codelineno-69-14">14</a></span>
<span class="normal"><a href="#__codelineno-69-15">15</a></span>
<span class="normal"><a href="#__codelineno-69-16">16</a></span>
<span class="normal"><a href="#__codelineno-69-17">17</a></span>
<span class="normal"><a href="#__codelineno-69-18">18</a></span>
<span class="normal"><a href="#__codelineno-69-19">19</a></span>
<span class="normal"><a href="#__codelineno-69-20">20</a></span>
<span class="normal"><a href="#__codelineno-69-21">21</a></span>
<span class="normal"><a href="#__codelineno-69-22">22</a></span>
<span class="normal"><a href="#__codelineno-69-23">23</a></span>
<span class="normal"><a href="#__codelineno-69-24">24</a></span>
<span class="normal"><a href="#__codelineno-69-25">25</a></span>
<span class="normal"><a href="#__codelineno-69-26">26</a></span>
<span class="normal"><a href="#__codelineno-69-27">27</a></span>
<span class="normal"><a href="#__codelineno-69-28">28</a></span>
<span class="normal"><a href="#__codelineno-69-29">29</a></span>
<span class="normal"><a href="#__codelineno-69-30">30</a></span>
<span class="normal"><a href="#__codelineno-69-31">31</a></span>
<span class="normal"><a href="#__codelineno-69-32">32</a></span></pre></div></td><td class="code"><div><pre><span></span><code><a id="__codelineno-69-1" name="__codelineno-69-1"></a><span class="kn">package</span><span class="w"> </span><span class="nn">com.dtsx.astra.sdk.documentation</span><span class="p">;</span>
<a id="__codelineno-69-2" name="__codelineno-69-2"></a>
<a id="__codelineno-69-3" name="__codelineno-69-3"></a><span class="kn">import</span><span class="w"> </span><span class="nn">com.dtsx.astra.sdk.AstraDB</span><span class="p">;</span>
<a id="__codelineno-69-4" name="__codelineno-69-4"></a><span class="kn">import</span><span class="w"> </span><span class="nn">com.dtsx.astra.sdk.AstraDBRepository</span><span class="p">;</span>
<a id="__codelineno-69-5" name="__codelineno-69-5"></a><span class="kn">import</span><span class="w"> </span><span class="nn">com.fasterxml.jackson.annotation.JsonProperty</span><span class="p">;</span>
<a id="__codelineno-69-6" name="__codelineno-69-6"></a><span class="kn">import</span><span class="w"> </span><span class="nn">io.stargate.sdk.data.domain.odm.DocumentResult</span><span class="p">;</span>
<a id="__codelineno-69-7" name="__codelineno-69-7"></a><span class="kn">import</span><span class="w"> </span><span class="nn">io.stargate.sdk.data.domain.query.Filter</span><span class="p">;</span>
<a id="__codelineno-69-8" name="__codelineno-69-8"></a>
<a id="__codelineno-69-9" name="__codelineno-69-9"></a><span class="kn">import</span><span class="w"> </span><span class="nn">java.util.List</span><span class="p">;</span>
<a id="__codelineno-69-10" name="__codelineno-69-10"></a>
<a id="__codelineno-69-11" name="__codelineno-69-11"></a><span class="kd">public</span><span class="w"> </span><span class="kd">class</span> <span class="nc">ObjectMappingFindVector</span><span class="w"> </span><span class="p">{</span>
<a id="__codelineno-69-12" name="__codelineno-69-12"></a><span class="w">  </span><span class="kd">static</span><span class="w"> </span><span class="kd">class</span> <span class="nc">Product</span><span class="w"> </span><span class="p">{</span>
<a id="__codelineno-69-13" name="__codelineno-69-13"></a><span class="w">    </span><span class="nd">@JsonProperty</span><span class="p">(</span><span class="s">&quot;product_name&quot;</span><span class="p">)</span><span class="w"> </span><span class="kd">private</span><span class="w"> </span><span class="n">String</span><span class="w"> </span><span class="n">name</span><span class="p">;</span>
<a id="__codelineno-69-14" name="__codelineno-69-14"></a><span class="w">    </span><span class="nd">@JsonProperty</span><span class="p">(</span><span class="s">&quot;product_price&quot;</span><span class="p">)</span><span class="w"> </span><span class="kd">private</span><span class="w"> </span><span class="n">Double</span><span class="w"> </span><span class="n">price</span><span class="p">;</span>
<a id="__codelineno-69-15" name="__codelineno-69-15"></a><span class="w">  </span><span class="p">}</span>
<a id="__codelineno-69-16" name="__codelineno-69-16"></a>
<a id="__codelineno-69-17" name="__codelineno-69-17"></a><span class="w">  </span><span class="kd">public</span><span class="w"> </span><span class="kd">static</span><span class="w"> </span><span class="kt">void</span><span class="w"> </span><span class="nf">main</span><span class="p">(</span><span class="n">String</span><span class="o">[]</span><span class="w"> </span><span class="n">args</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<a id="__codelineno-69-18" name="__codelineno-69-18"></a><span class="w">    </span><span class="n">AstraDB</span><span class="w"> </span><span class="n">db</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">new</span><span class="w"> </span><span class="n">AstraDB</span><span class="p">(</span><span class="s">&quot;TOKEN&quot;</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;API_ENDPOINT&quot;</span><span class="p">);</span>
<a id="__codelineno-69-19" name="__codelineno-69-19"></a><span class="w">    </span><span class="n">AstraDBRepository</span><span class="o">&lt;</span><span class="n">Product</span><span class="o">&gt;</span><span class="w"> </span><span class="n">productRepository</span><span class="w"> </span><span class="o">=</span>
<a id="__codelineno-69-20" name="__codelineno-69-20"></a><span class="w">        </span><span class="n">db</span><span class="p">.</span><span class="na">createCollection</span><span class="p">(</span><span class="s">&quot;collection_vector1&quot;</span><span class="p">,</span><span class="w"> </span><span class="mi">14</span><span class="p">,</span><span class="w"> </span><span class="n">Product</span><span class="p">.</span><span class="na">class</span><span class="p">);</span>
<a id="__codelineno-69-21" name="__codelineno-69-21"></a>
<a id="__codelineno-69-22" name="__codelineno-69-22"></a><span class="w">    </span><span class="c1">// Perform a semantic search</span>
<a id="__codelineno-69-23" name="__codelineno-69-23"></a><span class="w">    </span><span class="kt">float</span><span class="o">[]</span><span class="w"> </span><span class="n">embeddings</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">new</span><span class="w"> </span><span class="kt">float</span><span class="o">[]</span><span class="p">{</span><span class="mf">1f</span><span class="p">,</span><span class="w"> </span><span class="mf">0f</span><span class="p">,</span><span class="w"> </span><span class="mf">1f</span><span class="p">,</span><span class="w"> </span><span class="mf">1f</span><span class="p">,</span><span class="w"> </span><span class="mf">1f</span><span class="p">,</span><span class="w"> </span><span class="mf">1f</span><span class="p">,</span><span class="w"> </span><span class="mf">0f</span><span class="p">,</span><span class="w"> </span><span class="mf">0f</span><span class="p">,</span><span class="w"> </span><span class="mf">0f</span><span class="p">,</span><span class="w"> </span><span class="mf">0f</span><span class="p">,</span><span class="w"> </span><span class="mf">0f</span><span class="p">,</span><span class="w"> </span><span class="mf">0f</span><span class="p">,</span><span class="w"> </span><span class="mf">0f</span><span class="p">,</span><span class="w"> </span><span class="mf">0f</span><span class="p">};</span>
<a id="__codelineno-69-24" name="__codelineno-69-24"></a><span class="w">    </span><span class="n">Filter</span><span class="w"> </span><span class="n">metadataFilter</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">new</span><span class="w"> </span><span class="n">Filter</span><span class="p">().</span><span class="na">where</span><span class="p">(</span><span class="s">&quot;product_price&quot;</span><span class="p">).</span><span class="na">isEqualsTo</span><span class="p">(</span><span class="mf">9.99</span><span class="p">);</span>
<a id="__codelineno-69-25" name="__codelineno-69-25"></a><span class="w">    </span><span class="kt">int</span><span class="w"> </span><span class="n">maxRecord</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">10</span><span class="p">;</span>
<a id="__codelineno-69-26" name="__codelineno-69-26"></a><span class="w">    </span><span class="n">List</span><span class="o">&lt;</span><span class="n">DocumentResult</span><span class="o">&lt;</span><span class="n">Product</span><span class="o">&gt;&gt;</span><span class="w"> </span><span class="n">res</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">productRepository</span><span class="p">.</span><span class="na">findVector</span><span class="p">(</span><span class="n">embeddings</span><span class="p">,</span><span class="w"> </span><span class="n">metadataFilter</span><span class="p">,</span><span class="w"> </span><span class="n">maxRecord</span><span class="p">);</span>
<a id="__codelineno-69-27" name="__codelineno-69-27"></a>
<a id="__codelineno-69-28" name="__codelineno-69-28"></a><span class="w">    </span><span class="c1">// If you do not have max record or metadata filter, you can use the following</span>
<a id="__codelineno-69-29" name="__codelineno-69-29"></a><span class="w">    </span><span class="n">productRepository</span><span class="p">.</span><span class="na">findVector</span><span class="p">(</span><span class="n">embeddings</span><span class="p">,</span><span class="w"> </span><span class="n">maxRecord</span><span class="p">);</span>
<a id="__codelineno-69-30" name="__codelineno-69-30"></a><span class="w">    </span><span class="n">productRepository</span><span class="p">.</span><span class="na">findVector</span><span class="p">(</span><span class="n">embeddings</span><span class="p">,</span><span class="w"> </span><span class="n">metadataFilter</span><span class="p">);</span>
<a id="__codelineno-69-31" name="__codelineno-69-31"></a><span class="w">  </span><span class="p">}</span>
<a id="__codelineno-69-32" name="__codelineno-69-32"></a><span class="p">}</span>
</code></pre></div></td></tr></table></div>
<h4 id="update-one_1">Update One<a class="headerlink" href="#update-one_1" title="Permanent link">&para;</a></h4>
<div class="highlight"><table class="highlighttable"><tr><th colspan="2" class="filename"><span class="filename">ObjectMappingUpdateOne.java</span></th></tr><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-70-1"> 1</a></span>
<span class="normal"><a href="#__codelineno-70-2"> 2</a></span>
<span class="normal"><a href="#__codelineno-70-3"> 3</a></span>
<span class="normal"><a href="#__codelineno-70-4"> 4</a></span>
<span class="normal"><a href="#__codelineno-70-5"> 5</a></span>
<span class="normal"><a href="#__codelineno-70-6"> 6</a></span>
<span class="normal"><a href="#__codelineno-70-7"> 7</a></span>
<span class="normal"><a href="#__codelineno-70-8"> 8</a></span>
<span class="normal"><a href="#__codelineno-70-9"> 9</a></span>
<span class="normal"><a href="#__codelineno-70-10">10</a></span>
<span class="normal"><a href="#__codelineno-70-11">11</a></span>
<span class="normal"><a href="#__codelineno-70-12">12</a></span>
<span class="normal"><a href="#__codelineno-70-13">13</a></span>
<span class="normal"><a href="#__codelineno-70-14">14</a></span>
<span class="normal"><a href="#__codelineno-70-15">15</a></span>
<span class="normal"><a href="#__codelineno-70-16">16</a></span>
<span class="normal"><a href="#__codelineno-70-17">17</a></span>
<span class="normal"><a href="#__codelineno-70-18">18</a></span>
<span class="normal"><a href="#__codelineno-70-19">19</a></span>
<span class="normal"><a href="#__codelineno-70-20">20</a></span>
<span class="normal"><a href="#__codelineno-70-21">21</a></span>
<span class="normal"><a href="#__codelineno-70-22">22</a></span>
<span class="normal"><a href="#__codelineno-70-23">23</a></span>
<span class="normal"><a href="#__codelineno-70-24">24</a></span>
<span class="normal"><a href="#__codelineno-70-25">25</a></span>
<span class="normal"><a href="#__codelineno-70-26">26</a></span>
<span class="normal"><a href="#__codelineno-70-27">27</a></span>
<span class="normal"><a href="#__codelineno-70-28">28</a></span>
<span class="normal"><a href="#__codelineno-70-29">29</a></span></pre></div></td><td class="code"><div><pre><span></span><code><a id="__codelineno-70-1" name="__codelineno-70-1"></a><span class="kn">package</span><span class="w"> </span><span class="nn">com.dtsx.astra.sdk.documentation</span><span class="p">;</span>
<a id="__codelineno-70-2" name="__codelineno-70-2"></a>
<a id="__codelineno-70-3" name="__codelineno-70-3"></a><span class="kn">import</span><span class="w"> </span><span class="nn">com.dtsx.astra.sdk.AstraDB</span><span class="p">;</span>
<a id="__codelineno-70-4" name="__codelineno-70-4"></a><span class="kn">import</span><span class="w"> </span><span class="nn">com.dtsx.astra.sdk.AstraDBRepository</span><span class="p">;</span>
<a id="__codelineno-70-5" name="__codelineno-70-5"></a><span class="kn">import</span><span class="w"> </span><span class="nn">com.fasterxml.jackson.annotation.JsonProperty</span><span class="p">;</span>
<a id="__codelineno-70-6" name="__codelineno-70-6"></a><span class="kn">import</span><span class="w"> </span><span class="nn">io.stargate.sdk.data.domain.odm.Document</span><span class="p">;</span>
<a id="__codelineno-70-7" name="__codelineno-70-7"></a>
<a id="__codelineno-70-8" name="__codelineno-70-8"></a><span class="kd">public</span><span class="w"> </span><span class="kd">class</span> <span class="nc">ObjectMappingUpdateOne</span><span class="w"> </span><span class="p">{</span>
<a id="__codelineno-70-9" name="__codelineno-70-9"></a><span class="w">  </span><span class="kd">static</span><span class="w"> </span><span class="kd">class</span> <span class="nc">Product</span><span class="w"> </span><span class="p">{</span>
<a id="__codelineno-70-10" name="__codelineno-70-10"></a><span class="w">    </span><span class="nd">@JsonProperty</span><span class="p">(</span><span class="s">&quot;product_name&quot;</span><span class="p">)</span><span class="w"> </span><span class="kd">private</span><span class="w"> </span><span class="n">String</span><span class="w"> </span><span class="n">name</span><span class="p">;</span>
<a id="__codelineno-70-11" name="__codelineno-70-11"></a><span class="w">    </span><span class="nd">@JsonProperty</span><span class="p">(</span><span class="s">&quot;product_price&quot;</span><span class="p">)</span><span class="w"> </span><span class="kd">private</span><span class="w"> </span><span class="n">Double</span><span class="w"> </span><span class="n">price</span><span class="p">;</span>
<a id="__codelineno-70-12" name="__codelineno-70-12"></a><span class="w">    </span><span class="n">Product</span><span class="p">(</span><span class="n">String</span><span class="w"> </span><span class="n">name</span><span class="p">,</span><span class="w"> </span><span class="n">Double</span><span class="w"> </span><span class="n">price</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<a id="__codelineno-70-13" name="__codelineno-70-13"></a><span class="w">      </span><span class="k">this</span><span class="p">.</span><span class="na">name</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">name</span><span class="p">;</span>
<a id="__codelineno-70-14" name="__codelineno-70-14"></a><span class="w">      </span><span class="k">this</span><span class="p">.</span><span class="na">price</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">price</span><span class="p">;</span>
<a id="__codelineno-70-15" name="__codelineno-70-15"></a><span class="w">    </span><span class="p">}</span>
<a id="__codelineno-70-16" name="__codelineno-70-16"></a><span class="w">  </span><span class="p">}</span>
<a id="__codelineno-70-17" name="__codelineno-70-17"></a>
<a id="__codelineno-70-18" name="__codelineno-70-18"></a><span class="w">  </span><span class="kd">public</span><span class="w"> </span><span class="kd">static</span><span class="w"> </span><span class="kt">void</span><span class="w"> </span><span class="nf">main</span><span class="p">(</span><span class="n">String</span><span class="o">[]</span><span class="w"> </span><span class="n">args</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<a id="__codelineno-70-19" name="__codelineno-70-19"></a><span class="w">    </span><span class="n">AstraDB</span><span class="w"> </span><span class="n">db</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">new</span><span class="w"> </span><span class="n">AstraDB</span><span class="p">(</span><span class="s">&quot;TOKEN&quot;</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;API_ENDPOINT&quot;</span><span class="p">);</span>
<a id="__codelineno-70-20" name="__codelineno-70-20"></a><span class="w">    </span><span class="n">AstraDBRepository</span><span class="o">&lt;</span><span class="n">Product</span><span class="o">&gt;</span><span class="w"> </span><span class="n">productRepository</span><span class="w"> </span><span class="o">=</span>
<a id="__codelineno-70-21" name="__codelineno-70-21"></a><span class="w">        </span><span class="n">db</span><span class="p">.</span><span class="na">createCollection</span><span class="p">(</span><span class="s">&quot;collection_vector1&quot;</span><span class="p">,</span><span class="w"> </span><span class="mi">14</span><span class="p">,</span><span class="w"> </span><span class="n">Product</span><span class="p">.</span><span class="na">class</span><span class="p">);</span>
<a id="__codelineno-70-22" name="__codelineno-70-22"></a>
<a id="__codelineno-70-23" name="__codelineno-70-23"></a><span class="w">    </span><span class="c1">// Upsert a document</span>
<a id="__codelineno-70-24" name="__codelineno-70-24"></a><span class="w">    </span><span class="n">productRepository</span><span class="p">.</span><span class="na">save</span><span class="p">(</span><span class="k">new</span><span class="w"> </span><span class="n">Document</span><span class="o">&lt;</span><span class="n">Product</span><span class="o">&gt;</span><span class="p">()</span>
<a id="__codelineno-70-25" name="__codelineno-70-25"></a><span class="w">        </span><span class="p">.</span><span class="na">id</span><span class="p">(</span><span class="s">&quot;product1&quot;</span><span class="p">)</span>
<a id="__codelineno-70-26" name="__codelineno-70-26"></a><span class="w">        </span><span class="p">.</span><span class="na">vector</span><span class="p">(</span><span class="k">new</span><span class="w"> </span><span class="kt">float</span><span class="o">[]</span><span class="p">{</span><span class="mf">1f</span><span class="p">,</span><span class="w"> </span><span class="mf">0f</span><span class="p">,</span><span class="w"> </span><span class="mf">1f</span><span class="p">,</span><span class="w"> </span><span class="mf">1f</span><span class="p">,</span><span class="w"> </span><span class="mf">.5f</span><span class="p">,</span><span class="w"> </span><span class="mf">1f</span><span class="p">,</span><span class="w"> </span><span class="mf">0f</span><span class="p">,</span><span class="w"> </span><span class="mf">0.3f</span><span class="p">,</span><span class="w"> </span><span class="mf">0f</span><span class="p">,</span><span class="w"> </span><span class="mf">0f</span><span class="p">,</span><span class="w"> </span><span class="mf">0f</span><span class="p">,</span><span class="w"> </span><span class="mf">0f</span><span class="p">,</span><span class="w"> </span><span class="mf">0f</span><span class="p">,</span><span class="w"> </span><span class="mf">0f</span><span class="p">})</span>
<a id="__codelineno-70-27" name="__codelineno-70-27"></a><span class="w">        </span><span class="p">.</span><span class="na">data</span><span class="p">(</span><span class="k">new</span><span class="w"> </span><span class="n">Product</span><span class="p">(</span><span class="s">&quot;product1&quot;</span><span class="p">,</span><span class="w"> </span><span class="mf">9.99</span><span class="p">)));</span>
<a id="__codelineno-70-28" name="__codelineno-70-28"></a><span class="w">  </span><span class="p">}</span>
<a id="__codelineno-70-29" name="__codelineno-70-29"></a><span class="p">}</span>
</code></pre></div></td></tr></table></div>
<h4 id="update-many_1">Update Many<a class="headerlink" href="#update-many_1" title="Permanent link">&para;</a></h4>
<div class="highlight"><table class="highlighttable"><tr><th colspan="2" class="filename"><span class="filename">ObjectMappingUpdateMany.java</span></th></tr><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-71-1"> 1</a></span>
<span class="normal"><a href="#__codelineno-71-2"> 2</a></span>
<span class="normal"><a href="#__codelineno-71-3"> 3</a></span>
<span class="normal"><a href="#__codelineno-71-4"> 4</a></span>
<span class="normal"><a href="#__codelineno-71-5"> 5</a></span>
<span class="normal"><a href="#__codelineno-71-6"> 6</a></span>
<span class="normal"><a href="#__codelineno-71-7"> 7</a></span>
<span class="normal"><a href="#__codelineno-71-8"> 8</a></span>
<span class="normal"><a href="#__codelineno-71-9"> 9</a></span>
<span class="normal"><a href="#__codelineno-71-10">10</a></span>
<span class="normal"><a href="#__codelineno-71-11">11</a></span>
<span class="normal"><a href="#__codelineno-71-12">12</a></span>
<span class="normal"><a href="#__codelineno-71-13">13</a></span>
<span class="normal"><a href="#__codelineno-71-14">14</a></span>
<span class="normal"><a href="#__codelineno-71-15">15</a></span>
<span class="normal"><a href="#__codelineno-71-16">16</a></span>
<span class="normal"><a href="#__codelineno-71-17">17</a></span>
<span class="normal"><a href="#__codelineno-71-18">18</a></span>
<span class="normal"><a href="#__codelineno-71-19">19</a></span>
<span class="normal"><a href="#__codelineno-71-20">20</a></span>
<span class="normal"><a href="#__codelineno-71-21">21</a></span>
<span class="normal"><a href="#__codelineno-71-22">22</a></span>
<span class="normal"><a href="#__codelineno-71-23">23</a></span>
<span class="normal"><a href="#__codelineno-71-24">24</a></span>
<span class="normal"><a href="#__codelineno-71-25">25</a></span>
<span class="normal"><a href="#__codelineno-71-26">26</a></span>
<span class="normal"><a href="#__codelineno-71-27">27</a></span>
<span class="normal"><a href="#__codelineno-71-28">28</a></span>
<span class="normal"><a href="#__codelineno-71-29">29</a></span>
<span class="normal"><a href="#__codelineno-71-30">30</a></span>
<span class="normal"><a href="#__codelineno-71-31">31</a></span>
<span class="normal"><a href="#__codelineno-71-32">32</a></span>
<span class="normal"><a href="#__codelineno-71-33">33</a></span>
<span class="normal"><a href="#__codelineno-71-34">34</a></span>
<span class="normal"><a href="#__codelineno-71-35">35</a></span>
<span class="normal"><a href="#__codelineno-71-36">36</a></span></pre></div></td><td class="code"><div><pre><span></span><code><a id="__codelineno-71-1" name="__codelineno-71-1"></a><span class="kn">package</span><span class="w"> </span><span class="nn">com.dtsx.astra.sdk.documentation</span><span class="p">;</span>
<a id="__codelineno-71-2" name="__codelineno-71-2"></a>
<a id="__codelineno-71-3" name="__codelineno-71-3"></a><span class="kn">import</span><span class="w"> </span><span class="nn">com.dtsx.astra.sdk.AstraDB</span><span class="p">;</span>
<a id="__codelineno-71-4" name="__codelineno-71-4"></a><span class="kn">import</span><span class="w"> </span><span class="nn">com.dtsx.astra.sdk.AstraDBRepository</span><span class="p">;</span>
<a id="__codelineno-71-5" name="__codelineno-71-5"></a><span class="kn">import</span><span class="w"> </span><span class="nn">com.fasterxml.jackson.annotation.JsonProperty</span><span class="p">;</span>
<a id="__codelineno-71-6" name="__codelineno-71-6"></a><span class="kn">import</span><span class="w"> </span><span class="nn">dev.langchain4j.agent.tool.P</span><span class="p">;</span>
<a id="__codelineno-71-7" name="__codelineno-71-7"></a><span class="kn">import</span><span class="w"> </span><span class="nn">io.stargate.sdk.data.domain.DocumentMutationResult</span><span class="p">;</span>
<a id="__codelineno-71-8" name="__codelineno-71-8"></a><span class="kn">import</span><span class="w"> </span><span class="nn">io.stargate.sdk.data.domain.odm.Document</span><span class="p">;</span>
<a id="__codelineno-71-9" name="__codelineno-71-9"></a><span class="kn">import</span><span class="w"> </span><span class="nn">java.util.List</span><span class="p">;</span>
<a id="__codelineno-71-10" name="__codelineno-71-10"></a>
<a id="__codelineno-71-11" name="__codelineno-71-11"></a><span class="kd">public</span><span class="w"> </span><span class="kd">class</span> <span class="nc">ObjectMappingUpdateMany</span><span class="w"> </span><span class="p">{</span>
<a id="__codelineno-71-12" name="__codelineno-71-12"></a><span class="w">  </span><span class="kd">static</span><span class="w"> </span><span class="kd">class</span> <span class="nc">Product</span><span class="w"> </span><span class="p">{</span>
<a id="__codelineno-71-13" name="__codelineno-71-13"></a><span class="w">    </span><span class="nd">@JsonProperty</span><span class="p">(</span><span class="s">&quot;product_name&quot;</span><span class="p">)</span><span class="w"> </span><span class="kd">private</span><span class="w"> </span><span class="n">String</span><span class="w"> </span><span class="n">name</span><span class="p">;</span>
<a id="__codelineno-71-14" name="__codelineno-71-14"></a><span class="w">    </span><span class="nd">@JsonProperty</span><span class="p">(</span><span class="s">&quot;product_price&quot;</span><span class="p">)</span><span class="w"> </span><span class="kd">private</span><span class="w"> </span><span class="n">Double</span><span class="w"> </span><span class="n">price</span><span class="p">;</span>
<a id="__codelineno-71-15" name="__codelineno-71-15"></a><span class="w">    </span><span class="n">Product</span><span class="p">(</span><span class="n">String</span><span class="w"> </span><span class="n">name</span><span class="p">,</span><span class="w"> </span><span class="n">Double</span><span class="w"> </span><span class="n">price</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<a id="__codelineno-71-16" name="__codelineno-71-16"></a><span class="w">      </span><span class="k">this</span><span class="p">.</span><span class="na">name</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">name</span><span class="p">;</span>
<a id="__codelineno-71-17" name="__codelineno-71-17"></a><span class="w">      </span><span class="k">this</span><span class="p">.</span><span class="na">price</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">price</span><span class="p">;</span>
<a id="__codelineno-71-18" name="__codelineno-71-18"></a><span class="w">    </span><span class="p">}</span>
<a id="__codelineno-71-19" name="__codelineno-71-19"></a><span class="w">  </span><span class="p">}</span>
<a id="__codelineno-71-20" name="__codelineno-71-20"></a>
<a id="__codelineno-71-21" name="__codelineno-71-21"></a><span class="w">  </span><span class="kd">public</span><span class="w"> </span><span class="kd">static</span><span class="w"> </span><span class="kt">void</span><span class="w"> </span><span class="nf">main</span><span class="p">(</span><span class="n">String</span><span class="o">[]</span><span class="w"> </span><span class="n">args</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<a id="__codelineno-71-22" name="__codelineno-71-22"></a><span class="w">    </span><span class="n">AstraDB</span><span class="w"> </span><span class="n">db</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">new</span><span class="w"> </span><span class="n">AstraDB</span><span class="p">(</span><span class="s">&quot;TOKEN&quot;</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;API_ENDPOINT&quot;</span><span class="p">);</span>
<a id="__codelineno-71-23" name="__codelineno-71-23"></a><span class="w">    </span><span class="n">AstraDBRepository</span><span class="o">&lt;</span><span class="n">Product</span><span class="o">&gt;</span><span class="w"> </span><span class="n">productRepository</span><span class="w"> </span><span class="o">=</span>
<a id="__codelineno-71-24" name="__codelineno-71-24"></a><span class="w">        </span><span class="n">db</span><span class="p">.</span><span class="na">createCollection</span><span class="p">(</span><span class="s">&quot;collection_vector1&quot;</span><span class="p">,</span><span class="w"> </span><span class="mi">14</span><span class="p">,</span><span class="w"> </span><span class="n">Product</span><span class="p">.</span><span class="na">class</span><span class="p">);</span>
<a id="__codelineno-71-25" name="__codelineno-71-25"></a>
<a id="__codelineno-71-26" name="__codelineno-71-26"></a><span class="w">    </span><span class="c1">// Insert documents into the collection (IDs are generated automatically)</span>
<a id="__codelineno-71-27" name="__codelineno-71-27"></a><span class="w">    </span><span class="n">List</span><span class="o">&lt;</span><span class="n">DocumentMutationResult</span><span class="o">&lt;</span><span class="n">Product</span><span class="o">&gt;&gt;</span><span class="w"> </span><span class="n">identifiers</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">productRepository</span><span class="p">.</span><span class="na">saveAll</span><span class="p">(</span>
<a id="__codelineno-71-28" name="__codelineno-71-28"></a><span class="w">        </span><span class="n">List</span><span class="p">.</span><span class="na">of</span><span class="p">(</span>
<a id="__codelineno-71-29" name="__codelineno-71-29"></a><span class="w">            </span><span class="k">new</span><span class="w"> </span><span class="n">Document</span><span class="o">&lt;</span><span class="n">Product</span><span class="o">&gt;</span><span class="p">()</span>
<a id="__codelineno-71-30" name="__codelineno-71-30"></a><span class="w">                </span><span class="p">.</span><span class="na">vector</span><span class="p">(</span><span class="k">new</span><span class="w"> </span><span class="kt">float</span><span class="o">[]</span><span class="p">{</span><span class="mf">1f</span><span class="p">,</span><span class="w"> </span><span class="mf">0f</span><span class="p">,</span><span class="w"> </span><span class="mf">1f</span><span class="p">,</span><span class="w"> </span><span class="mf">1f</span><span class="p">,</span><span class="w"> </span><span class="mf">.5f</span><span class="p">,</span><span class="w"> </span><span class="mf">1f</span><span class="p">,</span><span class="w"> </span><span class="mf">0f</span><span class="p">,</span><span class="w"> </span><span class="mf">0.3f</span><span class="p">,</span><span class="w"> </span><span class="mf">0f</span><span class="p">,</span><span class="w"> </span><span class="mf">0f</span><span class="p">,</span><span class="w"> </span><span class="mf">0f</span><span class="p">,</span><span class="w"> </span><span class="mf">0f</span><span class="p">,</span><span class="w"> </span><span class="mf">0f</span><span class="p">,</span><span class="w"> </span><span class="mf">0f</span><span class="p">})</span>
<a id="__codelineno-71-31" name="__codelineno-71-31"></a><span class="w">                </span><span class="p">.</span><span class="na">data</span><span class="p">(</span><span class="k">new</span><span class="w"> </span><span class="n">Product</span><span class="p">(</span><span class="s">&quot;product1&quot;</span><span class="p">,</span><span class="w"> </span><span class="mf">9.99</span><span class="p">)),</span>
<a id="__codelineno-71-32" name="__codelineno-71-32"></a><span class="w">            </span><span class="k">new</span><span class="w"> </span><span class="n">Document</span><span class="o">&lt;</span><span class="n">Product</span><span class="o">&gt;</span><span class="p">()</span>
<a id="__codelineno-71-33" name="__codelineno-71-33"></a><span class="w">                </span><span class="p">.</span><span class="na">vector</span><span class="p">(</span><span class="k">new</span><span class="w"> </span><span class="kt">float</span><span class="o">[]</span><span class="p">{</span><span class="mf">1f</span><span class="p">,</span><span class="w"> </span><span class="mf">0f</span><span class="p">,</span><span class="w"> </span><span class="mf">1f</span><span class="p">,</span><span class="w"> </span><span class="mf">1f</span><span class="p">,</span><span class="w"> </span><span class="mf">.5f</span><span class="p">,</span><span class="w"> </span><span class="mf">1f</span><span class="p">,</span><span class="w"> </span><span class="mf">0f</span><span class="p">,</span><span class="w"> </span><span class="mf">0.3f</span><span class="p">,</span><span class="w"> </span><span class="mf">0f</span><span class="p">,</span><span class="w"> </span><span class="mf">0f</span><span class="p">,</span><span class="w"> </span><span class="mf">0f</span><span class="p">,</span><span class="w"> </span><span class="mf">0f</span><span class="p">,</span><span class="w"> </span><span class="mf">0f</span><span class="p">,</span><span class="w"> </span><span class="mf">0f</span><span class="p">})</span>
<a id="__codelineno-71-34" name="__codelineno-71-34"></a><span class="w">                </span><span class="p">.</span><span class="na">data</span><span class="p">(</span><span class="k">new</span><span class="w"> </span><span class="n">Product</span><span class="p">(</span><span class="s">&quot;product2&quot;</span><span class="p">,</span><span class="w"> </span><span class="mf">12.99</span><span class="p">))));</span>
<a id="__codelineno-71-35" name="__codelineno-71-35"></a><span class="w">  </span><span class="p">}</span>
<a id="__codelineno-71-36" name="__codelineno-71-36"></a><span class="p">}</span>
</code></pre></div></td></tr></table></div>
<h4 id="delete-one_1">Delete One<a class="headerlink" href="#delete-one_1" title="Permanent link">&para;</a></h4>
<div class="highlight"><table class="highlighttable"><tr><th colspan="2" class="filename"><span class="filename">ObjectMappingDeleteOne.java</span></th></tr><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-72-1"> 1</a></span>
<span class="normal"><a href="#__codelineno-72-2"> 2</a></span>
<span class="normal"><a href="#__codelineno-72-3"> 3</a></span>
<span class="normal"><a href="#__codelineno-72-4"> 4</a></span>
<span class="normal"><a href="#__codelineno-72-5"> 5</a></span>
<span class="normal"><a href="#__codelineno-72-6"> 6</a></span>
<span class="normal"><a href="#__codelineno-72-7"> 7</a></span>
<span class="normal"><a href="#__codelineno-72-8"> 8</a></span>
<span class="normal"><a href="#__codelineno-72-9"> 9</a></span>
<span class="normal"><a href="#__codelineno-72-10">10</a></span>
<span class="normal"><a href="#__codelineno-72-11">11</a></span>
<span class="normal"><a href="#__codelineno-72-12">12</a></span>
<span class="normal"><a href="#__codelineno-72-13">13</a></span>
<span class="normal"><a href="#__codelineno-72-14">14</a></span>
<span class="normal"><a href="#__codelineno-72-15">15</a></span>
<span class="normal"><a href="#__codelineno-72-16">16</a></span>
<span class="normal"><a href="#__codelineno-72-17">17</a></span>
<span class="normal"><a href="#__codelineno-72-18">18</a></span>
<span class="normal"><a href="#__codelineno-72-19">19</a></span>
<span class="normal"><a href="#__codelineno-72-20">20</a></span>
<span class="normal"><a href="#__codelineno-72-21">21</a></span>
<span class="normal"><a href="#__codelineno-72-22">22</a></span>
<span class="normal"><a href="#__codelineno-72-23">23</a></span>
<span class="normal"><a href="#__codelineno-72-24">24</a></span>
<span class="normal"><a href="#__codelineno-72-25">25</a></span></pre></div></td><td class="code"><div><pre><span></span><code><a id="__codelineno-72-1" name="__codelineno-72-1"></a><span class="kn">package</span><span class="w"> </span><span class="nn">com.dtsx.astra.sdk.documentation</span><span class="p">;</span>
<a id="__codelineno-72-2" name="__codelineno-72-2"></a>
<a id="__codelineno-72-3" name="__codelineno-72-3"></a><span class="kn">import</span><span class="w"> </span><span class="nn">com.dtsx.astra.sdk.AstraDB</span><span class="p">;</span>
<a id="__codelineno-72-4" name="__codelineno-72-4"></a><span class="kn">import</span><span class="w"> </span><span class="nn">com.dtsx.astra.sdk.AstraDBRepository</span><span class="p">;</span>
<a id="__codelineno-72-5" name="__codelineno-72-5"></a><span class="kn">import</span><span class="w"> </span><span class="nn">com.fasterxml.jackson.annotation.JsonProperty</span><span class="p">;</span>
<a id="__codelineno-72-6" name="__codelineno-72-6"></a><span class="kn">import</span><span class="w"> </span><span class="nn">io.stargate.sdk.data.domain.odm.Document</span><span class="p">;</span>
<a id="__codelineno-72-7" name="__codelineno-72-7"></a>
<a id="__codelineno-72-8" name="__codelineno-72-8"></a><span class="kd">public</span><span class="w"> </span><span class="kd">class</span> <span class="nc">ObjectMappingDeleteOne</span><span class="w"> </span><span class="p">{</span>
<a id="__codelineno-72-9" name="__codelineno-72-9"></a><span class="w">  </span><span class="kd">static</span><span class="w"> </span><span class="kd">class</span> <span class="nc">Product</span><span class="w"> </span><span class="p">{</span>
<a id="__codelineno-72-10" name="__codelineno-72-10"></a><span class="w">    </span><span class="nd">@JsonProperty</span><span class="p">(</span><span class="s">&quot;product_name&quot;</span><span class="p">)</span><span class="w"> </span><span class="kd">private</span><span class="w"> </span><span class="n">String</span><span class="w"> </span><span class="n">name</span><span class="p">;</span>
<a id="__codelineno-72-11" name="__codelineno-72-11"></a><span class="w">    </span><span class="nd">@JsonProperty</span><span class="p">(</span><span class="s">&quot;product_price&quot;</span><span class="p">)</span><span class="w"> </span><span class="kd">private</span><span class="w"> </span><span class="n">Double</span><span class="w"> </span><span class="n">price</span><span class="p">;</span>
<a id="__codelineno-72-12" name="__codelineno-72-12"></a><span class="w">  </span><span class="p">}</span>
<a id="__codelineno-72-13" name="__codelineno-72-13"></a>
<a id="__codelineno-72-14" name="__codelineno-72-14"></a><span class="w">  </span><span class="kd">public</span><span class="w"> </span><span class="kd">static</span><span class="w"> </span><span class="kt">void</span><span class="w"> </span><span class="nf">main</span><span class="p">(</span><span class="n">String</span><span class="o">[]</span><span class="w"> </span><span class="n">args</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<a id="__codelineno-72-15" name="__codelineno-72-15"></a><span class="w">    </span><span class="n">AstraDB</span><span class="w"> </span><span class="n">db</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">new</span><span class="w"> </span><span class="n">AstraDB</span><span class="p">(</span><span class="s">&quot;TOKEN&quot;</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;API_ENDPOINT&quot;</span><span class="p">);</span>
<a id="__codelineno-72-16" name="__codelineno-72-16"></a><span class="w">    </span><span class="n">AstraDBRepository</span><span class="o">&lt;</span><span class="n">Product</span><span class="o">&gt;</span><span class="w"> </span><span class="n">collection1</span><span class="w"> </span><span class="o">=</span>
<a id="__codelineno-72-17" name="__codelineno-72-17"></a><span class="w">        </span><span class="n">db</span><span class="p">.</span><span class="na">createCollection</span><span class="p">(</span><span class="s">&quot;collection_simple&quot;</span><span class="p">,</span><span class="w"> </span><span class="n">Product</span><span class="p">.</span><span class="na">class</span><span class="p">);</span>
<a id="__codelineno-72-18" name="__codelineno-72-18"></a>
<a id="__codelineno-72-19" name="__codelineno-72-19"></a><span class="w">    </span><span class="c1">// Delete a document by ID</span>
<a id="__codelineno-72-20" name="__codelineno-72-20"></a><span class="w">    </span><span class="n">collection1</span><span class="p">.</span><span class="na">deleteById</span><span class="p">(</span><span class="s">&quot;id1&quot;</span><span class="p">);</span>
<a id="__codelineno-72-21" name="__codelineno-72-21"></a>
<a id="__codelineno-72-22" name="__codelineno-72-22"></a><span class="w">    </span><span class="c1">// Delete a specific document</span>
<a id="__codelineno-72-23" name="__codelineno-72-23"></a><span class="w">    </span><span class="n">collection1</span><span class="p">.</span><span class="na">delete</span><span class="p">(</span><span class="k">new</span><span class="w"> </span><span class="n">Document</span><span class="o">&lt;</span><span class="n">Product</span><span class="o">&gt;</span><span class="p">().</span><span class="na">id</span><span class="p">(</span><span class="s">&quot;id2&quot;</span><span class="p">));</span>
<a id="__codelineno-72-24" name="__codelineno-72-24"></a><span class="w">  </span><span class="p">}</span>
<a id="__codelineno-72-25" name="__codelineno-72-25"></a><span class="p">}</span>
</code></pre></div></td></tr></table></div>
<h4 id="delete-many_1">Delete Many<a class="headerlink" href="#delete-many_1" title="Permanent link">&para;</a></h4>
<div class="highlight"><table class="highlighttable"><tr><th colspan="2" class="filename"><span class="filename">ObjectMappingDeleteMany.java</span></th></tr><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-73-1"> 1</a></span>
<span class="normal"><a href="#__codelineno-73-2"> 2</a></span>
<span class="normal"><a href="#__codelineno-73-3"> 3</a></span>
<span class="normal"><a href="#__codelineno-73-4"> 4</a></span>
<span class="normal"><a href="#__codelineno-73-5"> 5</a></span>
<span class="normal"><a href="#__codelineno-73-6"> 6</a></span>
<span class="normal"><a href="#__codelineno-73-7"> 7</a></span>
<span class="normal"><a href="#__codelineno-73-8"> 8</a></span>
<span class="normal"><a href="#__codelineno-73-9"> 9</a></span>
<span class="normal"><a href="#__codelineno-73-10">10</a></span>
<span class="normal"><a href="#__codelineno-73-11">11</a></span>
<span class="normal"><a href="#__codelineno-73-12">12</a></span>
<span class="normal"><a href="#__codelineno-73-13">13</a></span>
<span class="normal"><a href="#__codelineno-73-14">14</a></span>
<span class="normal"><a href="#__codelineno-73-15">15</a></span>
<span class="normal"><a href="#__codelineno-73-16">16</a></span>
<span class="normal"><a href="#__codelineno-73-17">17</a></span>
<span class="normal"><a href="#__codelineno-73-18">18</a></span>
<span class="normal"><a href="#__codelineno-73-19">19</a></span>
<span class="normal"><a href="#__codelineno-73-20">20</a></span>
<span class="normal"><a href="#__codelineno-73-21">21</a></span>
<span class="normal"><a href="#__codelineno-73-22">22</a></span>
<span class="normal"><a href="#__codelineno-73-23">23</a></span>
<span class="normal"><a href="#__codelineno-73-24">24</a></span>
<span class="normal"><a href="#__codelineno-73-25">25</a></span>
<span class="normal"><a href="#__codelineno-73-26">26</a></span>
<span class="normal"><a href="#__codelineno-73-27">27</a></span>
<span class="normal"><a href="#__codelineno-73-28">28</a></span>
<span class="normal"><a href="#__codelineno-73-29">29</a></span>
<span class="normal"><a href="#__codelineno-73-30">30</a></span></pre></div></td><td class="code"><div><pre><span></span><code><a id="__codelineno-73-1" name="__codelineno-73-1"></a><span class="kn">package</span><span class="w"> </span><span class="nn">com.dtsx.astra.sdk.documentation</span><span class="p">;</span>
<a id="__codelineno-73-2" name="__codelineno-73-2"></a>
<a id="__codelineno-73-3" name="__codelineno-73-3"></a><span class="kn">import</span><span class="w"> </span><span class="nn">com.dtsx.astra.sdk.AstraDB</span><span class="p">;</span>
<a id="__codelineno-73-4" name="__codelineno-73-4"></a><span class="kn">import</span><span class="w"> </span><span class="nn">com.dtsx.astra.sdk.AstraDBRepository</span><span class="p">;</span>
<a id="__codelineno-73-5" name="__codelineno-73-5"></a><span class="kn">import</span><span class="w"> </span><span class="nn">com.fasterxml.jackson.annotation.JsonProperty</span><span class="p">;</span>
<a id="__codelineno-73-6" name="__codelineno-73-6"></a><span class="kn">import</span><span class="w"> </span><span class="nn">io.stargate.sdk.data.domain.query.DeleteQuery</span><span class="p">;</span>
<a id="__codelineno-73-7" name="__codelineno-73-7"></a><span class="kn">import</span><span class="w"> </span><span class="nn">io.stargate.sdk.data.domain.query.DeleteResult</span><span class="p">;</span>
<a id="__codelineno-73-8" name="__codelineno-73-8"></a>
<a id="__codelineno-73-9" name="__codelineno-73-9"></a><span class="kn">import static</span><span class="w"> </span><span class="nn">io.stargate.sdk.http.domain.FilterOperator.EQUALS_TO</span><span class="p">;</span>
<a id="__codelineno-73-10" name="__codelineno-73-10"></a>
<a id="__codelineno-73-11" name="__codelineno-73-11"></a><span class="kd">public</span><span class="w"> </span><span class="kd">class</span> <span class="nc">ObjectMappingDeleteMany</span><span class="w"> </span><span class="p">{</span>
<a id="__codelineno-73-12" name="__codelineno-73-12"></a><span class="w">  </span><span class="kd">static</span><span class="w"> </span><span class="kd">class</span> <span class="nc">Product</span><span class="w"> </span><span class="p">{</span>
<a id="__codelineno-73-13" name="__codelineno-73-13"></a><span class="w">    </span><span class="nd">@JsonProperty</span><span class="p">(</span><span class="s">&quot;product_name&quot;</span><span class="p">)</span><span class="w"> </span><span class="kd">private</span><span class="w"> </span><span class="n">String</span><span class="w"> </span><span class="n">name</span><span class="p">;</span>
<a id="__codelineno-73-14" name="__codelineno-73-14"></a><span class="w">    </span><span class="nd">@JsonProperty</span><span class="p">(</span><span class="s">&quot;product_price&quot;</span><span class="p">)</span><span class="w"> </span><span class="kd">private</span><span class="w"> </span><span class="n">Double</span><span class="w"> </span><span class="n">price</span><span class="p">;</span>
<a id="__codelineno-73-15" name="__codelineno-73-15"></a><span class="w">  </span><span class="p">}</span>
<a id="__codelineno-73-16" name="__codelineno-73-16"></a>
<a id="__codelineno-73-17" name="__codelineno-73-17"></a><span class="w">  </span><span class="kd">public</span><span class="w"> </span><span class="kd">static</span><span class="w"> </span><span class="kt">void</span><span class="w"> </span><span class="nf">main</span><span class="p">(</span><span class="n">String</span><span class="o">[]</span><span class="w"> </span><span class="n">args</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<a id="__codelineno-73-18" name="__codelineno-73-18"></a><span class="w">    </span><span class="n">AstraDB</span><span class="w"> </span><span class="n">db</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">new</span><span class="w"> </span><span class="n">AstraDB</span><span class="p">(</span><span class="s">&quot;TOKEN&quot;</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;API_ENDPOINT&quot;</span><span class="p">);</span>
<a id="__codelineno-73-19" name="__codelineno-73-19"></a>
<a id="__codelineno-73-20" name="__codelineno-73-20"></a><span class="w">    </span><span class="c1">// Create a vector collection</span>
<a id="__codelineno-73-21" name="__codelineno-73-21"></a><span class="w">    </span><span class="n">AstraDBRepository</span><span class="o">&lt;</span><span class="n">Product</span><span class="o">&gt;</span><span class="w"> </span><span class="n">collection1</span><span class="w"> </span><span class="o">=</span>
<a id="__codelineno-73-22" name="__codelineno-73-22"></a><span class="w">        </span><span class="n">db</span><span class="p">.</span><span class="na">createCollection</span><span class="p">(</span><span class="s">&quot;collection_simple&quot;</span><span class="p">,</span><span class="w"> </span><span class="n">Product</span><span class="p">.</span><span class="na">class</span><span class="p">);</span>
<a id="__codelineno-73-23" name="__codelineno-73-23"></a>
<a id="__codelineno-73-24" name="__codelineno-73-24"></a><span class="w">    </span><span class="c1">// Delete rows based on a query</span>
<a id="__codelineno-73-25" name="__codelineno-73-25"></a><span class="w">    </span><span class="n">DeleteQuery</span><span class="w"> </span><span class="n">q</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">DeleteQuery</span><span class="p">.</span><span class="na">builder</span><span class="p">()</span>
<a id="__codelineno-73-26" name="__codelineno-73-26"></a><span class="w">            </span><span class="p">.</span><span class="na">where</span><span class="p">(</span><span class="s">&quot;product_price&quot;</span><span class="p">,</span><span class="w"> </span><span class="n">EQUALS_TO</span><span class="p">,</span><span class="w"> </span><span class="mf">9.99</span><span class="p">)</span>
<a id="__codelineno-73-27" name="__codelineno-73-27"></a><span class="w">            </span><span class="p">.</span><span class="na">build</span><span class="p">();</span>
<a id="__codelineno-73-28" name="__codelineno-73-28"></a><span class="w">    </span><span class="n">DeleteResult</span><span class="w"> </span><span class="n">res</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">collection1</span><span class="p">.</span><span class="na">deleteAll</span><span class="p">(</span><span class="n">q</span><span class="p">);</span>
<a id="__codelineno-73-29" name="__codelineno-73-29"></a><span class="w">  </span><span class="p">}</span>
<a id="__codelineno-73-30" name="__codelineno-73-30"></a><span class="p">}</span>
</code></pre></div></td></tr></table></div>
<h4 id="clear_1">Clear<a class="headerlink" href="#clear_1" title="Permanent link">&para;</a></h4>
<div class="highlight"><table class="highlighttable"><tr><th colspan="2" class="filename"><span class="filename">ObjectMappingClearCollection.java</span></th></tr><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-74-1"> 1</a></span>
<span class="normal"><a href="#__codelineno-74-2"> 2</a></span>
<span class="normal"><a href="#__codelineno-74-3"> 3</a></span>
<span class="normal"><a href="#__codelineno-74-4"> 4</a></span>
<span class="normal"><a href="#__codelineno-74-5"> 5</a></span>
<span class="normal"><a href="#__codelineno-74-6"> 6</a></span>
<span class="normal"><a href="#__codelineno-74-7"> 7</a></span>
<span class="normal"><a href="#__codelineno-74-8"> 8</a></span>
<span class="normal"><a href="#__codelineno-74-9"> 9</a></span>
<span class="normal"><a href="#__codelineno-74-10">10</a></span>
<span class="normal"><a href="#__codelineno-74-11">11</a></span>
<span class="normal"><a href="#__codelineno-74-12">12</a></span>
<span class="normal"><a href="#__codelineno-74-13">13</a></span>
<span class="normal"><a href="#__codelineno-74-14">14</a></span>
<span class="normal"><a href="#__codelineno-74-15">15</a></span>
<span class="normal"><a href="#__codelineno-74-16">16</a></span>
<span class="normal"><a href="#__codelineno-74-17">17</a></span>
<span class="normal"><a href="#__codelineno-74-18">18</a></span>
<span class="normal"><a href="#__codelineno-74-19">19</a></span>
<span class="normal"><a href="#__codelineno-74-20">20</a></span>
<span class="normal"><a href="#__codelineno-74-21">21</a></span></pre></div></td><td class="code"><div><pre><span></span><code><a id="__codelineno-74-1" name="__codelineno-74-1"></a><span class="kn">package</span><span class="w"> </span><span class="nn">com.dtsx.astra.sdk.documentation</span><span class="p">;</span>
<a id="__codelineno-74-2" name="__codelineno-74-2"></a>
<a id="__codelineno-74-3" name="__codelineno-74-3"></a><span class="kn">import</span><span class="w"> </span><span class="nn">com.dtsx.astra.sdk.AstraDB</span><span class="p">;</span>
<a id="__codelineno-74-4" name="__codelineno-74-4"></a><span class="kn">import</span><span class="w"> </span><span class="nn">com.dtsx.astra.sdk.AstraDBRepository</span><span class="p">;</span>
<a id="__codelineno-74-5" name="__codelineno-74-5"></a><span class="kn">import</span><span class="w"> </span><span class="nn">com.fasterxml.jackson.annotation.JsonProperty</span><span class="p">;</span>
<a id="__codelineno-74-6" name="__codelineno-74-6"></a>
<a id="__codelineno-74-7" name="__codelineno-74-7"></a><span class="kd">public</span><span class="w"> </span><span class="kd">class</span> <span class="nc">ObjectMappingClearCollection</span><span class="w"> </span><span class="p">{</span>
<a id="__codelineno-74-8" name="__codelineno-74-8"></a><span class="w">  </span><span class="kd">static</span><span class="w"> </span><span class="kd">class</span> <span class="nc">Product</span><span class="w"> </span><span class="p">{</span>
<a id="__codelineno-74-9" name="__codelineno-74-9"></a><span class="w">    </span><span class="nd">@JsonProperty</span><span class="p">(</span><span class="s">&quot;product_name&quot;</span><span class="p">)</span><span class="w"> </span><span class="kd">private</span><span class="w"> </span><span class="n">String</span><span class="w"> </span><span class="n">name</span><span class="p">;</span>
<a id="__codelineno-74-10" name="__codelineno-74-10"></a><span class="w">    </span><span class="nd">@JsonProperty</span><span class="p">(</span><span class="s">&quot;product_price&quot;</span><span class="p">)</span><span class="w"> </span><span class="kd">private</span><span class="w"> </span><span class="n">Double</span><span class="w"> </span><span class="n">price</span><span class="p">;</span>
<a id="__codelineno-74-11" name="__codelineno-74-11"></a><span class="w">  </span><span class="p">}</span>
<a id="__codelineno-74-12" name="__codelineno-74-12"></a>
<a id="__codelineno-74-13" name="__codelineno-74-13"></a><span class="w">  </span><span class="kd">public</span><span class="w"> </span><span class="kd">static</span><span class="w"> </span><span class="kt">void</span><span class="w"> </span><span class="nf">main</span><span class="p">(</span><span class="n">String</span><span class="o">[]</span><span class="w"> </span><span class="n">args</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<a id="__codelineno-74-14" name="__codelineno-74-14"></a><span class="w">    </span><span class="n">AstraDB</span><span class="w"> </span><span class="n">db</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">new</span><span class="w"> </span><span class="n">AstraDB</span><span class="p">(</span><span class="s">&quot;TOKEN&quot;</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;API_ENDPOINT&quot;</span><span class="p">);</span>
<a id="__codelineno-74-15" name="__codelineno-74-15"></a><span class="w">    </span><span class="n">AstraDBRepository</span><span class="o">&lt;</span><span class="n">Product</span><span class="o">&gt;</span><span class="w"> </span><span class="n">collection1</span><span class="w"> </span><span class="o">=</span>
<a id="__codelineno-74-16" name="__codelineno-74-16"></a><span class="w">        </span><span class="n">db</span><span class="p">.</span><span class="na">createCollection</span><span class="p">(</span><span class="s">&quot;collection_simple&quot;</span><span class="p">,</span><span class="w"> </span><span class="n">Product</span><span class="p">.</span><span class="na">class</span><span class="p">);</span>
<a id="__codelineno-74-17" name="__codelineno-74-17"></a>
<a id="__codelineno-74-18" name="__codelineno-74-18"></a><span class="w">    </span><span class="c1">// Delete all rows in a collection</span>
<a id="__codelineno-74-19" name="__codelineno-74-19"></a><span class="w">    </span><span class="n">collection1</span><span class="p">.</span><span class="na">deleteAll</span><span class="p">();</span>
<a id="__codelineno-74-20" name="__codelineno-74-20"></a><span class="w">  </span><span class="p">}</span>
<a id="__codelineno-74-21" name="__codelineno-74-21"></a><span class="p">}</span>
</code></pre></div></td></tr></table></div>
<h3 id="working-with-databases">Working with databases<a class="headerlink" href="#working-with-databases" title="Permanent link">&para;</a></h3>
<h4 id="connection_1">Connection<a class="headerlink" href="#connection_1" title="Permanent link">&para;</a></h4>
<details class="info annotate" open="open">
<summary>About token permissions</summary>
<p>To work with Databases you need to use a token with organization level permissions. You will work with the class <code>AstraDBClient</code></p>
<p>To establish a connection with AstraDB using the client SDK, you are required to supply a token. This token enables two primary connection modes:</p>
<ul>
<li>
<p><strong>Direct database-level connection</strong>, facilitating access to a specific database. It is the one decribe above and primay way of working with the SDK.</p>
</li>
<li>
<p><strong>Organization-level connection</strong>, which allows interaction with multiple databases under your organization. This is what we will detailed now</p>
</li>
</ul>
<p><code>AstraDBClient</code> class is used to facilitate interactions with all components within your Astra organization, rather than limiting operations to a single database.
This approach enables a broader scope of management and control across the organization's databases. The token used for this connection must be scoped to the organization with</p>
<table>
<thead>
<tr>
<th>Properties</th>
<th>Values</th>
</tr>
</thead>
<tbody>
<tr>
<td><strong>Token Role</strong></td>
<td><code>Organization Administrator</code></td>
</tr>
</tbody>
</table>
</details>
<div class="highlight"><table class="highlighttable"><tr><th colspan="2" class="filename"><span class="filename">ConnectingAdmin.java</span></th></tr><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-75-1"> 1</a></span>
<span class="normal"><a href="#__codelineno-75-2"> 2</a></span>
<span class="normal"><a href="#__codelineno-75-3"> 3</a></span>
<span class="normal"><a href="#__codelineno-75-4"> 4</a></span>
<span class="normal"><a href="#__codelineno-75-5"> 5</a></span>
<span class="normal"><a href="#__codelineno-75-6"> 6</a></span>
<span class="normal"><a href="#__codelineno-75-7"> 7</a></span>
<span class="normal"><a href="#__codelineno-75-8"> 8</a></span>
<span class="normal"><a href="#__codelineno-75-9"> 9</a></span>
<span class="normal"><a href="#__codelineno-75-10">10</a></span>
<span class="normal"><a href="#__codelineno-75-11">11</a></span>
<span class="normal"><a href="#__codelineno-75-12">12</a></span>
<span class="normal"><a href="#__codelineno-75-13">13</a></span>
<span class="normal"><a href="#__codelineno-75-14">14</a></span></pre></div></td><td class="code"><div><pre><span></span><code><a id="__codelineno-75-1" name="__codelineno-75-1"></a><span class="kn">package</span><span class="w"> </span><span class="nn">com.dtsx.astra.sdk.documentation</span><span class="p">;</span>
<a id="__codelineno-75-2" name="__codelineno-75-2"></a>
<a id="__codelineno-75-3" name="__codelineno-75-3"></a><span class="kn">import</span><span class="w"> </span><span class="nn">com.dtsx.astra.sdk.AstraDBAdmin</span><span class="p">;</span>
<a id="__codelineno-75-4" name="__codelineno-75-4"></a>
<a id="__codelineno-75-5" name="__codelineno-75-5"></a><span class="kd">public</span><span class="w"> </span><span class="kd">class</span> <span class="nc">ConnectingAdmin</span><span class="w"> </span><span class="p">{</span>
<a id="__codelineno-75-6" name="__codelineno-75-6"></a><span class="w">  </span><span class="kd">public</span><span class="w"> </span><span class="kd">static</span><span class="w"> </span><span class="kt">void</span><span class="w"> </span><span class="nf">main</span><span class="p">(</span><span class="n">String</span><span class="o">[]</span><span class="w"> </span><span class="n">args</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<a id="__codelineno-75-7" name="__codelineno-75-7"></a><span class="w">    </span><span class="c1">// Default Initialization</span>
<a id="__codelineno-75-8" name="__codelineno-75-8"></a><span class="w">    </span><span class="n">AstraDBAdmin</span><span class="w"> </span><span class="n">client</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">new</span><span class="w"> </span><span class="n">AstraDBAdmin</span><span class="p">(</span><span class="s">&quot;TOKEN&quot;</span><span class="p">);</span>
<a id="__codelineno-75-9" name="__codelineno-75-9"></a>
<a id="__codelineno-75-10" name="__codelineno-75-10"></a><span class="w">    </span><span class="c1">// You can omit the token if you defined the `ASTRA_DB_APPLICATION_TOKEN`</span>
<a id="__codelineno-75-11" name="__codelineno-75-11"></a><span class="w">    </span><span class="c1">// environment variable or if you are using the Astra CLI.</span>
<a id="__codelineno-75-12" name="__codelineno-75-12"></a><span class="w">    </span><span class="n">AstraDBAdmin</span><span class="w"> </span><span class="n">defaultClient</span><span class="o">=</span><span class="k">new</span><span class="w"> </span><span class="n">AstraDBAdmin</span><span class="p">();</span>
<a id="__codelineno-75-13" name="__codelineno-75-13"></a><span class="w">  </span><span class="p">}</span>
<a id="__codelineno-75-14" name="__codelineno-75-14"></a><span class="p">}</span>
</code></pre></div></td></tr></table></div>
<h4 id="list-databases">List databases<a class="headerlink" href="#list-databases" title="Permanent link">&para;</a></h4>
<div class="highlight"><table class="highlighttable"><tr><th colspan="2" class="filename"><span class="filename">FindAllDatabases.java</span></th></tr><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-76-1"> 1</a></span>
<span class="normal"><a href="#__codelineno-76-2"> 2</a></span>
<span class="normal"><a href="#__codelineno-76-3"> 3</a></span>
<span class="normal"><a href="#__codelineno-76-4"> 4</a></span>
<span class="normal"><a href="#__codelineno-76-5"> 5</a></span>
<span class="normal"><a href="#__codelineno-76-6"> 6</a></span>
<span class="normal"><a href="#__codelineno-76-7"> 7</a></span>
<span class="normal"><a href="#__codelineno-76-8"> 8</a></span>
<span class="normal"><a href="#__codelineno-76-9"> 9</a></span>
<span class="normal"><a href="#__codelineno-76-10">10</a></span>
<span class="normal"><a href="#__codelineno-76-11">11</a></span>
<span class="normal"><a href="#__codelineno-76-12">12</a></span>
<span class="normal"><a href="#__codelineno-76-13">13</a></span>
<span class="normal"><a href="#__codelineno-76-14">14</a></span>
<span class="normal"><a href="#__codelineno-76-15">15</a></span></pre></div></td><td class="code"><div><pre><span></span><code><a id="__codelineno-76-1" name="__codelineno-76-1"></a><span class="kn">package</span><span class="w"> </span><span class="nn">com.dtsx.astra.sdk.documentation</span><span class="p">;</span>
<a id="__codelineno-76-2" name="__codelineno-76-2"></a>
<a id="__codelineno-76-3" name="__codelineno-76-3"></a><span class="kn">import</span><span class="w"> </span><span class="nn">com.dtsx.astra.sdk.AstraDBAdmin</span><span class="p">;</span>
<a id="__codelineno-76-4" name="__codelineno-76-4"></a><span class="kn">import</span><span class="w"> </span><span class="nn">com.dtsx.astra.sdk.db.domain.Database</span><span class="p">;</span>
<a id="__codelineno-76-5" name="__codelineno-76-5"></a><span class="kn">import</span><span class="w"> </span><span class="nn">java.util.stream.Stream</span><span class="p">;</span>
<a id="__codelineno-76-6" name="__codelineno-76-6"></a>
<a id="__codelineno-76-7" name="__codelineno-76-7"></a><span class="kd">public</span><span class="w"> </span><span class="kd">class</span> <span class="nc">FindAllDatabases</span><span class="w"> </span><span class="p">{</span>
<a id="__codelineno-76-8" name="__codelineno-76-8"></a><span class="w">  </span><span class="kd">public</span><span class="w"> </span><span class="kd">static</span><span class="w"> </span><span class="kt">void</span><span class="w"> </span><span class="nf">main</span><span class="p">(</span><span class="n">String</span><span class="o">[]</span><span class="w"> </span><span class="n">args</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<a id="__codelineno-76-9" name="__codelineno-76-9"></a><span class="w">    </span><span class="n">AstraDBAdmin</span><span class="w"> </span><span class="n">client</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">new</span><span class="w"> </span><span class="n">AstraDBAdmin</span><span class="p">(</span><span class="s">&quot;TOKEN&quot;</span><span class="p">);</span>
<a id="__codelineno-76-10" name="__codelineno-76-10"></a><span class="w">    </span><span class="kt">boolean</span><span class="w"> </span><span class="n">exists</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">client</span><span class="p">.</span><span class="na">isDatabaseExists</span><span class="p">(</span><span class="s">&quot;&lt;database_name&gt;&quot;</span><span class="p">);</span>
<a id="__codelineno-76-11" name="__codelineno-76-11"></a>
<a id="__codelineno-76-12" name="__codelineno-76-12"></a><span class="w">    </span><span class="c1">// List all available databases</span>
<a id="__codelineno-76-13" name="__codelineno-76-13"></a><span class="w">    </span><span class="n">Stream</span><span class="o">&lt;</span><span class="n">Database</span><span class="o">&gt;</span><span class="w"> </span><span class="n">dbStream</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">client</span><span class="p">.</span><span class="na">findAllDatabases</span><span class="p">();</span>
<a id="__codelineno-76-14" name="__codelineno-76-14"></a><span class="w">  </span><span class="p">}</span>
<a id="__codelineno-76-15" name="__codelineno-76-15"></a><span class="p">}</span>
</code></pre></div></td></tr></table></div>
<h4 id="create-database">Create database<a class="headerlink" href="#create-database" title="Permanent link">&para;</a></h4>
<p>To create a database you need to use a token with organization level permissions. You will work with the class <code>AstraDBClient</code></p>
<div class="highlight"><table class="highlighttable"><tr><th colspan="2" class="filename"><span class="filename">CreateDatabase.java</span></th></tr><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-77-1"> 1</a></span>
<span class="normal"><a href="#__codelineno-77-2"> 2</a></span>
<span class="normal"><a href="#__codelineno-77-3"> 3</a></span>
<span class="normal"><a href="#__codelineno-77-4"> 4</a></span>
<span class="normal"><a href="#__codelineno-77-5"> 5</a></span>
<span class="normal"><a href="#__codelineno-77-6"> 6</a></span>
<span class="normal"><a href="#__codelineno-77-7"> 7</a></span>
<span class="normal"><a href="#__codelineno-77-8"> 8</a></span>
<span class="normal"><a href="#__codelineno-77-9"> 9</a></span>
<span class="normal"><a href="#__codelineno-77-10">10</a></span>
<span class="normal"><a href="#__codelineno-77-11">11</a></span>
<span class="normal"><a href="#__codelineno-77-12">12</a></span>
<span class="normal"><a href="#__codelineno-77-13">13</a></span>
<span class="normal"><a href="#__codelineno-77-14">14</a></span>
<span class="normal"><a href="#__codelineno-77-15">15</a></span>
<span class="normal"><a href="#__codelineno-77-16">16</a></span>
<span class="normal"><a href="#__codelineno-77-17">17</a></span>
<span class="normal"><a href="#__codelineno-77-18">18</a></span></pre></div></td><td class="code"><div><pre><span></span><code><a id="__codelineno-77-1" name="__codelineno-77-1"></a><span class="kn">package</span><span class="w"> </span><span class="nn">com.dtsx.astra.sdk.documentation</span><span class="p">;</span>
<a id="__codelineno-77-2" name="__codelineno-77-2"></a>
<a id="__codelineno-77-3" name="__codelineno-77-3"></a><span class="kn">import</span><span class="w"> </span><span class="nn">com.dtsx.astra.sdk.AstraDBAdmin</span><span class="p">;</span>
<a id="__codelineno-77-4" name="__codelineno-77-4"></a><span class="kn">import</span><span class="w"> </span><span class="nn">com.dtsx.astra.sdk.db.domain.CloudProviderType</span><span class="p">;</span>
<a id="__codelineno-77-5" name="__codelineno-77-5"></a><span class="kn">import</span><span class="w"> </span><span class="nn">java.util.UUID</span><span class="p">;</span>
<a id="__codelineno-77-6" name="__codelineno-77-6"></a>
<a id="__codelineno-77-7" name="__codelineno-77-7"></a><span class="kd">public</span><span class="w"> </span><span class="kd">class</span> <span class="nc">CreateDatabase</span><span class="w"> </span><span class="p">{</span>
<a id="__codelineno-77-8" name="__codelineno-77-8"></a><span class="w">  </span><span class="kd">public</span><span class="w"> </span><span class="kd">static</span><span class="w"> </span><span class="kt">void</span><span class="w"> </span><span class="nf">main</span><span class="p">(</span><span class="n">String</span><span class="o">[]</span><span class="w"> </span><span class="n">args</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<a id="__codelineno-77-9" name="__codelineno-77-9"></a><span class="w">    </span><span class="n">AstraDBAdmin</span><span class="w"> </span><span class="n">client</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">new</span><span class="w"> </span><span class="n">AstraDBAdmin</span><span class="p">(</span><span class="s">&quot;TOKEN&quot;</span><span class="p">);</span>
<a id="__codelineno-77-10" name="__codelineno-77-10"></a>
<a id="__codelineno-77-11" name="__codelineno-77-11"></a><span class="w">    </span><span class="c1">// Choose a cloud provider (GCP, AZURE, AWS) and a region</span>
<a id="__codelineno-77-12" name="__codelineno-77-12"></a><span class="w">    </span><span class="n">CloudProviderType</span><span class="w"> </span><span class="n">cloudProvider</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">CloudProviderType</span><span class="p">.</span><span class="na">GCP</span><span class="p">;</span>
<a id="__codelineno-77-13" name="__codelineno-77-13"></a><span class="w">    </span><span class="n">String</span><span class="w"> </span><span class="n">cloudRegion</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s">&quot;us-east1&quot;</span><span class="p">;</span>
<a id="__codelineno-77-14" name="__codelineno-77-14"></a>
<a id="__codelineno-77-15" name="__codelineno-77-15"></a><span class="w">    </span><span class="c1">// Create a database</span>
<a id="__codelineno-77-16" name="__codelineno-77-16"></a><span class="w">    </span><span class="n">UUID</span><span class="w"> </span><span class="n">newDbId</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">client</span><span class="p">.</span><span class="na">createDatabase</span><span class="p">(</span><span class="s">&quot;&lt;database_name&gt;&quot;</span><span class="p">,</span><span class="w"> </span><span class="n">cloudProvider</span><span class="p">,</span><span class="w"> </span><span class="n">cloudRegion</span><span class="p">);</span>
<a id="__codelineno-77-17" name="__codelineno-77-17"></a><span class="w">  </span><span class="p">}</span>
<a id="__codelineno-77-18" name="__codelineno-77-18"></a><span class="p">}</span>
</code></pre></div></td></tr></table></div>
<h4 id="find-database">Find database<a class="headerlink" href="#find-database" title="Permanent link">&para;</a></h4>
<div class="highlight"><table class="highlighttable"><tr><th colspan="2" class="filename"><span class="filename">FindDatabase.java</span></th></tr><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-78-1"> 1</a></span>
<span class="normal"><a href="#__codelineno-78-2"> 2</a></span>
<span class="normal"><a href="#__codelineno-78-3"> 3</a></span>
<span class="normal"><a href="#__codelineno-78-4"> 4</a></span>
<span class="normal"><a href="#__codelineno-78-5"> 5</a></span>
<span class="normal"><a href="#__codelineno-78-6"> 6</a></span>
<span class="normal"><a href="#__codelineno-78-7"> 7</a></span>
<span class="normal"><a href="#__codelineno-78-8"> 8</a></span>
<span class="normal"><a href="#__codelineno-78-9"> 9</a></span>
<span class="normal"><a href="#__codelineno-78-10">10</a></span>
<span class="normal"><a href="#__codelineno-78-11">11</a></span>
<span class="normal"><a href="#__codelineno-78-12">12</a></span>
<span class="normal"><a href="#__codelineno-78-13">13</a></span>
<span class="normal"><a href="#__codelineno-78-14">14</a></span>
<span class="normal"><a href="#__codelineno-78-15">15</a></span>
<span class="normal"><a href="#__codelineno-78-16">16</a></span>
<span class="normal"><a href="#__codelineno-78-17">17</a></span>
<span class="normal"><a href="#__codelineno-78-18">18</a></span>
<span class="normal"><a href="#__codelineno-78-19">19</a></span>
<span class="normal"><a href="#__codelineno-78-20">20</a></span>
<span class="normal"><a href="#__codelineno-78-21">21</a></span>
<span class="normal"><a href="#__codelineno-78-22">22</a></span>
<span class="normal"><a href="#__codelineno-78-23">23</a></span>
<span class="normal"><a href="#__codelineno-78-24">24</a></span></pre></div></td><td class="code"><div><pre><span></span><code><a id="__codelineno-78-1" name="__codelineno-78-1"></a><span class="kn">package</span><span class="w"> </span><span class="nn">com.dtsx.astra.sdk.documentation</span><span class="p">;</span>
<a id="__codelineno-78-2" name="__codelineno-78-2"></a>
<a id="__codelineno-78-3" name="__codelineno-78-3"></a><span class="kn">import</span><span class="w"> </span><span class="nn">com.dtsx.astra.sdk.AstraDBAdmin</span><span class="p">;</span>
<a id="__codelineno-78-4" name="__codelineno-78-4"></a><span class="kn">import</span><span class="w"> </span><span class="nn">com.dtsx.astra.sdk.db.domain.Database</span><span class="p">;</span>
<a id="__codelineno-78-5" name="__codelineno-78-5"></a><span class="kn">import</span><span class="w"> </span><span class="nn">java.util.Optional</span><span class="p">;</span>
<a id="__codelineno-78-6" name="__codelineno-78-6"></a><span class="kn">import</span><span class="w"> </span><span class="nn">java.util.UUID</span><span class="p">;</span>
<a id="__codelineno-78-7" name="__codelineno-78-7"></a><span class="kn">import</span><span class="w"> </span><span class="nn">java.util.stream.Stream</span><span class="p">;</span>
<a id="__codelineno-78-8" name="__codelineno-78-8"></a>
<a id="__codelineno-78-9" name="__codelineno-78-9"></a><span class="kd">public</span><span class="w"> </span><span class="kd">class</span> <span class="nc">FindDatabase</span><span class="w"> </span><span class="p">{</span>
<a id="__codelineno-78-10" name="__codelineno-78-10"></a><span class="w">  </span><span class="kd">public</span><span class="w"> </span><span class="kd">static</span><span class="w"> </span><span class="kt">void</span><span class="w"> </span><span class="nf">main</span><span class="p">(</span><span class="n">String</span><span class="o">[]</span><span class="w"> </span><span class="n">args</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<a id="__codelineno-78-11" name="__codelineno-78-11"></a><span class="w">    </span><span class="n">AstraDBAdmin</span><span class="w"> </span><span class="n">client</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">new</span><span class="w"> </span><span class="n">AstraDBAdmin</span><span class="p">(</span><span class="s">&quot;TOKEN&quot;</span><span class="p">);</span>
<a id="__codelineno-78-12" name="__codelineno-78-12"></a>
<a id="__codelineno-78-13" name="__codelineno-78-13"></a><span class="w">    </span><span class="c1">// Check if a database exists</span>
<a id="__codelineno-78-14" name="__codelineno-78-14"></a><span class="w">    </span><span class="kt">boolean</span><span class="w"> </span><span class="n">exists</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">client</span><span class="p">.</span><span class="na">isDatabaseExists</span><span class="p">(</span><span class="s">&quot;&lt;database_name&gt;&quot;</span><span class="p">);</span>
<a id="__codelineno-78-15" name="__codelineno-78-15"></a>
<a id="__codelineno-78-16" name="__codelineno-78-16"></a><span class="w">    </span><span class="c1">// Find a database by name (names may not be unique)</span>
<a id="__codelineno-78-17" name="__codelineno-78-17"></a><span class="w">    </span><span class="n">Stream</span><span class="o">&lt;</span><span class="n">Database</span><span class="o">&gt;</span><span class="w"> </span><span class="n">dbStream</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">client</span><span class="p">.</span><span class="na">findDatabaseByName</span><span class="p">(</span><span class="s">&quot;&lt;database_name&gt;&quot;</span><span class="p">);</span>
<a id="__codelineno-78-18" name="__codelineno-78-18"></a><span class="w">    </span><span class="n">Optional</span><span class="o">&lt;</span><span class="n">Database</span><span class="o">&gt;</span><span class="w"> </span><span class="n">dbByName</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">dbStream</span><span class="p">.</span><span class="na">findFirst</span><span class="p">();</span>
<a id="__codelineno-78-19" name="__codelineno-78-19"></a>
<a id="__codelineno-78-20" name="__codelineno-78-20"></a><span class="w">    </span><span class="c1">// Find a database by ID</span>
<a id="__codelineno-78-21" name="__codelineno-78-21"></a><span class="w">    </span><span class="n">Optional</span><span class="o">&lt;</span><span class="n">Database</span><span class="o">&gt;</span><span class="w"> </span><span class="n">dbById</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">client</span>
<a id="__codelineno-78-22" name="__codelineno-78-22"></a><span class="w">        </span><span class="p">.</span><span class="na">findDatabaseById</span><span class="p">(</span><span class="n">UUID</span><span class="p">.</span><span class="na">fromString</span><span class="p">(</span><span class="s">&quot;&lt;replace_with_db_uuid&gt;&quot;</span><span class="p">));</span>
<a id="__codelineno-78-23" name="__codelineno-78-23"></a><span class="w">  </span><span class="p">}</span>
<a id="__codelineno-78-24" name="__codelineno-78-24"></a><span class="p">}</span>
</code></pre></div></td></tr></table></div>
<ul class="task-list">
<li class="task-list-item"><label class="task-list-control"><input type="checkbox" disabled checked/><span class="task-list-indicator"></span></label> <strong>Accessing object <code>AstraDB</code></strong></li>
</ul>
<div class="highlight"><pre><span></span><code><a id="__codelineno-79-1" name="__codelineno-79-1" href="#__codelineno-79-1"></a><span class="n">AstraDB</span><span class="w"> </span><span class="n">myDB</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">client</span><span class="p">.</span><span class="na">database</span><span class="p">(</span><span class="s">&quot;getting_started&quot;</span><span class="p">);</span>
</code></pre></div>
<h4 id="delete-database">Delete database<a class="headerlink" href="#delete-database" title="Permanent link">&para;</a></h4>
<ul class="task-list">
<li class="task-list-item"><label class="task-list-control"><input type="checkbox" disabled checked/><span class="task-list-indicator"></span></label> <strong>Delete Databases with <code>deleteDatabase</code></strong></li>
</ul>
<p>The function can take a database identifier (uuid) or the database name.</p>
<div class="highlight"><table class="highlighttable"><tr><th colspan="2" class="filename"><span class="filename">DeleteDatabase.java</span></th></tr><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-80-1"> 1</a></span>
<span class="normal"><a href="#__codelineno-80-2"> 2</a></span>
<span class="normal"><a href="#__codelineno-80-3"> 3</a></span>
<span class="normal"><a href="#__codelineno-80-4"> 4</a></span>
<span class="normal"><a href="#__codelineno-80-5"> 5</a></span>
<span class="normal"><a href="#__codelineno-80-6"> 6</a></span>
<span class="normal"><a href="#__codelineno-80-7"> 7</a></span>
<span class="normal"><a href="#__codelineno-80-8"> 8</a></span>
<span class="normal"><a href="#__codelineno-80-9"> 9</a></span>
<span class="normal"><a href="#__codelineno-80-10">10</a></span>
<span class="normal"><a href="#__codelineno-80-11">11</a></span>
<span class="normal"><a href="#__codelineno-80-12">12</a></span>
<span class="normal"><a href="#__codelineno-80-13">13</a></span>
<span class="normal"><a href="#__codelineno-80-14">14</a></span>
<span class="normal"><a href="#__codelineno-80-15">15</a></span>
<span class="normal"><a href="#__codelineno-80-16">16</a></span>
<span class="normal"><a href="#__codelineno-80-17">17</a></span>
<span class="normal"><a href="#__codelineno-80-18">18</a></span></pre></div></td><td class="code"><div><pre><span></span><code><a id="__codelineno-80-1" name="__codelineno-80-1"></a><span class="kn">package</span><span class="w"> </span><span class="nn">com.dtsx.astra.sdk.documentation</span><span class="p">;</span>
<a id="__codelineno-80-2" name="__codelineno-80-2"></a>
<a id="__codelineno-80-3" name="__codelineno-80-3"></a><span class="kn">import</span><span class="w"> </span><span class="nn">com.dtsx.astra.sdk.AstraDBAdmin</span><span class="p">;</span>
<a id="__codelineno-80-4" name="__codelineno-80-4"></a>
<a id="__codelineno-80-5" name="__codelineno-80-5"></a><span class="kn">import</span><span class="w"> </span><span class="nn">java.util.UUID</span><span class="p">;</span>
<a id="__codelineno-80-6" name="__codelineno-80-6"></a>
<a id="__codelineno-80-7" name="__codelineno-80-7"></a><span class="kd">public</span><span class="w"> </span><span class="kd">class</span> <span class="nc">DeleteDatabase</span><span class="w"> </span><span class="p">{</span>
<a id="__codelineno-80-8" name="__codelineno-80-8"></a><span class="w">  </span><span class="kd">public</span><span class="w"> </span><span class="kd">static</span><span class="w"> </span><span class="kt">void</span><span class="w"> </span><span class="nf">main</span><span class="p">(</span><span class="n">String</span><span class="o">[]</span><span class="w"> </span><span class="n">args</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<a id="__codelineno-80-9" name="__codelineno-80-9"></a><span class="w">    </span><span class="n">AstraDBAdmin</span><span class="w"> </span><span class="n">client</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">new</span><span class="w"> </span><span class="n">AstraDBAdmin</span><span class="p">(</span><span class="s">&quot;TOKEN&quot;</span><span class="p">);</span>
<a id="__codelineno-80-10" name="__codelineno-80-10"></a>
<a id="__codelineno-80-11" name="__codelineno-80-11"></a><span class="w">    </span><span class="c1">// Delete an existing database</span>
<a id="__codelineno-80-12" name="__codelineno-80-12"></a><span class="w">    </span><span class="n">client</span><span class="p">.</span><span class="na">deleteDatabaseByName</span><span class="p">(</span><span class="s">&quot;&lt;database_name&gt;&quot;</span><span class="p">);</span>
<a id="__codelineno-80-13" name="__codelineno-80-13"></a>
<a id="__codelineno-80-14" name="__codelineno-80-14"></a><span class="w">    </span><span class="c1">// Delete an existing database by ID</span>
<a id="__codelineno-80-15" name="__codelineno-80-15"></a><span class="w">    </span><span class="n">client</span><span class="p">.</span><span class="na">deleteDatabaseById</span><span class="p">(</span>
<a id="__codelineno-80-16" name="__codelineno-80-16"></a><span class="w">            </span><span class="n">UUID</span><span class="p">.</span><span class="na">fromString</span><span class="p">(</span><span class="s">&quot;&lt;replace_with_db_uuid&gt;&quot;</span><span class="p">));</span>
<a id="__codelineno-80-17" name="__codelineno-80-17"></a><span class="w">  </span><span class="p">}</span>
<a id="__codelineno-80-18" name="__codelineno-80-18"></a><span class="p">}</span>
</code></pre></div></td></tr></table></div>
<h3 id="working-with-keyspaces">Working with Keyspaces<a class="headerlink" href="#working-with-keyspaces" title="Permanent link">&para;</a></h3>
<h4 id="create-keyspace">Create Keyspace<a class="headerlink" href="#create-keyspace" title="Permanent link">&para;</a></h4>
<p>Create a keyspace in the current database with the given name.</p>
<details class="abstract annotate" open="open">
<summary>General Information</summary>
<ul>
<li>Default keyspace is <code>default_keyspace</code></li>
<li>If the keyspace already exist, the method will return 'KeyspaceAlreadyExistException'</li>
</ul>
</details>
<ul class="task-list">
<li class="task-list-item"><label class="task-list-control"><input type="checkbox" disabled checked/><span class="task-list-indicator"></span></label> <strong>Signature and <a href="#">Javadoc 🔗</a></strong></li>
</ul>
<div class="highlight"><pre><span></span><code><a id="__codelineno-81-1" name="__codelineno-81-1" href="#__codelineno-81-1"></a><span class="kt">void</span><span class="w"> </span><span class="nf">createKeyspace</span><span class="p">(</span><span class="n">String</span><span class="w"> </span><span class="n">databaseName</span><span class="p">,</span><span class="w"> </span><span class="n">String</span><span class="w"> </span><span class="n">keyspaceName</span><span class="p">);</span>
<a id="__codelineno-81-2" name="__codelineno-81-2" href="#__codelineno-81-2"></a><span class="kt">void</span><span class="w"> </span><span class="nf">createKeyspace</span><span class="p">(</span><span class="n">UUID</span><span class="w"> </span><span class="n">databaseId</span><span class="p">,</span><span class="w"> </span><span class="n">String</span><span class="w"> </span><span class="n">keyspaceName</span><span class="p">);</span>
</code></pre></div>
<ul class="task-list">
<li class="task-list-item"><label class="task-list-control"><input type="checkbox" disabled checked/><span class="task-list-indicator"></span></label> <strong>Sample Code</strong></li>
</ul>
<div class="highlight"><table class="highlighttable"><tr><th colspan="2" class="filename"><span class="filename">CreateKeyspace.java</span></th></tr><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-82-1"> 1</a></span>
<span class="normal"><a href="#__codelineno-82-2"> 2</a></span>
<span class="normal"><a href="#__codelineno-82-3"> 3</a></span>
<span class="normal"><a href="#__codelineno-82-4"> 4</a></span>
<span class="normal"><a href="#__codelineno-82-5"> 5</a></span>
<span class="normal"><a href="#__codelineno-82-6"> 6</a></span>
<span class="normal"><a href="#__codelineno-82-7"> 7</a></span>
<span class="normal"><a href="#__codelineno-82-8"> 8</a></span>
<span class="normal"><a href="#__codelineno-82-9"> 9</a></span>
<span class="normal"><a href="#__codelineno-82-10">10</a></span>
<span class="normal"><a href="#__codelineno-82-11">11</a></span>
<span class="normal"><a href="#__codelineno-82-12">12</a></span>
<span class="normal"><a href="#__codelineno-82-13">13</a></span>
<span class="normal"><a href="#__codelineno-82-14">14</a></span>
<span class="normal"><a href="#__codelineno-82-15">15</a></span>
<span class="normal"><a href="#__codelineno-82-16">16</a></span></pre></div></td><td class="code"><div><pre><span></span><code><a id="__codelineno-82-1" name="__codelineno-82-1"></a><span class="kn">package</span><span class="w"> </span><span class="nn">com.dtsx.astra.sdk.documentation</span><span class="p">;</span>
<a id="__codelineno-82-2" name="__codelineno-82-2"></a>
<a id="__codelineno-82-3" name="__codelineno-82-3"></a><span class="kn">import</span><span class="w"> </span><span class="nn">com.dtsx.astra.sdk.AstraDBAdmin</span><span class="p">;</span>
<a id="__codelineno-82-4" name="__codelineno-82-4"></a><span class="kn">import</span><span class="w"> </span><span class="nn">com.dtsx.astra.sdk.db.domain.CloudProviderType</span><span class="p">;</span>
<a id="__codelineno-82-5" name="__codelineno-82-5"></a>
<a id="__codelineno-82-6" name="__codelineno-82-6"></a><span class="kn">import</span><span class="w"> </span><span class="nn">java.util.UUID</span><span class="p">;</span>
<a id="__codelineno-82-7" name="__codelineno-82-7"></a>
<a id="__codelineno-82-8" name="__codelineno-82-8"></a><span class="kd">public</span><span class="w"> </span><span class="kd">class</span> <span class="nc">CreateKeyspace</span><span class="w"> </span><span class="p">{</span>
<a id="__codelineno-82-9" name="__codelineno-82-9"></a>
<a id="__codelineno-82-10" name="__codelineno-82-10"></a><span class="w">    </span><span class="kd">public</span><span class="w"> </span><span class="kd">static</span><span class="w"> </span><span class="kt">void</span><span class="w"> </span><span class="nf">main</span><span class="p">(</span><span class="n">String</span><span class="o">[]</span><span class="w"> </span><span class="n">args</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<a id="__codelineno-82-11" name="__codelineno-82-11"></a><span class="w">        </span><span class="n">AstraDBAdmin</span><span class="w"> </span><span class="n">client</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">new</span><span class="w"> </span><span class="n">AstraDBAdmin</span><span class="p">(</span><span class="s">&quot;TOKEN&quot;</span><span class="p">);</span>
<a id="__codelineno-82-12" name="__codelineno-82-12"></a>
<a id="__codelineno-82-13" name="__codelineno-82-13"></a><span class="w">        </span><span class="c1">// Create a Keyspace</span>
<a id="__codelineno-82-14" name="__codelineno-82-14"></a><span class="w">        </span><span class="n">client</span><span class="p">.</span><span class="na">createKeyspace</span><span class="p">(</span><span class="s">&quot;&lt;db_name&gt;&quot;</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;&lt;keyspace_name&gt;&quot;</span><span class="p">);</span>
<a id="__codelineno-82-15" name="__codelineno-82-15"></a><span class="w">    </span><span class="p">}</span>
<a id="__codelineno-82-16" name="__codelineno-82-16"></a><span class="p">}</span>
</code></pre></div></td></tr></table></div>
<h4 id="delete-keyspace">Delete Keyspace<a class="headerlink" href="#delete-keyspace" title="Permanent link">&para;</a></h4>
<p>Delete a keyspace in the current database from its name.</p>
<details class="abstract annotate" open="open">
<summary>General Information</summary>
<ul>
<li>Default keyspace is <code>default_keyspace</code></li>
<li>If the keyspace does not exist, the method will return 'KeyspaceNotFoundException'</li>
</ul>
</details>
<ul class="task-list">
<li class="task-list-item"><label class="task-list-control"><input type="checkbox" disabled checked/><span class="task-list-indicator"></span></label> <strong>Signature and <a href="#">Javadoc 🔗</a></strong></li>
</ul>
<div class="highlight"><pre><span></span><code><a id="__codelineno-83-1" name="__codelineno-83-1" href="#__codelineno-83-1"></a><span class="kt">void</span><span class="w"> </span><span class="nf">deleteKeyspace</span><span class="p">(</span><span class="n">String</span><span class="w"> </span><span class="n">databaseName</span><span class="p">,</span><span class="w"> </span><span class="n">String</span><span class="w"> </span><span class="n">keyspaceName</span><span class="p">);</span>
<a id="__codelineno-83-2" name="__codelineno-83-2" href="#__codelineno-83-2"></a><span class="kt">void</span><span class="w"> </span><span class="nf">deleteKeyspace</span><span class="p">(</span><span class="n">UUID</span><span class="w"> </span><span class="n">databaseId</span><span class="p">,</span><span class="w"> </span><span class="n">String</span><span class="w"> </span><span class="n">keyspaceName</span><span class="p">);</span>
</code></pre></div>
<ul class="task-list">
<li class="task-list-item"><label class="task-list-control"><input type="checkbox" disabled checked/><span class="task-list-indicator"></span></label> <strong>Sample Code</strong></li>
</ul>
<div class="highlight"><table class="highlighttable"><tr><th colspan="2" class="filename"><span class="filename">DeleteKeyspace.java</span></th></tr><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-84-1"> 1</a></span>
<span class="normal"><a href="#__codelineno-84-2"> 2</a></span>
<span class="normal"><a href="#__codelineno-84-3"> 3</a></span>
<span class="normal"><a href="#__codelineno-84-4"> 4</a></span>
<span class="normal"><a href="#__codelineno-84-5"> 5</a></span>
<span class="normal"><a href="#__codelineno-84-6"> 6</a></span>
<span class="normal"><a href="#__codelineno-84-7"> 7</a></span>
<span class="normal"><a href="#__codelineno-84-8"> 8</a></span>
<span class="normal"><a href="#__codelineno-84-9"> 9</a></span>
<span class="normal"><a href="#__codelineno-84-10">10</a></span>
<span class="normal"><a href="#__codelineno-84-11">11</a></span>
<span class="normal"><a href="#__codelineno-84-12">12</a></span>
<span class="normal"><a href="#__codelineno-84-13">13</a></span></pre></div></td><td class="code"><div><pre><span></span><code><a id="__codelineno-84-1" name="__codelineno-84-1"></a><span class="kn">package</span><span class="w"> </span><span class="nn">com.dtsx.astra.sdk.documentation</span><span class="p">;</span>
<a id="__codelineno-84-2" name="__codelineno-84-2"></a>
<a id="__codelineno-84-3" name="__codelineno-84-3"></a><span class="kn">import</span><span class="w"> </span><span class="nn">com.dtsx.astra.sdk.AstraDBAdmin</span><span class="p">;</span>
<a id="__codelineno-84-4" name="__codelineno-84-4"></a>
<a id="__codelineno-84-5" name="__codelineno-84-5"></a><span class="kd">public</span><span class="w"> </span><span class="kd">class</span> <span class="nc">DeleteKeyspace</span><span class="w"> </span><span class="p">{</span>
<a id="__codelineno-84-6" name="__codelineno-84-6"></a>
<a id="__codelineno-84-7" name="__codelineno-84-7"></a><span class="w">    </span><span class="kd">public</span><span class="w"> </span><span class="kd">static</span><span class="w"> </span><span class="kt">void</span><span class="w"> </span><span class="nf">main</span><span class="p">(</span><span class="n">String</span><span class="o">[]</span><span class="w"> </span><span class="n">args</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<a id="__codelineno-84-8" name="__codelineno-84-8"></a><span class="w">        </span><span class="n">AstraDBAdmin</span><span class="w"> </span><span class="n">client</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">new</span><span class="w"> </span><span class="n">AstraDBAdmin</span><span class="p">(</span><span class="s">&quot;TOKEN&quot;</span><span class="p">);</span>
<a id="__codelineno-84-9" name="__codelineno-84-9"></a>
<a id="__codelineno-84-10" name="__codelineno-84-10"></a><span class="w">        </span><span class="c1">// Create a Keyspace</span>
<a id="__codelineno-84-11" name="__codelineno-84-11"></a><span class="w">        </span><span class="n">client</span><span class="p">.</span><span class="na">deleteKeyspace</span><span class="p">(</span><span class="s">&quot;&lt;db_name&gt;&quot;</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;&lt;keyspace_name&gt;&quot;</span><span class="p">);</span>
<a id="__codelineno-84-12" name="__codelineno-84-12"></a><span class="w">    </span><span class="p">}</span>
<a id="__codelineno-84-13" name="__codelineno-84-13"></a><span class="p">}</span>
</code></pre></div></td></tr></table></div>
<h4 id="find-keyspace">Find Keyspace<a class="headerlink" href="#find-keyspace" title="Permanent link">&para;</a></h4>
<details class="abstract annotate" open="open">
<summary>General Information</summary>
<ul>
<li>A database is not limited in number of keyspaces.</li>
<li>A keyspace is a logical grouping of collections.</li>
<li>Default keyspace name is <code>default_keyspace</code></li>
</ul>
</details>
<ul class="task-list">
<li class="task-list-item"><label class="task-list-control"><input type="checkbox" disabled checked/><span class="task-list-indicator"></span></label> <strong>Signature and <a href="#">Javadoc 🔗</a></strong></li>
</ul>
<div class="highlight"><pre><span></span><code><a id="__codelineno-85-1" name="__codelineno-85-1" href="#__codelineno-85-1"></a><span class="kt">boolean</span><span class="w"> </span><span class="nf">isKeyspaceExists</span><span class="p">(</span><span class="n">String</span><span class="w"> </span><span class="n">keyspaceName</span><span class="p">);</span>
<a id="__codelineno-85-2" name="__codelineno-85-2" href="#__codelineno-85-2"></a><span class="n">Stream</span><span class="o">&lt;</span><span class="n">String</span><span class="o">&gt;</span><span class="w"> </span><span class="nf">findAllKeyspaceNames</span><span class="p">();</span>
<a id="__codelineno-85-3" name="__codelineno-85-3" href="#__codelineno-85-3"></a><span class="n">String</span><span class="w"> </span><span class="nf">getCurrentKeyspace</span><span class="p">(</span><span class="n">String</span><span class="w"> </span><span class="n">keyspaceName</span><span class="p">);</span>
<a id="__codelineno-85-4" name="__codelineno-85-4" href="#__codelineno-85-4"></a><span class="kt">void</span><span class="w"> </span><span class="nf">changeKeyspace</span><span class="p">(</span><span class="n">String</span><span class="w"> </span><span class="n">keyspaceName</span><span class="p">);</span>
</code></pre></div>
<ul class="task-list">
<li class="task-list-item"><label class="task-list-control"><input type="checkbox" disabled checked/><span class="task-list-indicator"></span></label> <strong>Sample Code</strong></li>
</ul>
<div class="highlight"><table class="highlighttable"><tr><th colspan="2" class="filename"><span class="filename">FindKeyspace.java</span></th></tr><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-86-1"> 1</a></span>
<span class="normal"><a href="#__codelineno-86-2"> 2</a></span>
<span class="normal"><a href="#__codelineno-86-3"> 3</a></span>
<span class="normal"><a href="#__codelineno-86-4"> 4</a></span>
<span class="normal"><a href="#__codelineno-86-5"> 5</a></span>
<span class="normal"><a href="#__codelineno-86-6"> 6</a></span>
<span class="normal"><a href="#__codelineno-86-7"> 7</a></span>
<span class="normal"><a href="#__codelineno-86-8"> 8</a></span>
<span class="normal"><a href="#__codelineno-86-9"> 9</a></span>
<span class="normal"><a href="#__codelineno-86-10">10</a></span>
<span class="normal"><a href="#__codelineno-86-11">11</a></span>
<span class="normal"><a href="#__codelineno-86-12">12</a></span>
<span class="normal"><a href="#__codelineno-86-13">13</a></span></pre></div></td><td class="code"><div><pre><span></span><code><a id="__codelineno-86-1" name="__codelineno-86-1"></a><span class="kn">package</span><span class="w"> </span><span class="nn">com.dtsx.astra.sdk.documentation</span><span class="p">;</span>
<a id="__codelineno-86-2" name="__codelineno-86-2"></a>
<a id="__codelineno-86-3" name="__codelineno-86-3"></a><span class="kn">import</span><span class="w"> </span><span class="nn">com.dtsx.astra.sdk.AstraDBAdmin</span><span class="p">;</span>
<a id="__codelineno-86-4" name="__codelineno-86-4"></a>
<a id="__codelineno-86-5" name="__codelineno-86-5"></a><span class="kd">public</span><span class="w"> </span><span class="kd">class</span> <span class="nc">DeleteKeyspace</span><span class="w"> </span><span class="p">{</span>
<a id="__codelineno-86-6" name="__codelineno-86-6"></a>
<a id="__codelineno-86-7" name="__codelineno-86-7"></a><span class="w">    </span><span class="kd">public</span><span class="w"> </span><span class="kd">static</span><span class="w"> </span><span class="kt">void</span><span class="w"> </span><span class="nf">main</span><span class="p">(</span><span class="n">String</span><span class="o">[]</span><span class="w"> </span><span class="n">args</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<a id="__codelineno-86-8" name="__codelineno-86-8"></a><span class="w">        </span><span class="n">AstraDBAdmin</span><span class="w"> </span><span class="n">client</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">new</span><span class="w"> </span><span class="n">AstraDBAdmin</span><span class="p">(</span><span class="s">&quot;TOKEN&quot;</span><span class="p">);</span>
<a id="__codelineno-86-9" name="__codelineno-86-9"></a>
<a id="__codelineno-86-10" name="__codelineno-86-10"></a><span class="w">        </span><span class="c1">// Create a Keyspace</span>
<a id="__codelineno-86-11" name="__codelineno-86-11"></a><span class="w">        </span><span class="n">client</span><span class="p">.</span><span class="na">deleteKeyspace</span><span class="p">(</span><span class="s">&quot;&lt;db_name&gt;&quot;</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;&lt;keyspace_name&gt;&quot;</span><span class="p">);</span>
<a id="__codelineno-86-12" name="__codelineno-86-12"></a><span class="w">    </span><span class="p">}</span>
<a id="__codelineno-86-13" name="__codelineno-86-13"></a><span class="p">}</span>
</code></pre></div></td></tr></table></div>
<h2 id="6-class-diagram">6. Class Diagram<a class="headerlink" href="#6-class-diagram" title="Permanent link">&para;</a></h2>
<p><img src="../../../../img/sdk/astra-vector-client-classes.png" /></p>
<h2 id="7-working-with-cassio">7. Working with CassIO<a class="headerlink" href="#7-working-with-cassio" title="Permanent link">&para;</a></h2>
<p><a href="cassio.org">Cassio</a> is framework originally implement in Python to use Open Source Cassandra as a Vector Store.
It has been partially ported in Java. Idea is java to use the same table created by CassIO.</p>
<h3 id="connection_2">Connection<a class="headerlink" href="#connection_2" title="Permanent link">&para;</a></h3>
<details class="abstract annotate" open="open">
<summary>General Information</summary>
<ul>
<li>CassIO is a framework to use Open Source Cassandra as a Vector Store.</li>
<li>Java portage is only 2 tables <code>metadata_vector</code> and <code>clustered_metadata_vector</code></li>
<li>The tables are created with a specific schema to store vectors and metadata</li>
<li>The indices are created to perform efficient search on the vector</li>
</ul>
</details>
<ul class="task-list">
<li class="task-list-item"><label class="task-list-control"><input type="checkbox" disabled checked/><span class="task-list-indicator"></span></label> <strong>Signature and <a href="#">Javadoc 🔗</a></strong></li>
</ul>
<div class="highlight"><pre><span></span><code><a id="__codelineno-87-1" name="__codelineno-87-1" href="#__codelineno-87-1"></a><span class="n">CqlSession</span><span class="w"> </span><span class="nf">init</span><span class="p">(</span><span class="n">String</span><span class="w"> </span><span class="n">token</span><span class="p">,</span><span class="w"> </span><span class="n">UUID</span><span class="w"> </span><span class="n">databaseId</span><span class="p">,</span><span class="w"> </span><span class="n">String</span><span class="w"> </span><span class="n">databaseRegion</span><span class="p">,</span><span class="w"> </span><span class="n">String</span><span class="w"> </span><span class="n">keyspace</span><span class="p">);</span>
</code></pre></div>
<ul class="task-list">
<li class="task-list-item"><label class="task-list-control"><input type="checkbox" disabled checked/><span class="task-list-indicator"></span></label> <strong>Sample Code</strong></li>
</ul>
<div class="highlight"><table class="highlighttable"><tr><th colspan="2" class="filename"><span class="filename">CassIOConnection.java</span></th></tr><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-88-1"> 1</a></span>
<span class="normal"><a href="#__codelineno-88-2"> 2</a></span>
<span class="normal"><a href="#__codelineno-88-3"> 3</a></span>
<span class="normal"><a href="#__codelineno-88-4"> 4</a></span>
<span class="normal"><a href="#__codelineno-88-5"> 5</a></span>
<span class="normal"><a href="#__codelineno-88-6"> 6</a></span>
<span class="normal"><a href="#__codelineno-88-7"> 7</a></span>
<span class="normal"><a href="#__codelineno-88-8"> 8</a></span>
<span class="normal"><a href="#__codelineno-88-9"> 9</a></span>
<span class="normal"><a href="#__codelineno-88-10">10</a></span>
<span class="normal"><a href="#__codelineno-88-11">11</a></span>
<span class="normal"><a href="#__codelineno-88-12">12</a></span>
<span class="normal"><a href="#__codelineno-88-13">13</a></span>
<span class="normal"><a href="#__codelineno-88-14">14</a></span>
<span class="normal"><a href="#__codelineno-88-15">15</a></span>
<span class="normal"><a href="#__codelineno-88-16">16</a></span>
<span class="normal"><a href="#__codelineno-88-17">17</a></span>
<span class="normal"><a href="#__codelineno-88-18">18</a></span>
<span class="normal"><a href="#__codelineno-88-19">19</a></span>
<span class="normal"><a href="#__codelineno-88-20">20</a></span>
<span class="normal"><a href="#__codelineno-88-21">21</a></span>
<span class="normal"><a href="#__codelineno-88-22">22</a></span>
<span class="normal"><a href="#__codelineno-88-23">23</a></span>
<span class="normal"><a href="#__codelineno-88-24">24</a></span>
<span class="normal"><a href="#__codelineno-88-25">25</a></span>
<span class="normal"><a href="#__codelineno-88-26">26</a></span>
<span class="normal"><a href="#__codelineno-88-27">27</a></span>
<span class="normal"><a href="#__codelineno-88-28">28</a></span></pre></div></td><td class="code"><div><pre><span></span><code><a id="__codelineno-88-1" name="__codelineno-88-1"></a><span class="kn">package</span><span class="w"> </span><span class="nn">com.dtsx.astra.sdk.documentation</span><span class="p">;</span>
<a id="__codelineno-88-2" name="__codelineno-88-2"></a>
<a id="__codelineno-88-3" name="__codelineno-88-3"></a><span class="kn">import</span><span class="w"> </span><span class="nn">com.datastax.oss.driver.api.core.CqlSession</span><span class="p">;</span>
<a id="__codelineno-88-4" name="__codelineno-88-4"></a><span class="kn">import</span><span class="w"> </span><span class="nn">com.dtsx.astra.sdk.AstraDBAdmin</span><span class="p">;</span>
<a id="__codelineno-88-5" name="__codelineno-88-5"></a><span class="kn">import</span><span class="w"> </span><span class="nn">com.dtsx.astra.sdk.cassio.CassIO</span><span class="p">;</span>
<a id="__codelineno-88-6" name="__codelineno-88-6"></a><span class="kn">import</span><span class="w"> </span><span class="nn">com.dtsx.astra.sdk.utils.TestUtils</span><span class="p">;</span>
<a id="__codelineno-88-7" name="__codelineno-88-7"></a>
<a id="__codelineno-88-8" name="__codelineno-88-8"></a><span class="kn">import</span><span class="w"> </span><span class="nn">java.util.UUID</span><span class="p">;</span>
<a id="__codelineno-88-9" name="__codelineno-88-9"></a>
<a id="__codelineno-88-10" name="__codelineno-88-10"></a><span class="kd">public</span><span class="w"> </span><span class="kd">class</span> <span class="nc">CassIOConnection</span><span class="w"> </span><span class="p">{</span>
<a id="__codelineno-88-11" name="__codelineno-88-11"></a>
<a id="__codelineno-88-12" name="__codelineno-88-12"></a><span class="w">    </span><span class="kd">public</span><span class="w"> </span><span class="kd">static</span><span class="w"> </span><span class="kt">void</span><span class="w"> </span><span class="nf">main</span><span class="p">(</span><span class="n">String</span><span class="o">[]</span><span class="w"> </span><span class="n">args</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<a id="__codelineno-88-13" name="__codelineno-88-13"></a>
<a id="__codelineno-88-14" name="__codelineno-88-14"></a><span class="w">        </span><span class="c1">// Create db if not exists</span>
<a id="__codelineno-88-15" name="__codelineno-88-15"></a><span class="w">        </span><span class="n">UUID</span><span class="w"> </span><span class="n">databaseId</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">new</span><span class="w"> </span><span class="n">AstraDBAdmin</span><span class="p">(</span><span class="s">&quot;TOKEN&quot;</span><span class="p">)</span>
<a id="__codelineno-88-16" name="__codelineno-88-16"></a><span class="w">                </span><span class="p">.</span><span class="na">createDatabase</span><span class="p">(</span><span class="s">&quot;database&quot;</span><span class="p">);</span>
<a id="__codelineno-88-17" name="__codelineno-88-17"></a>
<a id="__codelineno-88-18" name="__codelineno-88-18"></a><span class="w">        </span><span class="c1">// Initializing CqlSession</span>
<a id="__codelineno-88-19" name="__codelineno-88-19"></a><span class="w">        </span><span class="k">try</span><span class="w"> </span><span class="p">(</span><span class="n">CqlSession</span><span class="w"> </span><span class="n">cqlSession</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">CassIO</span><span class="p">.</span><span class="na">init</span><span class="p">(</span><span class="s">&quot;TOKEN&quot;</span><span class="p">,</span>
<a id="__codelineno-88-20" name="__codelineno-88-20"></a><span class="w">                </span><span class="n">databaseId</span><span class="p">,</span><span class="w"> </span><span class="n">TestUtils</span><span class="p">.</span><span class="na">TEST_REGION</span><span class="p">,</span>
<a id="__codelineno-88-21" name="__codelineno-88-21"></a><span class="w">                </span><span class="n">AstraDBAdmin</span><span class="p">.</span><span class="na">DEFAULT_KEYSPACE</span><span class="p">))</span><span class="w"> </span><span class="p">{</span>
<a id="__codelineno-88-22" name="__codelineno-88-22"></a><span class="w">            </span><span class="n">cqlSession</span>
<a id="__codelineno-88-23" name="__codelineno-88-23"></a><span class="w">                    </span><span class="p">.</span><span class="na">execute</span><span class="p">(</span><span class="s">&quot;SELECT datacenter FROM system.local;&quot;</span><span class="p">)</span>
<a id="__codelineno-88-24" name="__codelineno-88-24"></a><span class="w">                    </span><span class="p">.</span><span class="na">one</span><span class="p">()</span>
<a id="__codelineno-88-25" name="__codelineno-88-25"></a><span class="w">                    </span><span class="p">.</span><span class="na">get</span><span class="p">(</span><span class="s">&quot;datacenter&quot;</span><span class="p">,</span><span class="w"> </span><span class="n">String</span><span class="p">.</span><span class="na">class</span><span class="p">);</span>
<a id="__codelineno-88-26" name="__codelineno-88-26"></a><span class="w">        </span><span class="p">}</span>
<a id="__codelineno-88-27" name="__codelineno-88-27"></a><span class="w">    </span><span class="p">}</span>
<a id="__codelineno-88-28" name="__codelineno-88-28"></a><span class="p">}</span>
</code></pre></div></td></tr></table></div>
<h3 id="metadatavectortable">MetadataVectorTable<a class="headerlink" href="#metadatavectortable" title="Permanent link">&para;</a></h3>
<details class="abstract annotate" open="open">
<summary>General Information</summary>
<ul>
<li>Creating a Cassandra table with the following schema and associated indices</li>
</ul>
<div class="highlight"><pre><span></span><code><a id="__codelineno-89-1" name="__codelineno-89-1" href="#__codelineno-89-1"></a><span class="k">CREATE</span><span class="w"> </span><span class="k">TABLE</span><span class="w"> </span><span class="n">vector_store</span><span class="w"> </span><span class="p">(</span>
<a id="__codelineno-89-2" name="__codelineno-89-2" href="#__codelineno-89-2"></a><span class="w"> </span><span class="n">row_id</span><span class="w">          </span><span class="n">timeuuid</span><span class="p">,</span>
<a id="__codelineno-89-3" name="__codelineno-89-3" href="#__codelineno-89-3"></a><span class="w"> </span><span class="n">attributes_blob</span><span class="w"> </span><span class="nb">text</span><span class="p">,</span>
<a id="__codelineno-89-4" name="__codelineno-89-4" href="#__codelineno-89-4"></a><span class="w"> </span><span class="n">body_blob</span><span class="w">       </span><span class="nb">text</span><span class="p">,</span>
<a id="__codelineno-89-5" name="__codelineno-89-5" href="#__codelineno-89-5"></a><span class="w"> </span><span class="n">metadata_s</span><span class="w">      </span><span class="k">map</span><span class="o">&lt;</span><span class="nb">text</span><span class="p">,</span><span class="w"> </span><span class="nb">text</span><span class="o">&gt;</span><span class="p">,</span>
<a id="__codelineno-89-6" name="__codelineno-89-6" href="#__codelineno-89-6"></a><span class="w"> </span><span class="n">vector</span><span class="w">          </span><span class="n">vector</span><span class="o">&lt;</span><span class="nb">float</span><span class="p">,</span><span class="w"> </span><span class="mi">1536</span><span class="o">&gt;</span><span class="p">,</span>
<a id="__codelineno-89-7" name="__codelineno-89-7" href="#__codelineno-89-7"></a><span class="w"> </span><span class="k">PRIMARY</span><span class="w"> </span><span class="k">KEY</span><span class="w"> </span><span class="p">(</span><span class="n">row_id</span><span class="p">)</span>
<a id="__codelineno-89-8" name="__codelineno-89-8" href="#__codelineno-89-8"></a><span class="p">);</span>
</code></pre></div>
</details>
<ul class="task-list">
<li class="task-list-item"><label class="task-list-control"><input type="checkbox" disabled checked/><span class="task-list-indicator"></span></label> <strong>Sample Code</strong></li>
</ul>
<div class="highlight"><table class="highlighttable"><tr><th colspan="2" class="filename"><span class="filename">CassIOMetadataVectorTable.java</span></th></tr><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-90-1"> 1</a></span>
<span class="normal"><a href="#__codelineno-90-2"> 2</a></span>
<span class="normal"><a href="#__codelineno-90-3"> 3</a></span>
<span class="normal"><a href="#__codelineno-90-4"> 4</a></span>
<span class="normal"><a href="#__codelineno-90-5"> 5</a></span>
<span class="normal"><a href="#__codelineno-90-6"> 6</a></span>
<span class="normal"><a href="#__codelineno-90-7"> 7</a></span>
<span class="normal"><a href="#__codelineno-90-8"> 8</a></span>
<span class="normal"><a href="#__codelineno-90-9"> 9</a></span>
<span class="normal"><a href="#__codelineno-90-10">10</a></span>
<span class="normal"><a href="#__codelineno-90-11">11</a></span>
<span class="normal"><a href="#__codelineno-90-12">12</a></span>
<span class="normal"><a href="#__codelineno-90-13">13</a></span>
<span class="normal"><a href="#__codelineno-90-14">14</a></span>
<span class="normal"><a href="#__codelineno-90-15">15</a></span>
<span class="normal"><a href="#__codelineno-90-16">16</a></span>
<span class="normal"><a href="#__codelineno-90-17">17</a></span>
<span class="normal"><a href="#__codelineno-90-18">18</a></span>
<span class="normal"><a href="#__codelineno-90-19">19</a></span>
<span class="normal"><a href="#__codelineno-90-20">20</a></span>
<span class="normal"><a href="#__codelineno-90-21">21</a></span>
<span class="normal"><a href="#__codelineno-90-22">22</a></span>
<span class="normal"><a href="#__codelineno-90-23">23</a></span>
<span class="normal"><a href="#__codelineno-90-24">24</a></span>
<span class="normal"><a href="#__codelineno-90-25">25</a></span>
<span class="normal"><a href="#__codelineno-90-26">26</a></span>
<span class="normal"><a href="#__codelineno-90-27">27</a></span>
<span class="normal"><a href="#__codelineno-90-28">28</a></span>
<span class="normal"><a href="#__codelineno-90-29">29</a></span>
<span class="normal"><a href="#__codelineno-90-30">30</a></span>
<span class="normal"><a href="#__codelineno-90-31">31</a></span>
<span class="normal"><a href="#__codelineno-90-32">32</a></span>
<span class="normal"><a href="#__codelineno-90-33">33</a></span>
<span class="normal"><a href="#__codelineno-90-34">34</a></span>
<span class="normal"><a href="#__codelineno-90-35">35</a></span>
<span class="normal"><a href="#__codelineno-90-36">36</a></span>
<span class="normal"><a href="#__codelineno-90-37">37</a></span>
<span class="normal"><a href="#__codelineno-90-38">38</a></span>
<span class="normal"><a href="#__codelineno-90-39">39</a></span>
<span class="normal"><a href="#__codelineno-90-40">40</a></span>
<span class="normal"><a href="#__codelineno-90-41">41</a></span>
<span class="normal"><a href="#__codelineno-90-42">42</a></span>
<span class="normal"><a href="#__codelineno-90-43">43</a></span>
<span class="normal"><a href="#__codelineno-90-44">44</a></span>
<span class="normal"><a href="#__codelineno-90-45">45</a></span>
<span class="normal"><a href="#__codelineno-90-46">46</a></span>
<span class="normal"><a href="#__codelineno-90-47">47</a></span>
<span class="normal"><a href="#__codelineno-90-48">48</a></span>
<span class="normal"><a href="#__codelineno-90-49">49</a></span>
<span class="normal"><a href="#__codelineno-90-50">50</a></span>
<span class="normal"><a href="#__codelineno-90-51">51</a></span>
<span class="normal"><a href="#__codelineno-90-52">52</a></span>
<span class="normal"><a href="#__codelineno-90-53">53</a></span>
<span class="normal"><a href="#__codelineno-90-54">54</a></span></pre></div></td><td class="code"><div><pre><span></span><code><a id="__codelineno-90-1" name="__codelineno-90-1"></a><span class="kn">package</span><span class="w"> </span><span class="nn">com.dtsx.astra.sdk.documentation</span><span class="p">;</span>
<a id="__codelineno-90-2" name="__codelineno-90-2"></a>
<a id="__codelineno-90-3" name="__codelineno-90-3"></a><span class="kn">import</span><span class="w"> </span><span class="nn">com.datastax.oss.driver.api.core.CqlSession</span><span class="p">;</span>
<a id="__codelineno-90-4" name="__codelineno-90-4"></a><span class="kn">import</span><span class="w"> </span><span class="nn">com.dtsx.astra.sdk.AstraDBAdmin</span><span class="p">;</span>
<a id="__codelineno-90-5" name="__codelineno-90-5"></a><span class="kn">import</span><span class="w"> </span><span class="nn">com.dtsx.astra.sdk.cassio.AnnQuery</span><span class="p">;</span>
<a id="__codelineno-90-6" name="__codelineno-90-6"></a><span class="kn">import</span><span class="w"> </span><span class="nn">com.dtsx.astra.sdk.cassio.CassIO</span><span class="p">;</span>
<a id="__codelineno-90-7" name="__codelineno-90-7"></a><span class="kn">import</span><span class="w"> </span><span class="nn">com.dtsx.astra.sdk.cassio.MetadataVectorRecord</span><span class="p">;</span>
<a id="__codelineno-90-8" name="__codelineno-90-8"></a><span class="kn">import</span><span class="w"> </span><span class="nn">com.dtsx.astra.sdk.cassio.MetadataVectorTable</span><span class="p">;</span>
<a id="__codelineno-90-9" name="__codelineno-90-9"></a><span class="kn">import</span><span class="w"> </span><span class="nn">com.dtsx.astra.sdk.utils.TestUtils</span><span class="p">;</span>
<a id="__codelineno-90-10" name="__codelineno-90-10"></a>
<a id="__codelineno-90-11" name="__codelineno-90-11"></a><span class="kn">import</span><span class="w"> </span><span class="nn">java.util.List</span><span class="p">;</span>
<a id="__codelineno-90-12" name="__codelineno-90-12"></a><span class="kn">import</span><span class="w"> </span><span class="nn">java.util.Map</span><span class="p">;</span>
<a id="__codelineno-90-13" name="__codelineno-90-13"></a><span class="kn">import</span><span class="w"> </span><span class="nn">java.util.UUID</span><span class="p">;</span>
<a id="__codelineno-90-14" name="__codelineno-90-14"></a>
<a id="__codelineno-90-15" name="__codelineno-90-15"></a><span class="kd">public</span><span class="w"> </span><span class="kd">class</span> <span class="nc">CassIOMetadataVectorTable</span><span class="w"> </span><span class="p">{</span>
<a id="__codelineno-90-16" name="__codelineno-90-16"></a><span class="w">    </span><span class="kd">public</span><span class="w"> </span><span class="kd">static</span><span class="w"> </span><span class="kt">void</span><span class="w"> </span><span class="nf">main</span><span class="p">(</span><span class="n">String</span><span class="o">[]</span><span class="w"> </span><span class="n">args</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<a id="__codelineno-90-17" name="__codelineno-90-17"></a>
<a id="__codelineno-90-18" name="__codelineno-90-18"></a><span class="w">        </span><span class="c1">// Create db if not exists</span>
<a id="__codelineno-90-19" name="__codelineno-90-19"></a><span class="w">        </span><span class="n">UUID</span><span class="w"> </span><span class="n">databaseId</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">new</span><span class="w"> </span><span class="n">AstraDBAdmin</span><span class="p">(</span><span class="s">&quot;TOKEN&quot;</span><span class="p">)</span>
<a id="__codelineno-90-20" name="__codelineno-90-20"></a><span class="w">                </span><span class="p">.</span><span class="na">createDatabase</span><span class="p">(</span><span class="s">&quot;database&quot;</span><span class="p">);</span>
<a id="__codelineno-90-21" name="__codelineno-90-21"></a>
<a id="__codelineno-90-22" name="__codelineno-90-22"></a><span class="w">        </span><span class="c1">// Initializing CqlSession</span>
<a id="__codelineno-90-23" name="__codelineno-90-23"></a><span class="w">        </span><span class="k">try</span><span class="w"> </span><span class="p">(</span><span class="n">CqlSession</span><span class="w"> </span><span class="n">cqlSession</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">CassIO</span><span class="p">.</span><span class="na">init</span><span class="p">(</span><span class="s">&quot;TOKEN&quot;</span><span class="p">,</span>
<a id="__codelineno-90-24" name="__codelineno-90-24"></a><span class="w">                </span><span class="n">databaseId</span><span class="p">,</span><span class="w"> </span><span class="n">TestUtils</span><span class="p">.</span><span class="na">TEST_REGION</span><span class="p">,</span>
<a id="__codelineno-90-25" name="__codelineno-90-25"></a><span class="w">                </span><span class="n">AstraDBAdmin</span><span class="p">.</span><span class="na">DEFAULT_KEYSPACE</span><span class="p">))</span><span class="w"> </span><span class="p">{</span>
<a id="__codelineno-90-26" name="__codelineno-90-26"></a>
<a id="__codelineno-90-27" name="__codelineno-90-27"></a><span class="w">            </span><span class="c1">// Initializing table with the dimension</span>
<a id="__codelineno-90-28" name="__codelineno-90-28"></a><span class="w">            </span><span class="n">MetadataVectorTable</span><span class="w"> </span><span class="n">vector_Store</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">CassIO</span>
<a id="__codelineno-90-29" name="__codelineno-90-29"></a><span class="w">                    </span><span class="p">.</span><span class="na">metadataVectorTable</span><span class="p">(</span><span class="s">&quot;vector_store&quot;</span><span class="p">,</span><span class="w"> </span><span class="mi">1536</span><span class="p">);</span>
<a id="__codelineno-90-30" name="__codelineno-90-30"></a><span class="w">            </span><span class="n">vector_Store</span><span class="p">.</span><span class="na">create</span><span class="p">();</span>
<a id="__codelineno-90-31" name="__codelineno-90-31"></a>
<a id="__codelineno-90-32" name="__codelineno-90-32"></a><span class="w">            </span><span class="c1">// Insert Vectors</span>
<a id="__codelineno-90-33" name="__codelineno-90-33"></a><span class="w">            </span><span class="n">String</span><span class="w"> </span><span class="n">partitionId</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">UUID</span><span class="p">.</span><span class="na">randomUUID</span><span class="p">().</span><span class="na">toString</span><span class="p">();</span>
<a id="__codelineno-90-34" name="__codelineno-90-34"></a><span class="w">            </span><span class="n">MetadataVectorRecord</span><span class="w"> </span><span class="n">record</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">new</span><span class="w"> </span><span class="n">MetadataVectorRecord</span><span class="p">();</span>
<a id="__codelineno-90-35" name="__codelineno-90-35"></a><span class="w">            </span><span class="kd">record</span><span class="err">.</span><span class="nc">setVector</span><span class="p">(</span><span class="n">List</span><span class="p">.</span><span class="na">of</span><span class="p">(</span><span class="mf">0.1f</span><span class="p">,</span><span class="w"> </span><span class="mf">0.2f</span><span class="p">,</span><span class="w"> </span><span class="mf">0.3f</span><span class="p">,</span><span class="w"> </span><span class="mf">0.4f</span><span class="p">));</span>
<a id="__codelineno-90-36" name="__codelineno-90-36"></a><span class="w">            </span><span class="kd">record</span><span class="err">.</span><span class="nc">setMetadata</span><span class="p">(</span><span class="n">Map</span><span class="p">.</span><span class="na">of</span><span class="p">(</span><span class="s">&quot;key&quot;</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;value&quot;</span><span class="p">));</span>
<a id="__codelineno-90-37" name="__codelineno-90-37"></a><span class="w">            </span><span class="kd">record</span><span class="err">.</span><span class="nc">setBody</span><span class="p">(</span><span class="s">&quot;Sample text fragment&quot;</span><span class="p">);</span>
<a id="__codelineno-90-38" name="__codelineno-90-38"></a><span class="w">            </span><span class="kd">record</span><span class="err">.</span><span class="nc">setAttributes</span><span class="p">(</span><span class="s">&quot;handy field for special attributes&quot;</span><span class="p">);</span>
<a id="__codelineno-90-39" name="__codelineno-90-39"></a><span class="w">            </span><span class="n">vector_Store</span><span class="p">.</span><span class="na">put</span><span class="p">(</span><span class="n">record</span><span class="p">);</span>
<a id="__codelineno-90-40" name="__codelineno-90-40"></a>
<a id="__codelineno-90-41" name="__codelineno-90-41"></a><span class="w">            </span><span class="c1">// Semantic Search</span>
<a id="__codelineno-90-42" name="__codelineno-90-42"></a><span class="w">            </span><span class="n">AnnQuery</span><span class="w"> </span><span class="n">query</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">AnnQuery</span>
<a id="__codelineno-90-43" name="__codelineno-90-43"></a><span class="w">                    </span><span class="p">.</span><span class="na">builder</span><span class="p">()</span>
<a id="__codelineno-90-44" name="__codelineno-90-44"></a><span class="w">                    </span><span class="p">.</span><span class="na">embeddings</span><span class="p">(</span><span class="n">List</span><span class="p">.</span><span class="na">of</span><span class="p">(</span><span class="mf">0.1f</span><span class="p">,</span><span class="w"> </span><span class="mf">0.2f</span><span class="p">,</span><span class="w"> </span><span class="mf">0.3f</span><span class="p">,</span><span class="w"> </span><span class="mf">0.4f</span><span class="p">))</span>
<a id="__codelineno-90-45" name="__codelineno-90-45"></a><span class="w">                    </span><span class="p">.</span><span class="na">metaData</span><span class="p">(</span><span class="n">Map</span><span class="p">.</span><span class="na">of</span><span class="p">(</span><span class="s">&quot;key&quot;</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;value&quot;</span><span class="p">))</span>
<a id="__codelineno-90-46" name="__codelineno-90-46"></a><span class="w">                    </span><span class="p">.</span><span class="na">build</span><span class="p">();</span>
<a id="__codelineno-90-47" name="__codelineno-90-47"></a>
<a id="__codelineno-90-48" name="__codelineno-90-48"></a><span class="w">            </span><span class="n">vector_Store</span><span class="p">.</span><span class="na">similaritySearch</span><span class="p">(</span><span class="n">query</span><span class="p">).</span><span class="na">forEach</span><span class="p">(</span><span class="n">result</span><span class="w"> </span><span class="o">-&gt;</span><span class="w"> </span><span class="p">{</span>
<a id="__codelineno-90-49" name="__codelineno-90-49"></a><span class="w">                </span><span class="n">System</span><span class="p">.</span><span class="na">out</span><span class="p">.</span><span class="na">println</span><span class="p">(</span><span class="s">&quot;Similarity : &quot;</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="n">result</span><span class="p">.</span><span class="na">getSimilarity</span><span class="p">());</span>
<a id="__codelineno-90-50" name="__codelineno-90-50"></a><span class="w">                </span><span class="n">System</span><span class="p">.</span><span class="na">out</span><span class="p">.</span><span class="na">println</span><span class="p">(</span><span class="s">&quot;Record : &quot;</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="n">result</span><span class="p">.</span><span class="na">getEmbedded</span><span class="p">().</span><span class="na">getBody</span><span class="p">());</span>
<a id="__codelineno-90-51" name="__codelineno-90-51"></a><span class="w">            </span><span class="p">});</span>
<a id="__codelineno-90-52" name="__codelineno-90-52"></a><span class="w">        </span><span class="p">}</span>
<a id="__codelineno-90-53" name="__codelineno-90-53"></a><span class="w">    </span><span class="p">}</span>
<a id="__codelineno-90-54" name="__codelineno-90-54"></a><span class="p">}</span>
</code></pre></div></td></tr></table></div>
<h3 id="clusteredmetadatavectortable">ClusteredMetadataVectorTable<a class="headerlink" href="#clusteredmetadatavectortable" title="Permanent link">&para;</a></h3>
<details class="abstract annotate" open="open">
<summary>General Information</summary>
<ul>
<li>Creating a Cassandra table</li>
</ul>
<div class="highlight"><pre><span></span><code><a id="__codelineno-91-1" name="__codelineno-91-1" href="#__codelineno-91-1"></a><span class="k">CREATE</span><span class="w"> </span><span class="k">TABLE</span><span class="w"> </span><span class="n">goodbards</span><span class="p">.</span><span class="n">vector_store_openai_by_tenant</span><span class="w"> </span><span class="p">(</span>
<a id="__codelineno-91-2" name="__codelineno-91-2" href="#__codelineno-91-2"></a><span class="n">partition_id</span><span class="w"> </span><span class="nb">text</span><span class="p">,</span>
<a id="__codelineno-91-3" name="__codelineno-91-3" href="#__codelineno-91-3"></a><span class="n">row_id</span><span class="w"> </span><span class="n">timeuuid</span><span class="p">,</span>
<a id="__codelineno-91-4" name="__codelineno-91-4" href="#__codelineno-91-4"></a><span class="n">attributes_blob</span><span class="w"> </span><span class="nb">text</span><span class="p">,</span>
<a id="__codelineno-91-5" name="__codelineno-91-5" href="#__codelineno-91-5"></a><span class="n">body_blob</span><span class="w"> </span><span class="nb">text</span><span class="p">,</span>
<a id="__codelineno-91-6" name="__codelineno-91-6" href="#__codelineno-91-6"></a><span class="n">metadata_s</span><span class="w"> </span><span class="k">map</span><span class="o">&lt;</span><span class="nb">text</span><span class="p">,</span><span class="w"> </span><span class="nb">text</span><span class="o">&gt;</span><span class="p">,</span>
<a id="__codelineno-91-7" name="__codelineno-91-7" href="#__codelineno-91-7"></a><span class="n">vector</span><span class="w"> </span><span class="n">vector</span><span class="o">&lt;</span><span class="nb">float</span><span class="p">,</span><span class="w"> </span><span class="mi">1536</span><span class="o">&gt;</span><span class="p">,</span>
<a id="__codelineno-91-8" name="__codelineno-91-8" href="#__codelineno-91-8"></a><span class="k">PRIMARY</span><span class="w"> </span><span class="k">KEY</span><span class="w"> </span><span class="p">(</span><span class="n">partition_id</span><span class="p">,</span><span class="w"> </span><span class="n">row_id</span><span class="p">)</span>
<a id="__codelineno-91-9" name="__codelineno-91-9" href="#__codelineno-91-9"></a><span class="p">)</span><span class="w"> </span><span class="k">WITH</span><span class="w"> </span><span class="n">CLUSTERING</span><span class="w"> </span><span class="k">ORDER</span><span class="w"> </span><span class="k">BY</span><span class="w"> </span><span class="p">(</span><span class="n">row_id</span><span class="w"> </span><span class="k">DESC</span><span class="p">)</span>
</code></pre></div>
</details>
<ul class="task-list">
<li class="task-list-item"><label class="task-list-control"><input type="checkbox" disabled checked/><span class="task-list-indicator"></span></label> <strong>Sample Code</strong></li>
</ul>
<div class="highlight"><table class="highlighttable"><tr><th colspan="2" class="filename"><span class="filename">CassIOClusteredMetadataVectorTable.java</span></th></tr><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-92-1"> 1</a></span>
<span class="normal"><a href="#__codelineno-92-2"> 2</a></span>
<span class="normal"><a href="#__codelineno-92-3"> 3</a></span>
<span class="normal"><a href="#__codelineno-92-4"> 4</a></span>
<span class="normal"><a href="#__codelineno-92-5"> 5</a></span>
<span class="normal"><a href="#__codelineno-92-6"> 6</a></span>
<span class="normal"><a href="#__codelineno-92-7"> 7</a></span>
<span class="normal"><a href="#__codelineno-92-8"> 8</a></span>
<span class="normal"><a href="#__codelineno-92-9"> 9</a></span>
<span class="normal"><a href="#__codelineno-92-10">10</a></span>
<span class="normal"><a href="#__codelineno-92-11">11</a></span>
<span class="normal"><a href="#__codelineno-92-12">12</a></span>
<span class="normal"><a href="#__codelineno-92-13">13</a></span>
<span class="normal"><a href="#__codelineno-92-14">14</a></span>
<span class="normal"><a href="#__codelineno-92-15">15</a></span>
<span class="normal"><a href="#__codelineno-92-16">16</a></span>
<span class="normal"><a href="#__codelineno-92-17">17</a></span>
<span class="normal"><a href="#__codelineno-92-18">18</a></span>
<span class="normal"><a href="#__codelineno-92-19">19</a></span>
<span class="normal"><a href="#__codelineno-92-20">20</a></span>
<span class="normal"><a href="#__codelineno-92-21">21</a></span>
<span class="normal"><a href="#__codelineno-92-22">22</a></span>
<span class="normal"><a href="#__codelineno-92-23">23</a></span>
<span class="normal"><a href="#__codelineno-92-24">24</a></span>
<span class="normal"><a href="#__codelineno-92-25">25</a></span>
<span class="normal"><a href="#__codelineno-92-26">26</a></span>
<span class="normal"><a href="#__codelineno-92-27">27</a></span>
<span class="normal"><a href="#__codelineno-92-28">28</a></span>
<span class="normal"><a href="#__codelineno-92-29">29</a></span>
<span class="normal"><a href="#__codelineno-92-30">30</a></span>
<span class="normal"><a href="#__codelineno-92-31">31</a></span>
<span class="normal"><a href="#__codelineno-92-32">32</a></span>
<span class="normal"><a href="#__codelineno-92-33">33</a></span>
<span class="normal"><a href="#__codelineno-92-34">34</a></span>
<span class="normal"><a href="#__codelineno-92-35">35</a></span>
<span class="normal"><a href="#__codelineno-92-36">36</a></span>
<span class="normal"><a href="#__codelineno-92-37">37</a></span>
<span class="normal"><a href="#__codelineno-92-38">38</a></span>
<span class="normal"><a href="#__codelineno-92-39">39</a></span>
<span class="normal"><a href="#__codelineno-92-40">40</a></span>
<span class="normal"><a href="#__codelineno-92-41">41</a></span>
<span class="normal"><a href="#__codelineno-92-42">42</a></span>
<span class="normal"><a href="#__codelineno-92-43">43</a></span>
<span class="normal"><a href="#__codelineno-92-44">44</a></span>
<span class="normal"><a href="#__codelineno-92-45">45</a></span>
<span class="normal"><a href="#__codelineno-92-46">46</a></span>
<span class="normal"><a href="#__codelineno-92-47">47</a></span>
<span class="normal"><a href="#__codelineno-92-48">48</a></span>
<span class="normal"><a href="#__codelineno-92-49">49</a></span>
<span class="normal"><a href="#__codelineno-92-50">50</a></span>
<span class="normal"><a href="#__codelineno-92-51">51</a></span>
<span class="normal"><a href="#__codelineno-92-52">52</a></span>
<span class="normal"><a href="#__codelineno-92-53">53</a></span>
<span class="normal"><a href="#__codelineno-92-54">54</a></span>
<span class="normal"><a href="#__codelineno-92-55">55</a></span>
<span class="normal"><a href="#__codelineno-92-56">56</a></span>
<span class="normal"><a href="#__codelineno-92-57">57</a></span>
<span class="normal"><a href="#__codelineno-92-58">58</a></span>
<span class="normal"><a href="#__codelineno-92-59">59</a></span></pre></div></td><td class="code"><div><pre><span></span><code><a id="__codelineno-92-1" name="__codelineno-92-1"></a><span class="kn">package</span><span class="w"> </span><span class="nn">com.dtsx.astra.sdk.documentation</span><span class="p">;</span>
<a id="__codelineno-92-2" name="__codelineno-92-2"></a>
<a id="__codelineno-92-3" name="__codelineno-92-3"></a><span class="kn">import</span><span class="w"> </span><span class="nn">com.datastax.oss.driver.api.core.CqlSession</span><span class="p">;</span>
<a id="__codelineno-92-4" name="__codelineno-92-4"></a><span class="kn">import</span><span class="w"> </span><span class="nn">com.dtsx.astra.sdk.AstraDBAdmin</span><span class="p">;</span>
<a id="__codelineno-92-5" name="__codelineno-92-5"></a><span class="kn">import</span><span class="w"> </span><span class="nn">com.dtsx.astra.sdk.cassio.AnnQuery</span><span class="p">;</span>
<a id="__codelineno-92-6" name="__codelineno-92-6"></a><span class="kn">import</span><span class="w"> </span><span class="nn">com.dtsx.astra.sdk.cassio.AnnResult</span><span class="p">;</span>
<a id="__codelineno-92-7" name="__codelineno-92-7"></a><span class="kn">import</span><span class="w"> </span><span class="nn">com.dtsx.astra.sdk.cassio.CassIO</span><span class="p">;</span>
<a id="__codelineno-92-8" name="__codelineno-92-8"></a><span class="kn">import</span><span class="w"> </span><span class="nn">com.dtsx.astra.sdk.cassio.ClusteredMetadataVectorRecord</span><span class="p">;</span>
<a id="__codelineno-92-9" name="__codelineno-92-9"></a><span class="kn">import</span><span class="w"> </span><span class="nn">com.dtsx.astra.sdk.cassio.ClusteredMetadataVectorTable</span><span class="p">;</span>
<a id="__codelineno-92-10" name="__codelineno-92-10"></a><span class="kn">import</span><span class="w"> </span><span class="nn">com.dtsx.astra.sdk.utils.TestUtils</span><span class="p">;</span>
<a id="__codelineno-92-11" name="__codelineno-92-11"></a>
<a id="__codelineno-92-12" name="__codelineno-92-12"></a><span class="kn">import</span><span class="w"> </span><span class="nn">java.util.List</span><span class="p">;</span>
<a id="__codelineno-92-13" name="__codelineno-92-13"></a><span class="kn">import</span><span class="w"> </span><span class="nn">java.util.Map</span><span class="p">;</span>
<a id="__codelineno-92-14" name="__codelineno-92-14"></a><span class="kn">import</span><span class="w"> </span><span class="nn">java.util.UUID</span><span class="p">;</span>
<a id="__codelineno-92-15" name="__codelineno-92-15"></a>
<a id="__codelineno-92-16" name="__codelineno-92-16"></a><span class="kn">import static</span><span class="w"> </span><span class="nn">com.dtsx.astra.sdk.cassio.AbstractCassandraTable.PARTITION_ID</span><span class="p">;</span>
<a id="__codelineno-92-17" name="__codelineno-92-17"></a><span class="kn">import static</span><span class="w"> </span><span class="nn">com.dtsx.astra.sdk.utils.TestUtils.getAstraToken</span><span class="p">;</span>
<a id="__codelineno-92-18" name="__codelineno-92-18"></a>
<a id="__codelineno-92-19" name="__codelineno-92-19"></a><span class="kd">public</span><span class="w"> </span><span class="kd">class</span> <span class="nc">CassIOClusteredMetadataVectorTable</span><span class="w"> </span><span class="p">{</span>
<a id="__codelineno-92-20" name="__codelineno-92-20"></a><span class="w">    </span><span class="kd">public</span><span class="w"> </span><span class="kd">static</span><span class="w"> </span><span class="kt">void</span><span class="w"> </span><span class="nf">main</span><span class="p">(</span><span class="n">String</span><span class="o">[]</span><span class="w"> </span><span class="n">args</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<a id="__codelineno-92-21" name="__codelineno-92-21"></a>
<a id="__codelineno-92-22" name="__codelineno-92-22"></a><span class="w">        </span><span class="c1">// Create db if not exists</span>
<a id="__codelineno-92-23" name="__codelineno-92-23"></a><span class="w">        </span><span class="n">UUID</span><span class="w"> </span><span class="n">databaseId</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">new</span><span class="w"> </span><span class="n">AstraDBAdmin</span><span class="p">(</span><span class="s">&quot;TOKEN&quot;</span><span class="p">)</span>
<a id="__codelineno-92-24" name="__codelineno-92-24"></a><span class="w">                </span><span class="p">.</span><span class="na">createDatabase</span><span class="p">(</span><span class="s">&quot;database&quot;</span><span class="p">);</span>
<a id="__codelineno-92-25" name="__codelineno-92-25"></a>
<a id="__codelineno-92-26" name="__codelineno-92-26"></a><span class="w">        </span><span class="c1">// Initializing CqlSession</span>
<a id="__codelineno-92-27" name="__codelineno-92-27"></a><span class="w">        </span><span class="k">try</span><span class="w"> </span><span class="p">(</span><span class="n">CqlSession</span><span class="w"> </span><span class="n">cqlSession</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">CassIO</span><span class="p">.</span><span class="na">init</span><span class="p">(</span><span class="s">&quot;TOKEN&quot;</span><span class="p">,</span>
<a id="__codelineno-92-28" name="__codelineno-92-28"></a><span class="w">                </span><span class="n">databaseId</span><span class="p">,</span><span class="w"> </span><span class="n">TestUtils</span><span class="p">.</span><span class="na">TEST_REGION</span><span class="p">,</span>
<a id="__codelineno-92-29" name="__codelineno-92-29"></a><span class="w">                </span><span class="n">AstraDBAdmin</span><span class="p">.</span><span class="na">DEFAULT_KEYSPACE</span><span class="p">))</span><span class="w"> </span><span class="p">{</span>
<a id="__codelineno-92-30" name="__codelineno-92-30"></a>
<a id="__codelineno-92-31" name="__codelineno-92-31"></a><span class="w">            </span><span class="c1">// Initializing table with the dimension</span>
<a id="__codelineno-92-32" name="__codelineno-92-32"></a><span class="w">            </span><span class="n">ClusteredMetadataVectorTable</span><span class="w"> </span><span class="n">vector_Store</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">CassIO</span>
<a id="__codelineno-92-33" name="__codelineno-92-33"></a><span class="w">                    </span><span class="p">.</span><span class="na">clusteredMetadataVectorTable</span><span class="p">(</span><span class="s">&quot;vector_store&quot;</span><span class="p">,</span><span class="w"> </span><span class="mi">1536</span><span class="p">);</span>
<a id="__codelineno-92-34" name="__codelineno-92-34"></a><span class="w">            </span><span class="n">vector_Store</span><span class="p">.</span><span class="na">create</span><span class="p">();</span>
<a id="__codelineno-92-35" name="__codelineno-92-35"></a>
<a id="__codelineno-92-36" name="__codelineno-92-36"></a><span class="w">            </span><span class="c1">// Insert Vectors</span>
<a id="__codelineno-92-37" name="__codelineno-92-37"></a><span class="w">            </span><span class="n">String</span><span class="w"> </span><span class="n">partitionId</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">UUID</span><span class="p">.</span><span class="na">randomUUID</span><span class="p">().</span><span class="na">toString</span><span class="p">();</span>
<a id="__codelineno-92-38" name="__codelineno-92-38"></a><span class="w">            </span><span class="n">ClusteredMetadataVectorRecord</span><span class="w"> </span><span class="n">record</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">new</span><span class="w"> </span><span class="n">ClusteredMetadataVectorRecord</span><span class="p">();</span>
<a id="__codelineno-92-39" name="__codelineno-92-39"></a><span class="w">            </span><span class="kd">record</span><span class="err">.</span><span class="nc">setVector</span><span class="p">(</span><span class="n">List</span><span class="p">.</span><span class="na">of</span><span class="p">(</span><span class="mf">0.1f</span><span class="p">,</span><span class="w"> </span><span class="mf">0.2f</span><span class="p">,</span><span class="w"> </span><span class="mf">0.3f</span><span class="p">,</span><span class="w"> </span><span class="mf">0.4f</span><span class="p">));</span>
<a id="__codelineno-92-40" name="__codelineno-92-40"></a><span class="w">            </span><span class="kd">record</span><span class="err">.</span><span class="nc">setMetadata</span><span class="p">(</span><span class="n">Map</span><span class="p">.</span><span class="na">of</span><span class="p">(</span><span class="s">&quot;key&quot;</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;value&quot;</span><span class="p">));</span>
<a id="__codelineno-92-41" name="__codelineno-92-41"></a><span class="w">            </span><span class="kd">record</span><span class="err">.</span><span class="nc">setPartitionId</span><span class="p">(</span><span class="n">partitionId</span><span class="p">);</span>
<a id="__codelineno-92-42" name="__codelineno-92-42"></a><span class="w">            </span><span class="kd">record</span><span class="err">.</span><span class="nc">setBody</span><span class="p">(</span><span class="s">&quot;Sample text fragment&quot;</span><span class="p">);</span>
<a id="__codelineno-92-43" name="__codelineno-92-43"></a><span class="w">            </span><span class="kd">record</span><span class="err">.</span><span class="nc">setAttributes</span><span class="p">(</span><span class="s">&quot;handy field for special attributes&quot;</span><span class="p">);</span>
<a id="__codelineno-92-44" name="__codelineno-92-44"></a><span class="w">            </span><span class="n">vector_Store</span><span class="p">.</span><span class="na">put</span><span class="p">(</span><span class="n">record</span><span class="p">);</span>
<a id="__codelineno-92-45" name="__codelineno-92-45"></a>
<a id="__codelineno-92-46" name="__codelineno-92-46"></a><span class="w">            </span><span class="c1">// Semantic Search</span>
<a id="__codelineno-92-47" name="__codelineno-92-47"></a><span class="w">            </span><span class="n">AnnQuery</span><span class="w"> </span><span class="n">query</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">AnnQuery</span>
<a id="__codelineno-92-48" name="__codelineno-92-48"></a><span class="w">                    </span><span class="p">.</span><span class="na">builder</span><span class="p">()</span>
<a id="__codelineno-92-49" name="__codelineno-92-49"></a><span class="w">                   </span><span class="p">.</span><span class="na">embeddings</span><span class="p">(</span><span class="n">List</span><span class="p">.</span><span class="na">of</span><span class="p">(</span><span class="mf">0.1f</span><span class="p">,</span><span class="w"> </span><span class="mf">0.2f</span><span class="p">,</span><span class="w"> </span><span class="mf">0.3f</span><span class="p">,</span><span class="w"> </span><span class="mf">0.4f</span><span class="p">))</span>
<a id="__codelineno-92-50" name="__codelineno-92-50"></a><span class="w">                   </span><span class="p">.</span><span class="na">metaData</span><span class="p">(</span><span class="n">Map</span><span class="p">.</span><span class="na">of</span><span class="p">(</span><span class="n">PARTITION_ID</span><span class="p">,</span><span class="w"> </span><span class="n">partitionId</span><span class="p">))</span>
<a id="__codelineno-92-51" name="__codelineno-92-51"></a><span class="w">                   </span><span class="p">.</span><span class="na">build</span><span class="p">();</span>
<a id="__codelineno-92-52" name="__codelineno-92-52"></a>
<a id="__codelineno-92-53" name="__codelineno-92-53"></a><span class="w">            </span><span class="n">vector_Store</span><span class="p">.</span><span class="na">similaritySearch</span><span class="p">(</span><span class="n">query</span><span class="p">).</span><span class="na">forEach</span><span class="p">(</span><span class="n">result</span><span class="w"> </span><span class="o">-&gt;</span><span class="w"> </span><span class="p">{</span>
<a id="__codelineno-92-54" name="__codelineno-92-54"></a><span class="w">                </span><span class="n">System</span><span class="p">.</span><span class="na">out</span><span class="p">.</span><span class="na">println</span><span class="p">(</span><span class="s">&quot;Similarity : &quot;</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="n">result</span><span class="p">.</span><span class="na">getSimilarity</span><span class="p">());</span>
<a id="__codelineno-92-55" name="__codelineno-92-55"></a><span class="w">                </span><span class="n">System</span><span class="p">.</span><span class="na">out</span><span class="p">.</span><span class="na">println</span><span class="p">(</span><span class="s">&quot;Record : &quot;</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="n">result</span><span class="p">.</span><span class="na">getEmbedded</span><span class="p">().</span><span class="na">getBody</span><span class="p">());</span>
<a id="__codelineno-92-56" name="__codelineno-92-56"></a><span class="w">            </span><span class="p">});</span>
<a id="__codelineno-92-57" name="__codelineno-92-57"></a><span class="w">        </span><span class="p">}</span>
<a id="__codelineno-92-58" name="__codelineno-92-58"></a><span class="w">    </span><span class="p">}</span>
<a id="__codelineno-92-59" name="__codelineno-92-59"></a><span class="p">}</span>
</code></pre></div></td></tr></table></div>
<h2 id="8-working-with-langchain4j">8. Working with Langchain4j<a class="headerlink" href="#8-working-with-langchain4j" title="Permanent link">&para;</a></h2>
<div class="highlight"><pre><span></span><code><a id="__codelineno-93-1" name="__codelineno-93-1" href="#__codelineno-93-1"></a>
</code></pre></div>

  <hr>
<div class="md-source-file">
  <small>
    
      Last update:
      2024-02-09
    
  </small>
</div>


  




                
              </article>
            </div>
          
          
        </div>
        
          <button type="button" class="md-top md-icon" data-md-component="top" hidden>
            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M13 20h-2V8l-5.5 5.5-1.42-1.42L12 4.16l7.92 7.92-1.42 1.42L13 8v12Z"/></svg>
            Back to top
          </button>
        
      </main>
      
<footer class="md-footer">
    <div class="md-footer-meta md-typeset">
        <div class="md-footer-meta__inner md-grid">
            <!-- Copyright and theme information -->
            <div class="md-footer-copyright">
                
                Built by DataStax powered by
                <a href="https://www.mkdocs.org" title="MkDocs">MkDocs</a>
                and
                <a href="https://squidfunk.github.io/mkdocs-material/"
                   title="Material for MkDocs">
                    Material for MkDocs</a>
            </div>
            
            <div class="md-social">
  
    
    
    
    
      
      
    
    <a href="https://dtsx.io/discord" target="_blank" rel="noopener" title="dtsx.io" class="md-social__link">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 640 512"><!--! Font Awesome Free 6.4.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2023 Fonticons, Inc.--><path d="M524.531 69.836a1.5 1.5 0 0 0-.764-.7A485.065 485.065 0 0 0 404.081 32.03a1.816 1.816 0 0 0-1.923.91 337.461 337.461 0 0 0-14.9 30.6 447.848 447.848 0 0 0-134.426 0 309.541 309.541 0 0 0-15.135-30.6 1.89 1.89 0 0 0-1.924-.91 483.689 483.689 0 0 0-119.688 37.107 1.712 1.712 0 0 0-.788.676C39.068 183.651 18.186 294.69 28.43 404.354a2.016 2.016 0 0 0 .765 1.375 487.666 487.666 0 0 0 146.825 74.189 1.9 1.9 0 0 0 2.063-.676A348.2 348.2 0 0 0 208.12 430.4a1.86 1.86 0 0 0-1.019-2.588 321.173 321.173 0 0 1-45.868-21.853 1.885 1.885 0 0 1-.185-3.126 251.047 251.047 0 0 0 9.109-7.137 1.819 1.819 0 0 1 1.9-.256c96.229 43.917 200.41 43.917 295.5 0a1.812 1.812 0 0 1 1.924.233 234.533 234.533 0 0 0 9.132 7.16 1.884 1.884 0 0 1-.162 3.126 301.407 301.407 0 0 1-45.89 21.83 1.875 1.875 0 0 0-1 2.611 391.055 391.055 0 0 0 30.014 48.815 1.864 1.864 0 0 0 2.063.7A486.048 486.048 0 0 0 610.7 405.729a1.882 1.882 0 0 0 .765-1.352c12.264-126.783-20.532-236.912-86.934-334.541ZM222.491 337.58c-28.972 0-52.844-26.587-52.844-59.239s23.409-59.241 52.844-59.241c29.665 0 53.306 26.82 52.843 59.239 0 32.654-23.41 59.241-52.843 59.241Zm195.38 0c-28.971 0-52.843-26.587-52.843-59.239s23.409-59.241 52.843-59.241c29.667 0 53.307 26.82 52.844 59.239 0 32.654-23.177 59.241-52.844 59.241Z"/></svg>
    </a>
  
    
    
    
    
      
      
    
    <a href="https://www.facebook.com/datastax" target="_blank" rel="noopener" title="www.facebook.com" class="md-social__link">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><!--! Font Awesome Free 6.4.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2023 Fonticons, Inc.--><path d="M504 256C504 119 393 8 256 8S8 119 8 256c0 123.78 90.69 226.38 209.25 245V327.69h-63V256h63v-54.64c0-62.15 37-96.48 93.67-96.48 27.14 0 55.52 4.84 55.52 4.84v61h-31.28c-30.8 0-40.41 19.12-40.41 38.73V256h68.78l-11 71.69h-57.78V501C413.31 482.38 504 379.78 504 256z"/></svg>
    </a>
  
    
    
    
    
      
      
    
    <a href="https://github.com/datastaxdevs" target="_blank" rel="noopener" title="github.com" class="md-social__link">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 496 512"><!--! Font Awesome Free 6.4.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2023 Fonticons, Inc.--><path d="M165.9 397.4c0 2-2.3 3.6-5.2 3.6-3.3.3-5.6-1.3-5.6-3.6 0-2 2.3-3.6 5.2-3.6 3-.3 5.6 1.3 5.6 3.6zm-31.1-4.5c-.7 2 1.3 4.3 4.3 4.9 2.6 1 5.6 0 6.2-2s-1.3-4.3-4.3-5.2c-2.6-.7-5.5.3-6.2 2.3zm44.2-1.7c-2.9.7-4.9 2.6-4.6 4.9.3 2 2.9 3.3 5.9 2.6 2.9-.7 4.9-2.6 4.6-4.6-.3-1.9-3-3.2-5.9-2.9zM244.8 8C106.1 8 0 113.3 0 252c0 110.9 69.8 205.8 169.5 239.2 12.8 2.3 17.3-5.6 17.3-12.1 0-6.2-.3-40.4-.3-61.4 0 0-70 15-84.7-29.8 0 0-11.4-29.1-27.8-36.6 0 0-22.9-15.7 1.6-15.4 0 0 24.9 2 38.6 25.8 21.9 38.6 58.6 27.5 72.9 20.9 2.3-16 8.8-27.1 16-33.7-55.9-6.2-112.3-14.3-112.3-110.5 0-27.5 7.6-41.3 23.6-58.9-2.6-6.5-11.1-33.3 2.6-67.9 20.9-6.5 69 27 69 27 20-5.6 41.5-8.5 62.8-8.5s42.8 2.9 62.8 8.5c0 0 48.1-33.6 69-27 13.7 34.7 5.2 61.4 2.6 67.9 16 17.7 25.8 31.5 25.8 58.9 0 96.5-58.9 104.2-114.8 110.5 9.2 7.9 17 22.9 17 46.4 0 33.7-.3 75.4-.3 83.6 0 6.5 4.6 14.4 17.3 12.1C428.2 457.8 496 362.9 496 252 496 113.3 383.5 8 244.8 8zM97.2 352.9c-1.3 1-1 3.3.7 5.2 1.6 1.6 3.9 2.3 5.2 1 1.3-1 1-3.3-.7-5.2-1.6-1.6-3.9-2.3-5.2-1zm-10.8-8.1c-.7 1.3.3 2.9 2.3 3.9 1.6 1 3.6.7 4.3-.7.7-1.3-.3-2.9-2.3-3.9-2-.6-3.6-.3-4.3.7zm32.4 35.6c-1.6 1.3-1 4.3 1.3 6.2 2.3 2.3 5.2 2.6 6.5 1 1.3-1.3.7-4.3-1.3-6.2-2.2-2.3-5.2-2.6-6.5-1zm-11.4-14.7c-1.6 1-1.6 3.6 0 5.9 1.6 2.3 4.3 3.3 5.6 2.3 1.6-1.3 1.6-3.9 0-6.2-1.4-2.3-4-3.3-5.6-2z"/></svg>
    </a>
  
    
    
    
    
      
      
    
    <a href="https://datastax.medium.com/" target="_blank" rel="noopener" title="datastax.medium.com" class="md-social__link">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 640 512"><!--! Font Awesome Free 6.4.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2023 Fonticons, Inc.--><path d="M180.5 74.262C80.813 74.262 0 155.633 0 256s80.819 181.738 180.5 181.738S361 356.373 361 256 280.191 74.262 180.5 74.262Zm288.25 10.646c-49.845 0-90.245 76.619-90.245 171.095s40.406 171.1 90.251 171.1 90.251-76.619 90.251-171.1H559c0-94.503-40.4-171.095-90.248-171.095Zm139.506 17.821c-17.526 0-31.735 68.628-31.735 153.274s14.2 153.274 31.735 153.274S640 340.631 640 256c0-84.649-14.215-153.271-31.742-153.271Z"/></svg>
    </a>
  
    
    
    
    
      
      
    
    <a href="https://www.twitch.tv/datastaxdevs" target="_blank" rel="noopener" title="www.twitch.tv" class="md-social__link">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><!--! Font Awesome Free 6.4.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2023 Fonticons, Inc.--><path d="M391.17 103.47h-38.63v109.7h38.63ZM285 103h-38.63v109.75H285ZM120.83 0 24.31 91.42v329.16h115.83V512l96.53-91.42h77.25L487.69 256V0Zm328.24 237.75-77.22 73.12h-77.24l-67.6 64v-64h-86.87V36.58h308.93Z"/></svg>
    </a>
  
    
    
    
    
      
      
    
    <a href="https://twitter.com/datastax" target="_blank" rel="noopener" title="twitter.com" class="md-social__link">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><!--! Font Awesome Free 6.4.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2023 Fonticons, Inc.--><path d="M459.37 151.716c.325 4.548.325 9.097.325 13.645 0 138.72-105.583 298.558-298.558 298.558-59.452 0-114.68-17.219-161.137-47.106 8.447.974 16.568 1.299 25.34 1.299 49.055 0 94.213-16.568 130.274-44.832-46.132-.975-84.792-31.188-98.112-72.772 6.498.974 12.995 1.624 19.818 1.624 9.421 0 18.843-1.3 27.614-3.573-48.081-9.747-84.143-51.98-84.143-102.985v-1.299c13.969 7.797 30.214 12.67 47.431 13.319-28.264-18.843-46.781-51.005-46.781-87.391 0-19.492 5.197-37.36 14.294-52.954 51.655 63.675 129.3 105.258 216.365 109.807-1.624-7.797-2.599-15.918-2.599-24.04 0-57.828 46.782-104.934 104.934-104.934 30.213 0 57.502 12.67 76.67 33.137 23.715-4.548 46.456-13.32 66.599-25.34-7.798 24.366-24.366 44.833-46.132 57.827 21.117-2.273 41.584-8.122 60.426-16.243-14.292 20.791-32.161 39.308-52.628 54.253z"/></svg>
    </a>
  
    
    
    
    
      
      
    
    <a href="https://www.youtube.com/channel/UCAIQY251avaMv7bBv5PCo-A" target="_blank" rel="noopener" title="www.youtube.com" class="md-social__link">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 576 512"><!--! Font Awesome Free 6.4.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2023 Fonticons, Inc.--><path d="M549.655 124.083c-6.281-23.65-24.787-42.276-48.284-48.597C458.781 64 288 64 288 64S117.22 64 74.629 75.486c-23.497 6.322-42.003 24.947-48.284 48.597-11.412 42.867-11.412 132.305-11.412 132.305s0 89.438 11.412 132.305c6.281 23.65 24.787 41.5 48.284 47.821C117.22 448 288 448 288 448s170.78 0 213.371-11.486c23.497-6.321 42.003-24.171 48.284-47.821 11.412-42.867 11.412-132.305 11.412-132.305s0-89.438-11.412-132.305zm-317.51 213.508V175.185l142.739 81.205-142.739 81.201z"/></svg>
    </a>
  
</div>
            
        </div>
    </div>
</footer>

    </div>
    <div class="md-dialog" data-md-component="dialog">
      <div class="md-dialog__inner md-typeset"></div>
    </div>
    
    <script id="__config" type="application/json">{"base": "../../../..", "features": ["content.code.annotate", "content.code.copy", "navigation.indexes", "navigation.sections", "navigation.tabs", "navigation.top", "navigation.tracking", "search.highlight", "search.share", "search.suggest", "toc.follow"], "search": "../../../../assets/javascripts/workers/search.208ed371.min.js", "translations": {"clipboard.copied": "Copied to clipboard", "clipboard.copy": "Copy to clipboard", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.placeholder": "Type to start searching", "search.result.term.missing": "Missing", "select.version": "Select version"}}</script>
    
    
      <script src="../../../../assets/javascripts/bundle.b4d07000.min.js"></script>
      
    
  </body>
</html>