<!-- Elements added to main will be displayed on all pages -->

<!doctype html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
        <meta name="description" content="GCP DataFlow is a managed service for batch and streaming data processing pipelines. GCP DataFlow is based on Apache Beam.">
      
      
        <meta name="author" content="Cedrick Lunven">
      
      
        <link rel="canonical" href="https://awesome-astra.github.io/pages/tools/integration/apache-beam-google-dataflow/">
      
      
        <link rel="prev" href="../feast/">
      
      
        <link rel="next" href="../vault/">
      
      <link rel="icon" href="../../../../img/favicon.svg">
      <meta name="generator" content="mkdocs-1.4.3, mkdocs-material-9.1.18">
    
    
      
        <title>GCP Dataflow - Awesome-Astra</title>
      
    
    
      <link rel="stylesheet" href="../../../../assets/stylesheets/main.26e3688c.min.css">
      
        
        <link rel="stylesheet" href="../../../../assets/stylesheets/palette.ecc896b0.min.css">
      
      

    
    
    
      
        
        
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,300i,400,400i,700,700i%7CRoboto+Mono:400,400i,700,700i&display=fallback">
        <style>:root{--md-text-font:"Roboto";--md-code-font:"Roboto Mono"}</style>
      
    
    
    <script>__md_scope=new URL("../../../..",location),__md_hash=e=>[...e].reduce((e,_)=>(e<<5)-e+_.charCodeAt(0),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script>
    
      
  


  
  


  <script id="__analytics">function __md_analytics(){function n(){dataLayer.push(arguments)}window.dataLayer=window.dataLayer||[],n("js",new Date),n("config","G-MDYTQ5XG33"),document.addEventListener("DOMContentLoaded",function(){document.forms.search&&document.forms.search.query.addEventListener("blur",function(){this.value&&n("event","search",{search_term:this.value})}),document$.subscribe(function(){var a=document.forms.feedback;if(void 0!==a)for(var e of a.querySelectorAll("[type=submit]"))e.addEventListener("click",function(e){e.preventDefault();var t=document.location.pathname,e=this.getAttribute("data-md-value");n("event","feedback",{page:t,data:e}),a.firstElementChild.disabled=!0;e=a.querySelector(".md-feedback__note [data-md-value='"+e+"']");e&&(e.hidden=!1)}),a.hidden=!1}),location$.subscribe(function(e){n("config","G-MDYTQ5XG33",{page_path:e.pathname})})});var e=document.createElement("script");e.async=!0,e.src="https://www.googletagmanager.com/gtag/js?id=G-MDYTQ5XG33",document.getElementById("__analytics").insertAdjacentElement("afterEnd",e)}</script>

  
    <script>"undefined"!=typeof __md_analytics&&__md_analytics()</script>
  

    
    
    
  </head>
  
  
    
    
      
    
    
    
    
    <body dir="ltr" data-md-color-scheme="default" data-md-color-primary="indigo" data-md-color-accent="indigo">
  
    
    
      <script>var palette=__md_get("__palette");if(palette&&"object"==typeof palette.color)for(var key of Object.keys(palette.color))document.body.setAttribute("data-md-color-"+key,palette.color[key])</script>
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#overview" class="md-skip">
          Skip to content
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
    
      

<header class="md-header" data-md-component="header">
  <nav class="md-header__inner md-grid" aria-label="Header">
    <a href="../../../.." title="Awesome-Astra" class="md-header__button md-logo" aria-label="Awesome-Astra" data-md-component="logo">
      
  <img src="../../../../img/favicon.ico" alt="logo">

    </a>
    <label class="md-header__button md-icon" for="__drawer">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3V6m0 5h18v2H3v-2m0 5h18v2H3v-2Z"/></svg>
    </label>
    <div class="md-header__title" data-md-component="header-title">
      <div class="md-header__ellipsis">
        <div class="md-header__topic">
          <span class="md-ellipsis">
            Awesome-Astra
          </span>
        </div>
        <div class="md-header__topic" data-md-component="header-topic">
          <span class="md-ellipsis">
            
              GCP Dataflow
            
          </span>
        </div>
      </div>
    </div>
    
      
        <form class="md-header__option" data-md-component="palette">
          
            
            
            
            <input class="md-option" data-md-color-media="" data-md-color-scheme="default" data-md-color-primary="indigo" data-md-color-accent="indigo"  aria-label="Switch to light mode"  type="radio" name="__palette" id="__palette_1">
            
              <label class="md-header__button md-icon" title="Switch to light mode" for="__palette_2" hidden>
                <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="m17.75 4.09-2.53 1.94.91 3.06-2.63-1.81-2.63 1.81.91-3.06-2.53-1.94L12.44 4l1.06-3 1.06 3 3.19.09m3.5 6.91-1.64 1.25.59 1.98-1.7-1.17-1.7 1.17.59-1.98L15.75 11l2.06-.05L18.5 9l.69 1.95 2.06.05m-2.28 4.95c.83-.08 1.72 1.1 1.19 1.85-.32.45-.66.87-1.08 1.27C15.17 23 8.84 23 4.94 19.07c-3.91-3.9-3.91-10.24 0-14.14.4-.4.82-.76 1.27-1.08.75-.53 1.93.36 1.85 1.19-.27 2.86.69 5.83 2.89 8.02a9.96 9.96 0 0 0 8.02 2.89m-1.64 2.02a12.08 12.08 0 0 1-7.8-3.47c-2.17-2.19-3.33-5-3.49-7.82-2.81 3.14-2.7 7.96.31 10.98 3.02 3.01 7.84 3.12 10.98.31Z"/></svg>
              </label>
            
          
            
            
            
            <input class="md-option" data-md-color-media="" data-md-color-scheme="slate" data-md-color-primary="teal" data-md-color-accent="teal"  aria-label="Switch to dark mode"  type="radio" name="__palette" id="__palette_2">
            
              <label class="md-header__button md-icon" title="Switch to dark mode" for="__palette_1" hidden>
                <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 7a5 5 0 0 1 5 5 5 5 0 0 1-5 5 5 5 0 0 1-5-5 5 5 0 0 1 5-5m0 2a3 3 0 0 0-3 3 3 3 0 0 0 3 3 3 3 0 0 0 3-3 3 3 0 0 0-3-3m0-7 2.39 3.42C13.65 5.15 12.84 5 12 5c-.84 0-1.65.15-2.39.42L12 2M3.34 7l4.16-.35A7.2 7.2 0 0 0 5.94 8.5c-.44.74-.69 1.5-.83 2.29L3.34 7m.02 10 1.76-3.77a7.131 7.131 0 0 0 2.38 4.14L3.36 17M20.65 7l-1.77 3.79a7.023 7.023 0 0 0-2.38-4.15l4.15.36m-.01 10-4.14.36c.59-.51 1.12-1.14 1.54-1.86.42-.73.69-1.5.83-2.29L20.64 17M12 22l-2.41-3.44c.74.27 1.55.44 2.41.44.82 0 1.63-.17 2.37-.44L12 22Z"/></svg>
              </label>
            
          
        </form>
      
    
    
    
      <label class="md-header__button md-icon" for="__search">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5Z"/></svg>
      </label>
      <div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" aria-label="Search" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="search-query" required>
      <label class="md-search__icon md-icon" for="__search">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5Z"/></svg>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12Z"/></svg>
      </label>
      <nav class="md-search__options" aria-label="Search">
        
          <a href="javascript:void(0)" class="md-search__icon md-icon" title="Share" aria-label="Share" data-clipboard data-clipboard-text="" data-md-component="search-share" tabindex="-1">
            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M18 16.08c-.76 0-1.44.3-1.96.77L8.91 12.7c.05-.23.09-.46.09-.7 0-.24-.04-.47-.09-.7l7.05-4.11c.54.5 1.25.81 2.04.81a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3c0 .24.04.47.09.7L8.04 9.81C7.5 9.31 6.79 9 6 9a3 3 0 0 0-3 3 3 3 0 0 0 3 3c.79 0 1.5-.31 2.04-.81l7.12 4.15c-.05.21-.08.43-.08.66 0 1.61 1.31 2.91 2.92 2.91 1.61 0 2.92-1.3 2.92-2.91A2.92 2.92 0 0 0 18 16.08Z"/></svg>
          </a>
        
        <button type="reset" class="md-search__icon md-icon" title="Clear" aria-label="Clear" tabindex="-1">
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12 19 6.41Z"/></svg>
        </button>
      </nav>
      
        <div class="md-search__suggest" data-md-component="search-suggest"></div>
      
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" data-md-scrollfix>
        <div class="md-search-result" data-md-component="search-result">
          <div class="md-search-result__meta">
            Initializing search
          </div>
          <ol class="md-search-result__list" role="presentation"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
    
    
      <div class="md-header__source">
        <a href="https://github.com/awesome-astra/docs" title="Go to repository" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><!--! Font Awesome Free 6.4.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2023 Fonticons, Inc.--><path d="M439.55 236.05 244 40.45a28.87 28.87 0 0 0-40.81 0l-40.66 40.63 51.52 51.52c27.06-9.14 52.68 16.77 43.39 43.68l49.66 49.66c34.23-11.8 61.18 31 35.47 56.69-26.49 26.49-70.21-2.87-56-37.34L240.22 199v121.85c25.3 12.54 22.26 41.85 9.08 55a34.34 34.34 0 0 1-48.55 0c-17.57-17.6-11.07-46.91 11.25-56v-123c-20.8-8.51-24.6-30.74-18.64-45L142.57 101 8.45 235.14a28.86 28.86 0 0 0 0 40.81l195.61 195.6a28.86 28.86 0 0 0 40.8 0l194.69-194.69a28.86 28.86 0 0 0 0-40.81z"/></svg>
  </div>
  <div class="md-source__repository">
    awesome-astra/docs
  </div>
</a>
      </div>
    
  </nav>
  
</header>
    
    <div class="md-container" data-md-component="container">
      
      
        
          
            
<nav class="md-tabs" aria-label="Tabs" data-md-component="tabs">
  <div class="md-grid">
    <ul class="md-tabs__list">
      
        
  
  


  <li class="md-tabs__item">
    <a href="../../../.." class="md-tabs__link">
      Home
    </a>
  </li>

      
        
  
  


  
  
  
    <li class="md-tabs__item">
      <a href="../../../astra/" class="md-tabs__link">
        Get Started
      </a>
    </li>
  

      
        
  
  


  
  
  
    <li class="md-tabs__item">
      <a href="../../../data/" class="md-tabs__link">
        Manage Data
      </a>
    </li>
  

      
        
  
  


  
  
  
    <li class="md-tabs__item">
      <a href="../../../develop/" class="md-tabs__link">
        Developers
      </a>
    </li>
  

      
        
  
  


  
  
  
    <li class="md-tabs__item">
      <a href="../../../aiml/" class="md-tabs__link">
        AI/ML 🆕
      </a>
    </li>
  

      
        
  
  
    
  


  
  
  
    <li class="md-tabs__item">
      <a href="../../" class="md-tabs__link md-tabs__link--active">
        Tools/Integrations
      </a>
    </li>
  

      
        
  
  


  
  
  
    <li class="md-tabs__item">
      <a href="../../../gallery/" class="md-tabs__link">
        Sample App Gallery
      </a>
    </li>
  

      
        
  
  


  
  
  
    <li class="md-tabs__item">
      <a href="../../../contact/" class="md-tabs__link">
        Contact Us
      </a>
    </li>
  

      
    </ul>
  </div>
</nav>
          
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              
              <div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    

  


<nav class="md-nav md-nav--primary md-nav--lifted" aria-label="Navigation" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href="../../../.." title="Awesome-Astra" class="md-nav__button md-logo" aria-label="Awesome-Astra" data-md-component="logo">
      
  <img src="../../../../img/favicon.ico" alt="logo">

    </a>
    Awesome-Astra
  </label>
  
    <div class="md-nav__source">
      <a href="https://github.com/awesome-astra/docs" title="Go to repository" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><!--! Font Awesome Free 6.4.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2023 Fonticons, Inc.--><path d="M439.55 236.05 244 40.45a28.87 28.87 0 0 0-40.81 0l-40.66 40.63 51.52 51.52c27.06-9.14 52.68 16.77 43.39 43.68l49.66 49.66c34.23-11.8 61.18 31 35.47 56.69-26.49 26.49-70.21-2.87-56-37.34L240.22 199v121.85c25.3 12.54 22.26 41.85 9.08 55a34.34 34.34 0 0 1-48.55 0c-17.57-17.6-11.07-46.91 11.25-56v-123c-20.8-8.51-24.6-30.74-18.64-45L142.57 101 8.45 235.14a28.86 28.86 0 0 0 0 40.81l195.61 195.6a28.86 28.86 0 0 0 40.8 0l194.69-194.69a28.86 28.86 0 0 0 0-40.81z"/></svg>
  </div>
  <div class="md-source__repository">
    awesome-astra/docs
  </div>
</a>
    </div>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../../../.." class="md-nav__link">
        Home
      </a>
    </li>
  

    
      
      
      

  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
      
      
      <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_2" >
      
      
        
          
            
          
        
          
        
          
        
          
        
          
        
      
      
        
        
        <div class="md-nav__link md-nav__link--index ">
          <a href="../../../astra/">Get Started</a>
          
            <label for="__nav_2">
              <span class="md-nav__icon md-icon"></span>
            </label>
          
        </div>
      
      <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_2_label" aria-expanded="false">
        <label class="md-nav__title" for="__nav_2">
          <span class="md-nav__icon md-icon"></span>
          Get Started
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
          
            
              
  
  
  
    
      
    
    <li class="md-nav__item md-nav__item--section md-nav__item--nested">
      
      
      
      
      <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_2_2" >
      
      
        
          
        
          
        
          
        
          
        
      
      
        <label class="md-nav__link" for="__nav_2_2" id="__nav_2_2_label" tabindex="0">
          Astra Core
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_2_2_label" aria-expanded="false">
        <label class="md-nav__title" for="__nav_2_2">
          <span class="md-nav__icon md-icon"></span>
          Astra Core
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../astra/create-account/" class="md-nav__link">
        ‣ Create Account
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../astra/create-token/" class="md-nav__link">
        ‣ Create Token
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../astra/astra-cli/" class="md-nav__link">
        ‣ Astra CLI
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../astra/faq/" class="md-nav__link">
        ‣ FAQ
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

            
          
            
              
  
  
  
    
      
    
    <li class="md-nav__item md-nav__item--section md-nav__item--nested">
      
      
      
      
      <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_2_3" >
      
      
        
          
        
          
        
          
        
          
        
          
        
      
      
        <label class="md-nav__link" for="__nav_2_3" id="__nav_2_3_label" tabindex="0">
          Astra DB
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_2_3_label" aria-expanded="false">
        <label class="md-nav__title" for="__nav_2_3">
          <span class="md-nav__icon md-icon"></span>
          Astra DB
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../astra/create-instance/" class="md-nav__link">
        ‣ Create Database
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../astra/download-scb/" class="md-nav__link">
        ‣ Secure Connect Bundle
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../astra/resume-db/" class="md-nav__link">
        ‣ Resume a database
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../astra/multi-regions/" class="md-nav__link">
        ‣ Multi Regions
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../astra/cqlproxy/" class="md-nav__link">
        ‣ CQL Proxy
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

            
          
            
              
  
  
  
    
      
    
    <li class="md-nav__item md-nav__item--section md-nav__item--nested">
      
      
      
      
      <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_2_4" >
      
      
        
          
        
          
        
      
      
        <label class="md-nav__link" for="__nav_2_4" id="__nav_2_4_label" tabindex="0">
          Astra Streaming
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_2_4_label" aria-expanded="false">
        <label class="md-nav__title" for="__nav_2_4">
          <span class="md-nav__icon md-icon"></span>
          Astra Streaming
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../astra/create-topic/" class="md-nav__link">
        ‣ Create Topic
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../astra/cdc-for-astra/" class="md-nav__link">
        ‣ CDC for Astra Streaming
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

            
          
            
              
  
  
  
    
      
    
    <li class="md-nav__item md-nav__item--section md-nav__item--nested">
      
      
      
      
      <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_2_5" >
      
      
        
          
        
      
      
        <label class="md-nav__link" for="__nav_2_5" id="__nav_2_5_label" tabindex="0">
          Explore Stargate
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_2_5_label" aria-expanded="false">
        <label class="md-nav__title" for="__nav_2_5">
          <span class="md-nav__icon md-icon"></span>
          Explore Stargate
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../astra/astra-httpie/" class="md-nav__link">
        ‣ HTTPie
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

    
      
      
      

  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
      
      
      <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_3" >
      
      
        
          
            
          
        
          
        
          
        
          
        
      
      
        
        
        <div class="md-nav__link md-nav__link--index ">
          <a href="../../../data/">Manage Data</a>
          
            <label for="__nav_3">
              <span class="md-nav__icon md-icon"></span>
            </label>
          
        </div>
      
      <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_3_label" aria-expanded="false">
        <label class="md-nav__title" for="__nav_3">
          <span class="md-nav__icon md-icon"></span>
          Manage Data
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
          
            
              
  
  
  
    
      
    
    <li class="md-nav__item md-nav__item--section md-nav__item--nested">
      
      
      
      
      <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_3_2" >
      
      
        
          
        
          
        
          
        
      
      
        <label class="md-nav__link" for="__nav_3_2" id="__nav_3_2_label" tabindex="0">
          Load Data
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_3_2_label" aria-expanded="false">
        <label class="md-nav__title" for="__nav_3_2">
          <span class="md-nav__icon md-icon"></span>
          Load Data
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../data/load/astra-data-loader/" class="md-nav__link">
        ‣ Astra Data Loader
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../data/load/dsbulk/" class="md-nav__link">
        ‣ DSBulk
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../data/load/nosqlbench/" class="md-nav__link">
        ‣ NoSQL Bench
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

            
          
            
              
  
  
  
    
      
    
    <li class="md-nav__item md-nav__item--section md-nav__item--nested">
      
      
      
      
      <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_3_3" >
      
      
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
      
      
        <label class="md-nav__link" for="__nav_3_3" id="__nav_3_3_label" tabindex="0">
          Explore Data
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_3_3_label" aria-expanded="false">
        <label class="md-nav__title" for="__nav_3_3">
          <span class="md-nav__icon md-icon"></span>
          Explore Data
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../data/explore/cqlsh/" class="md-nav__link">
        ‣ Cqlsh
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../data/explore/netflix-data-explorer/" class="md-nav__link">
        ‣ Netflix Data Explorer
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../data/explore/datagrip/" class="md-nav__link">
        ‣ Datagrip
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../data/explore/dbschema/" class="md-nav__link">
        ‣ DBSchema
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../data/explore/dbeaver/" class="md-nav__link">
        ‣ DBeaver
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../grafana/" class="md-nav__link">
        ‣ Grafana
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../data/explore/mindsdb/" class="md-nav__link">
        ‣ MindsDB
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../data/explore/presto/" class="md-nav__link">
        ‣ Presto
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../data/explore/tableau/" class="md-nav__link">
        ‣ Tableau
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../data/explore/tableplus/" class="md-nav__link">
        ‣ TablePlus
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../data/explore/trino/" class="md-nav__link">
        ‣ Trino
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

            
          
            
              
  
  
  
    
      
    
    <li class="md-nav__item md-nav__item--section md-nav__item--nested">
      
      
      
      
      <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_3_4" >
      
      
        
          
        
      
      
        <label class="md-nav__link" for="__nav_3_4" id="__nav_3_4_label" tabindex="0">
          Data Modelling
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_3_4_label" aria-expanded="false">
        <label class="md-nav__title" for="__nav_3_4">
          <span class="md-nav__icon md-icon"></span>
          Data Modelling
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="http://kdm.kashliev.com/" class="md-nav__link">
        ‣ Kashliev KDM
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

    
      
      
      

  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
      
      
      <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_4" >
      
      
        
          
            
          
        
          
        
          
        
          
        
          
        
          
        
      
      
        
        
        <div class="md-nav__link md-nav__link--index ">
          <a href="../../../develop/">Developers</a>
          
            <label for="__nav_4">
              <span class="md-nav__icon md-icon"></span>
            </label>
          
        </div>
      
      <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_4_label" aria-expanded="false">
        <label class="md-nav__title" for="__nav_4">
          <span class="md-nav__icon md-icon"></span>
          Developers
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
          
            
              
  
  
  
    
      
    
    <li class="md-nav__item md-nav__item--section md-nav__item--nested">
      
      
      
      
      <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_4_2" >
      
      
        
          
        
      
      
        <label class="md-nav__link" for="__nav_4_2" id="__nav_4_2_label" tabindex="0">
          SDK
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_4_2_label" aria-expanded="false">
        <label class="md-nav__title" for="__nav_4_2">
          <span class="md-nav__icon md-icon"></span>
          SDK
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../develop/sdk/astra-sdk-java/" class="md-nav__link">
        • Astra SDK Java
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

            
          
            
              
  
  
  
    
      
    
    <li class="md-nav__item md-nav__item--section md-nav__item--nested">
      
      
      
      
      <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_4_3" >
      
      
        
          
        
          
        
          
        
          
        
      
      
        <label class="md-nav__link" for="__nav_4_3" id="__nav_4_3_label" tabindex="0">
          Stargate Apis
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_4_3_label" aria-expanded="false">
        <label class="md-nav__title" for="__nav_4_3">
          <span class="md-nav__icon md-icon"></span>
          Stargate Apis
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../develop/api/document/" class="md-nav__link">
        • Document
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../develop/api/rest/" class="md-nav__link">
        • REST
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../develop/api/graphql/" class="md-nav__link">
        • graphQL
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../develop/api/grpc/" class="md-nav__link">
        • gRPC
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

            
          
            
              
  
  
  
    
      
    
    <li class="md-nav__item md-nav__item--section md-nav__item--nested">
      
      
      
      
      <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_4_4" >
      
      
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
      
      
        <label class="md-nav__link" for="__nav_4_4" id="__nav_4_4_label" tabindex="0">
          Languages
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_4_4_label" aria-expanded="false">
        <label class="md-nav__title" for="__nav_4_4">
          <span class="md-nav__icon md-icon"></span>
          Languages
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../develop/languages/java/" class="md-nav__link">
        • Java
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../develop/languages/javascript/" class="md-nav__link">
        • Javascript
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../develop/languages/python/" class="md-nav__link">
        • Python
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../develop/languages/go/" class="md-nav__link">
        • GoLang
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../develop/languages/csharp/" class="md-nav__link">
        • CSharp
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../develop/languages/scala/" class="md-nav__link">
        • Scala
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../develop/languages/rust/" class="md-nav__link">
        • Rust
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

            
          
            
              
  
  
  
    
      
    
    <li class="md-nav__item md-nav__item--section md-nav__item--nested">
      
      
      
      
      <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_4_5" >
      
      
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
      
      
        <label class="md-nav__link" for="__nav_4_5" id="__nav_4_5_label" tabindex="0">
          Frameworks
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_4_5_label" aria-expanded="false">
        <label class="md-nav__title" for="__nav_4_5">
          <span class="md-nav__icon md-icon"></span>
          Frameworks
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../develop/frameworks/spring/" class="md-nav__link">
        • Spring
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../develop/frameworks/quarkus/" class="md-nav__link">
        • Quarkus
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../develop/frameworks/micronaut/" class="md-nav__link">
        • Micronaut
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../develop/frameworks/lagom/" class="md-nav__link">
        • Lagom
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../develop/frameworks/fastapi/" class="md-nav__link">
        • FastAPI
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../develop/frameworks/flask/" class="md-nav__link">
        • Flask
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../develop/frameworks/django/" class="md-nav__link">
        • Django
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

            
          
            
              
  
  
  
    
      
    
    <li class="md-nav__item md-nav__item--section md-nav__item--nested">
      
      
      
      
      <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_4_6" >
      
      
        
          
        
          
        
          
        
          
        
          
        
      
      
        <label class="md-nav__link" for="__nav_4_6" id="__nav_4_6_label" tabindex="0">
          Platform
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_4_6_label" aria-expanded="false">
        <label class="md-nav__title" for="__nav_4_6">
          <span class="md-nav__icon md-icon"></span>
          Platform
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../develop/platform/aws-gamesparks/" class="md-nav__link">
        • AWS GameSparks
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../develop/platform/aws-lambda-function/" class="md-nav__link">
        • AWS Lambda Functions
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../develop/platform/google-cloud-function/" class="md-nav__link">
        • Google Cloud Functions
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../develop/platform/azure-function/" class="md-nav__link">
        • Microsoft Azure Functions
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../develop/platform/circleci/" class="md-nav__link">
        • CircleCI
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

    
      
      
      

  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
      
      
      <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_5" >
      
      
        
          
            
          
        
          
        
      
      
        
        
        <div class="md-nav__link md-nav__link--index ">
          <a href="../../../aiml/">AI/ML 🆕</a>
          
            <label for="__nav_5">
              <span class="md-nav__icon md-icon"></span>
            </label>
          
        </div>
      
      <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_5_label" aria-expanded="false">
        <label class="md-nav__title" for="__nav_5">
          <span class="md-nav__icon md-icon"></span>
          AI/ML 🆕
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
          
            
              
  
  
  
    
      
    
    <li class="md-nav__item md-nav__item--section md-nav__item--nested">
      
      
      
      
      <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_5_2" >
      
      
        
          
        
          
        
      
      
        <label class="md-nav__link" for="__nav_5_2" id="__nav_5_2_label" tabindex="0">
          Topics
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_5_2_label" aria-expanded="false">
        <label class="md-nav__title" for="__nav_5_2">
          <span class="md-nav__icon md-icon"></span>
          Topics
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
      
      
      <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_5_2_1" >
      
      
        
          
        
      
      
        <label class="md-nav__link" for="__nav_5_2_1" id="__nav_5_2_1_label" tabindex="0">
          LLM/GenAI
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" data-md-level="3" aria-labelledby="__nav_5_2_1_label" aria-expanded="false">
        <label class="md-nav__title" for="__nav_5_2_1">
          <span class="md-nav__icon md-icon"></span>
          LLM/GenAI
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../aiml/llm/langchain/" class="md-nav__link">
        LangChain
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

            
          
            
              
  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
      
      
      <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_5_2_2" >
      
      
        
          
        
      
      
        <label class="md-nav__link" for="__nav_5_2_2" id="__nav_5_2_2_label" tabindex="0">
          ML Workloads
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" data-md-level="3" aria-labelledby="__nav_5_2_2_label" aria-expanded="false">
        <label class="md-nav__title" for="__nav_5_2_2">
          <span class="md-nav__icon md-icon"></span>
          ML Workloads
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../feast/" class="md-nav__link">
        Feast (↪)
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

    
      
      
      

  
  
    
  
  
    
    <li class="md-nav__item md-nav__item--active md-nav__item--nested">
      
      
      
      
      <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_6" checked>
      
      
        
          
            
          
        
          
        
          
        
          
        
          
        
          
        
          
        
      
      
        
        
        <div class="md-nav__link md-nav__link--index ">
          <a href="../../">Tools/Integrations</a>
          
            <label for="__nav_6">
              <span class="md-nav__icon md-icon"></span>
            </label>
          
        </div>
      
      <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_6_label" aria-expanded="true">
        <label class="md-nav__title" for="__nav_6">
          <span class="md-nav__icon md-icon"></span>
          Tools/Integrations
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
          
            
              
  
  
  
    
      
    
    <li class="md-nav__item md-nav__item--section md-nav__item--nested">
      
      
      
      
      <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_6_2" >
      
      
        
          
        
      
      
        <label class="md-nav__link" for="__nav_6_2" id="__nav_6_2_label" tabindex="0">
          Databases
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_6_2_label" aria-expanded="false">
        <label class="md-nav__title" for="__nav_6_2">
          <span class="md-nav__icon md-icon"></span>
          Databases
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../databases/janusgraph/" class="md-nav__link">
        • JanusGraph
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

            
          
            
              
  
  
  
    
      
    
    <li class="md-nav__item md-nav__item--section md-nav__item--nested">
      
      
      
      
      <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_6_3" >
      
      
        
          
        
          
        
          
        
          
        
          
        
      
      
        <label class="md-nav__link" for="__nav_6_3" id="__nav_6_3_label" tabindex="0">
          Developers IDE
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_6_3_label" aria-expanded="false">
        <label class="md-nav__title" for="__nav_6_3">
          <span class="md-nav__icon md-icon"></span>
          Developers IDE
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../ide/datastation/" class="md-nav__link">
        • DataStation
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../ide/eclipse/" class="md-nav__link">
        • Eclipse
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../ide/gitpod/" class="md-nav__link">
        • Gitpod
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../ide/intellij/" class="md-nav__link">
        • IntelliJ
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../ide/vscode/" class="md-nav__link">
        • VSCode
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

            
          
            
              
  
  
  
    
      
    
    <li class="md-nav__item md-nav__item--section md-nav__item--nested">
      
      
      
      
      <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_6_4" >
      
      
        
          
        
          
        
          
        
      
      
        <label class="md-nav__link" for="__nav_6_4" id="__nav_6_4_label" tabindex="0">
          Notebooks
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_6_4_label" aria-expanded="false">
        <label class="md-nav__title" for="__nav_6_4">
          <span class="md-nav__icon md-icon"></span>
          Notebooks
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../notebooks/jupyter/" class="md-nav__link">
        • Jupyter Notebooks
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../notebooks/datastax-studio/" class="md-nav__link">
        • DataStax Studio
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../notebooks/zeppelin/" class="md-nav__link">
        • Apache Zeppelin
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

            
          
            
              
  
  
  
    
      
    
    <li class="md-nav__item md-nav__item--section md-nav__item--nested">
      
      
      
      
      <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_6_5" >
      
      
        
          
        
      
      
        <label class="md-nav__link" for="__nav_6_5" id="__nav_6_5_label" tabindex="0">
          Data Visualization
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_6_5_label" aria-expanded="false">
        <label class="md-nav__title" for="__nav_6_5">
          <span class="md-nav__icon md-icon"></span>
          Data Visualization
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../grafana/" class="md-nav__link">
        • Grafana
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

            
          
            
              
  
  
    
  
  
    
      
    
    <li class="md-nav__item md-nav__item--active md-nav__item--section md-nav__item--nested">
      
      
      
      
      <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_6_6" checked>
      
      
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
      
      
        <label class="md-nav__link" for="__nav_6_6" id="__nav_6_6_label" tabindex="0">
          Integration Middlewares
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_6_6_label" aria-expanded="true">
        <label class="md-nav__title" for="__nav_6_6">
          <span class="md-nav__icon md-icon"></span>
          Integration Middlewares
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../apache-airflow/" class="md-nav__link">
        • Apache Airflow
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="./" class="md-nav__link">
        • Apache Beam
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../flink/" class="md-nav__link">
        • Apache Flink
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../apache-nifi/" class="md-nav__link">
        • Apache Nifi
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../apache-spark/" class="md-nav__link">
        • Apache Spark
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../authorizer/" class="md-nav__link">
        • Authorizer
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../cadence/" class="md-nav__link">
        • Cadence
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../celery/" class="md-nav__link">
        • Celery
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../feast/" class="md-nav__link">
        • Feast
      </a>
    </li>
  

            
          
            
              
  
  
    
  
  
    <li class="md-nav__item md-nav__item--active">
      
      <input class="md-nav__toggle md-toggle" type="checkbox" id="__toc">
      
      
      
        <label class="md-nav__link md-nav__link--active" for="__toc">
          • Google Dataflow
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <a href="./" class="md-nav__link md-nav__link--active">
        • Google Dataflow
      </a>
      
        

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#overview" class="md-nav__link">
    Overview
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#prerequisites" class="md-nav__link">
    Prerequisites
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#installation-and-setup" class="md-nav__link">
    Installation and Setup
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#beam-samples" class="md-nav__link">
    Beam Samples
  </a>
  
    <nav class="md-nav" aria-label="Beam Samples">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#1-import-a-csv-file" class="md-nav__link">
    1. Import a CSV File
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#2-export-table-as-csv" class="md-nav__link">
    2. Export Table as CSV
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#3-import-cassandra-table" class="md-nav__link">
    3. Import Cassandra Table
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#4-generative-ai" class="md-nav__link">
    4. Generative AI
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#google-dataflow-samples" class="md-nav__link">
    Google Dataflow Samples
  </a>
  
    <nav class="md-nav" aria-label="Google Dataflow Samples">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#1-setup-gcloud-cli" class="md-nav__link">
    1. Setup gCloud CLI
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#2-gcs-to-astradb" class="md-nav__link">
    2. GCS to AstraDB
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#3-astradb-to-gcs" class="md-nav__link">
    3. AstraDb to GCS
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#4-astradb-to-bigquery" class="md-nav__link">
    4. AstraDb to BigQuery
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#5-bigquery-to-astradb" class="md-nav__link">
    5. BigQuery to AstraDb
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#6-bigquery-dynamic-mapping" class="md-nav__link">
    6. BigQuery Dynamic Mapping
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
    </ul>
  
</nav>
      
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../vault/" class="md-nav__link">
        • HashiCorp Vault
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../liquibase/" class="md-nav__link">
        • Liquibase
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../pentaho/" class="md-nav__link">
        • Pentaho Data Integration
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../quine.io/" class="md-nav__link">
        • Quine
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../stepzen/" class="md-nav__link">
        • StepZen
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../strapi/" class="md-nav__link">
        • Strapi
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../temporal/" class="md-nav__link">
        • Temporal
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

            
          
            
              
  
  
  
    
      
    
    <li class="md-nav__item md-nav__item--section md-nav__item--nested">
      
      
      
      
      <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_6_7" >
      
      
        
          
        
          
        
      
      
        <label class="md-nav__link" for="__nav_6_7" id="__nav_6_7_label" tabindex="0">
          Plugins
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_6_7_label" aria-expanded="false">
        <label class="md-nav__title" for="__nav_6_7">
          <span class="md-nav__icon md-icon"></span>
          Plugins
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../plugins/astradb-vault-plugin/" class="md-nav__link">
        • HashiCorp Vault
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../plugins/github-actions/" class="md-nav__link">
        • Github Actions
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

    
      
      
      

  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
      
      
      <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_7" >
      
      
        
          
            
          
        
      
      
        
        
        <div class="md-nav__link md-nav__link--index ">
          <a href="../../../gallery/">Sample App Gallery</a>
          
        </div>
      
      <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_7_label" aria-expanded="false">
        <label class="md-nav__title" for="__nav_7">
          <span class="md-nav__icon md-icon"></span>
          Sample App Gallery
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
          
        </ul>
      </nav>
    </li>
  

    
      
      
      

  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
      
      
      <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_8" >
      
      
        
          
            
          
        
      
      
        
        
        <div class="md-nav__link md-nav__link--index ">
          <a href="../../../contact/">Contact Us</a>
          
        </div>
      
      <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_8_label" aria-expanded="false">
        <label class="md-nav__title" for="__nav_8">
          <span class="md-nav__icon md-icon"></span>
          Contact Us
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
          
        </ul>
      </nav>
    </li>
  

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              
              <div class="md-sidebar md-sidebar--secondary" data-md-component="sidebar" data-md-type="toc" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#overview" class="md-nav__link">
    Overview
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#prerequisites" class="md-nav__link">
    Prerequisites
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#installation-and-setup" class="md-nav__link">
    Installation and Setup
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#beam-samples" class="md-nav__link">
    Beam Samples
  </a>
  
    <nav class="md-nav" aria-label="Beam Samples">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#1-import-a-csv-file" class="md-nav__link">
    1. Import a CSV File
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#2-export-table-as-csv" class="md-nav__link">
    2. Export Table as CSV
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#3-import-cassandra-table" class="md-nav__link">
    3. Import Cassandra Table
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#4-generative-ai" class="md-nav__link">
    4. Generative AI
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#google-dataflow-samples" class="md-nav__link">
    Google Dataflow Samples
  </a>
  
    <nav class="md-nav" aria-label="Google Dataflow Samples">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#1-setup-gcloud-cli" class="md-nav__link">
    1. Setup gCloud CLI
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#2-gcs-to-astradb" class="md-nav__link">
    2. GCS to AstraDB
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#3-astradb-to-gcs" class="md-nav__link">
    3. AstraDb to GCS
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#4-astradb-to-bigquery" class="md-nav__link">
    4. AstraDb to BigQuery
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#5-bigquery-to-astradb" class="md-nav__link">
    5. BigQuery to AstraDb
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#6-bigquery-dynamic-mapping" class="md-nav__link">
    6. BigQuery Dynamic Mapping
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          
            <div class="md-content" data-md-component="content">
              <article class="md-content__inner md-typeset">
                
                  


  <h1>• Google Dataflow</h1>

<h2 id="overview">Overview<a class="headerlink" href="#overview" title="Permanent link">&para;</a></h2>
<p>GCP DataFlow is a managed service for batch and streaming data processing pipelines and is based on Apache Beam. Apache Beam is an open-source, unified programming model for batch and streaming data processing pipelines which simplifies large-scale data processing dynamics. Thousands of organizations around the world choose Apache Beam due to its unique data processing features, proven scale, and powerful yet extensible capabilities.</p>
<ul>
<li><a href="https://beam.apache.org/get-started/beam-overview/">Learn more about Apache Beam</a></li>
</ul>
<div class="nosurface">
<details class="abstract">
<summary>Apache Beam Overview</summary>
<p><img src="https://awesome-astra.github.io/docs/img/google-cloud-dataflow/logo_beam.png" /></p>
<p><strong>Objectives</strong></p>
<p><img src="https://awesome-astra.github.io/docs/img/google-cloud-dataflow/apache_beam.png" /></p>
<p><strong>Main Concepts</strong></p>
<p><img src="https://awesome-astra.github.io/docs/img/google-cloud-dataflow/beam_concepts.png" /></p>
<ul>
<li>
<p><strong><code>Pipeline</code>:</strong> A <code>Pipeline</code> encapsulates your entire data processing task, from start to finish. This includes reading input data, transforming that data, and writing output data. All Beam driver programs must create a Pipeline. When you create the Pipeline, you must also specify the execution options that tell the Pipeline where and how to run.</p>
</li>
<li>
<p><strong><code>PCollection</code></strong>: A <code>PCollection</code> represents a distributed data set that your Beam pipeline operates on. The data set can be bounded, meaning it comes from a fixed source like a file, or unbounded, meaning it comes from a continuously updating source via a subscription or other mechanisms. Your pipeline typically creates an initial PCollection by reading data from an external data source, but you can also create a PCollection from in-memory data within your driver program. From there, PCollections are the inputs and outputs for each step in your pipeline.</p>
</li>
<li>
<p><strong><code>PTransform</code>:</strong> A <code>PTransform</code> represents a data processing operation, or a step, in your pipeline. Every PTransform takes one or more PCollection objects as input, performs a processing function that you provide on the elements of that PCollection, and produces zero or more output PCollection objects.</p>
</li>
<li>
<p><strong>Input and Output so called <code>I/O transforms</code></strong>: Beam comes with a number of “IOs” - library PTransforms that read or write data to various external storage systems.</p>
</li>
</ul>
<p><strong>I/O Connectors</strong></p>
<p>Apache Beam I/O connectors provide read and write transforms for the most popular data storage systems so that Beam users can benefit from natively optimised connectivity. With the available I/Os, Apache Beam pipelines can read and write data to and from an external storage type in a unified and distributed way.</p>
<blockquote>
<p><strong>Integration with DataStax Astra is inspired by the built-in <code>CassandraIO</code> and <code>PulsarIO</code> connectors</strong>. This integration leverages a new <strong><code>AstraIO</code></strong> connector.</p>
</blockquote>
<p><strong>Runners</strong></p>
<p>A runner in Apache Beam is responsible for executing pipelines on a particular processing engine or framework, such as Apache Flink or Google Cloud Dataflow. The runner translates the Beam pipeline into the appropriate format for the underlying engine, manages job execution, and provides feedback on job progress and status.</p>
<p><img src="https://awesome-astra.github.io/docs/img/google-cloud-dataflow/runners.png" /></p>
</details>
</div>
<ul>
<li><a href="https://cloud.google.com/dataflow/">Learn more about Google DataFlow</a></li>
</ul>
<div class="nosurface">
<details class="abstract">
<summary>Rational on technical integrations Choices</summary>
<p>Astra allows both bulk and real time operations through AstraDB and Astra Streaming. For each service there are multiple interfaces available and integration with Apache Beam/Google Dataflow is possible in different ways. Some of the design choices for this integration are below:</p>
<p><img src="https://awesome-astra.github.io/docs/img/google-cloud-dataflow/astra-interfaces.png" /></p>
<p><strong>Data Bulk Operations</strong></p>
<p>The Astra service which handles massive amount of data is <code>Astra DB</code>. It provides multiples ways to load data but some methods are preferred over others.</p>
<ul>
<li>
<p><strong><code>Cassandra and CQL</code>: This is the way to go.</strong> It is the most mature and provides an efficient way to execute queries. With the native drivers you can run reactive queries and token range queries to distribute the load across the nodes.  This is the approach that was taken with the original <code>CassandraIO</code> connector. The existing <code>CassandraIO</code> connector does not support Astra but we leveraged it to create a new <code>AstraIO</code> connector.</p>
</li>
<li>
<p><strong><code>CQL over REST</code></strong>: This interface can be use with any HTTP client. While the Astra SDKs provides a built-in client, this interface is not the best for bulk loading as it introduces an extra layer of serialization.</p>
</li>
<li>
<p><strong><code>CQL over GraphQL</code></strong>: This interface can be used with any HTTP Client. While the Astra SDKs provides a built-in client, this interface is not the best for bulk loading as it introduces an extra layer of serialization.</p>
</li>
<li>
<p><strong><code>CQL over GRPC</code></strong>: This interface is stateless, with an optimized serialization component (grpc), and reactive interfaces so it is a viable option. Currently, the operations exposed are CQL and the token metadata information is not available to perform range queries.</p>
</li>
</ul>
<p><strong>Data Streaming Operations</strong></p>
<p>The Astra service to handle streaming data is <code>Astra Streaming</code>. It provides multiple interfaces like <code>JMS</code>, <code>RabbitMQ</code>, <code>Kafka</code>, and built-in Apache Beam support is available in <a href="https://beam.apache.org/documentation/io/connectors/">standard connectors</a>.</p>
<p>To leverage the split capabilities of Pulsar, a <code>PulsarIO</code> connector was released in 2022. To learn more about its development you can follow <a href="https://www.youtube.com/embed/xoQRDzqdODk">this video</a> from the Beam Summit 2022.</p>
</details>
</div>
<ul>
<li>Connectivity to Astra is implemented through a custom I/O Connector named <code>beam-sdks-java-io-astra</code> available on central Maven.</li>
</ul>
<div class="nosurface">
<details class="abstract">
<summary>AstraDBIO Connector</summary>
<p>The Astra I/O connectors implements the different operations needed across the pipelines in the page: Read, Write, Delete, ReadAll.</p>
<p>This is the dependency to add to the project.</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-0-1" name="__codelineno-0-1" href="#__codelineno-0-1"></a><span class="nt">&lt;dependency&gt;</span>
<a id="__codelineno-0-2" name="__codelineno-0-2" href="#__codelineno-0-2"></a><span class="w">   </span><span class="nt">&lt;groupId&gt;</span>com.datastax.astra<span class="nt">&lt;/groupId&gt;</span>
<a id="__codelineno-0-3" name="__codelineno-0-3" href="#__codelineno-0-3"></a><span class="w">   </span><span class="nt">&lt;artifactId&gt;</span>beam-sdks-java-io-astra<span class="nt">&lt;/artifactId&gt;</span>
<a id="__codelineno-0-4" name="__codelineno-0-4" href="#__codelineno-0-4"></a><span class="w">   </span><span class="nt">&lt;version&gt;</span>${latest-version}<span class="nt">&lt;/version&gt;</span>
<a id="__codelineno-0-5" name="__codelineno-0-5" href="#__codelineno-0-5"></a><span class="nt">&lt;/dependency&gt;</span>
</code></pre></div>
<ul>
<li><strong>Read From Astra</strong></li>
</ul>
<p>To Read Data from AstraDb use <code>AstraDbIO.Read&lt;Entity&gt;</code> where the entity should be a <code>Serializable</code> object. In the sample we can leverage the cassandra object mapping of Driver 4x.</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-1-1" name="__codelineno-1-1" href="#__codelineno-1-1"></a><span class="kt">byte</span><span class="o">[]</span><span class="w"> </span><span class="n">scbZip</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">...</span>
<a id="__codelineno-1-2" name="__codelineno-1-2" href="#__codelineno-1-2"></a>
<a id="__codelineno-1-3" name="__codelineno-1-3" href="#__codelineno-1-3"></a><span class="n">AstraDbIO</span><span class="p">.</span><span class="na">Read</span><span class="o">&lt;</span><span class="n">LanguageCode</span><span class="o">&gt;</span><span class="w"> </span><span class="n">read</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">AstraDbIO</span><span class="p">.</span><span class="o">&lt;</span><span class="n">LanguageCode</span><span class="o">&gt;</span><span class="n">read</span><span class="p">()</span>
<a id="__codelineno-1-4" name="__codelineno-1-4" href="#__codelineno-1-4"></a><span class="w">  </span><span class="p">.</span><span class="na">withToken</span><span class="p">(</span><span class="s">&quot;token&quot;</span><span class="p">)</span>
<a id="__codelineno-1-5" name="__codelineno-1-5" href="#__codelineno-1-5"></a><span class="w">  </span><span class="p">.</span><span class="na">withKeyspace</span><span class="p">(</span><span class="s">&quot;keyspace&quot;</span><span class="p">)</span>
<a id="__codelineno-1-6" name="__codelineno-1-6" href="#__codelineno-1-6"></a><span class="w">  </span><span class="p">.</span><span class="na">withSecureConnectBundle</span><span class="p">(</span><span class="n">scbZip</span><span class="p">)</span>
<a id="__codelineno-1-7" name="__codelineno-1-7" href="#__codelineno-1-7"></a><span class="w">  </span><span class="p">.</span><span class="na">withTable</span><span class="p">(</span><span class="s">&quot;table&quot;</span><span class="p">)</span>
<a id="__codelineno-1-8" name="__codelineno-1-8" href="#__codelineno-1-8"></a><span class="w">  </span><span class="p">.</span><span class="na">withMinNumberOfSplits</span><span class="p">(</span><span class="mi">20</span><span class="p">)</span>
<a id="__codelineno-1-9" name="__codelineno-1-9" href="#__codelineno-1-9"></a><span class="w">  </span><span class="p">.</span><span class="na">withCoder</span><span class="p">(</span><span class="n">SerializableCoder</span><span class="p">.</span><span class="na">of</span><span class="p">(</span><span class="n">LanguageCode</span><span class="p">.</span><span class="na">class</span><span class="p">))</span>
<a id="__codelineno-1-10" name="__codelineno-1-10" href="#__codelineno-1-10"></a><span class="w">  </span><span class="p">.</span><span class="na">withMapperFactoryFn</span><span class="p">(</span><span class="k">new</span><span class="w"> </span><span class="n">LanguageCodeDaoMapperFactoryFn</span><span class="p">())</span>
<a id="__codelineno-1-11" name="__codelineno-1-11" href="#__codelineno-1-11"></a><span class="w">  </span><span class="p">.</span><span class="na">withEntity</span><span class="p">(</span><span class="n">LanguageCode</span><span class="p">.</span><span class="na">class</span><span class="p">);</span>
</code></pre></div>
<ul>
<li>
<p>The <code>mapperFactoryFn</code> should implements <code>SerializableFunction&lt;CqlSession, AstraDbMapper&lt;Entity&gt;&gt;</code></p>
</li>
<li>
<p>You can also specify a query, the table is name is not mandatory anymore</p>
</li>
</ul>
<div class="highlight"><pre><span></span><code><a id="__codelineno-2-1" name="__codelineno-2-1" href="#__codelineno-2-1"></a><span class="w"> </span><span class="n">AstraDbIO</span><span class="p">.</span><span class="na">Read</span><span class="o">&lt;</span><span class="n">LanguageCode</span><span class="o">&gt;</span><span class="w"> </span><span class="n">read2</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">AstraDbIO</span><span class="p">.</span><span class="o">&lt;</span><span class="n">LanguageCode</span><span class="o">&gt;</span><span class="n">read</span><span class="p">()</span>
<a id="__codelineno-2-2" name="__codelineno-2-2" href="#__codelineno-2-2"></a><span class="w">  </span><span class="p">.</span><span class="na">withToken</span><span class="p">(</span><span class="s">&quot;token&quot;</span><span class="p">)</span>
<a id="__codelineno-2-3" name="__codelineno-2-3" href="#__codelineno-2-3"></a><span class="w">  </span><span class="p">.</span><span class="na">withKeyspace</span><span class="p">(</span><span class="s">&quot;keyspace&quot;</span><span class="p">)</span>
<a id="__codelineno-2-4" name="__codelineno-2-4" href="#__codelineno-2-4"></a><span class="w">  </span><span class="p">.</span><span class="na">withSecureConnectBundle</span><span class="p">(</span><span class="n">scbZip</span><span class="p">)</span>
<a id="__codelineno-2-5" name="__codelineno-2-5" href="#__codelineno-2-5"></a><span class="w">  </span><span class="p">.</span><span class="na">withQuery</span><span class="p">(</span><span class="s">&quot;select * from table where ...&quot;</span><span class="p">)</span>
<a id="__codelineno-2-6" name="__codelineno-2-6" href="#__codelineno-2-6"></a><span class="w">  </span><span class="p">.</span><span class="na">withMinNumberOfSplits</span><span class="p">(</span><span class="mi">20</span><span class="p">)</span>
<a id="__codelineno-2-7" name="__codelineno-2-7" href="#__codelineno-2-7"></a><span class="w">  </span><span class="p">.</span><span class="na">withCoder</span><span class="p">(</span><span class="n">SerializableCoder</span><span class="p">.</span><span class="na">of</span><span class="p">(</span><span class="n">LanguageCode</span><span class="p">.</span><span class="na">class</span><span class="p">))</span>
<a id="__codelineno-2-8" name="__codelineno-2-8" href="#__codelineno-2-8"></a><span class="w">  </span><span class="p">.</span><span class="na">withMapperFactoryFn</span><span class="p">(</span><span class="k">new</span><span class="w"> </span><span class="n">LanguageCodeDaoMapperFactoryFn</span><span class="p">())</span>
<a id="__codelineno-2-9" name="__codelineno-2-9" href="#__codelineno-2-9"></a><span class="w">  </span><span class="p">.</span><span class="na">withEntity</span><span class="p">(</span><span class="n">LanguageCode</span><span class="p">.</span><span class="na">class</span><span class="p">);</span>
</code></pre></div>
<ul>
<li><strong>Write data into Astra</strong></li>
</ul>
<p>To write Data into Astra use the <code>AstraDbIO.Write&lt;Entity&gt;</code></p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-3-1" name="__codelineno-3-1" href="#__codelineno-3-1"></a><span class="n">AstraDbIO</span><span class="p">.</span><span class="na">Write</span><span class="o">&lt;</span><span class="n">LanguageCode</span><span class="o">&gt;</span><span class="w"> </span><span class="n">write</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">AstraDbIO</span><span class="p">.</span><span class="o">&lt;</span><span class="n">LanguageCode</span><span class="o">&gt;</span><span class="n">write</span><span class="p">()</span>
<a id="__codelineno-3-2" name="__codelineno-3-2" href="#__codelineno-3-2"></a><span class="w">  </span><span class="p">.</span><span class="na">withToken</span><span class="p">(</span><span class="s">&quot;token&quot;</span><span class="p">)</span>
<a id="__codelineno-3-3" name="__codelineno-3-3" href="#__codelineno-3-3"></a><span class="w">  </span><span class="p">.</span><span class="na">withKeyspace</span><span class="p">(</span><span class="s">&quot;keyspace&quot;</span><span class="p">)</span>
<a id="__codelineno-3-4" name="__codelineno-3-4" href="#__codelineno-3-4"></a><span class="w">  </span><span class="p">.</span><span class="na">withSecureConnectBundle</span><span class="p">(</span><span class="n">scbZip</span><span class="p">)</span>
<a id="__codelineno-3-5" name="__codelineno-3-5" href="#__codelineno-3-5"></a><span class="w">  </span><span class="p">.</span><span class="na">withMapperFactoryFn</span><span class="p">(</span><span class="k">new</span><span class="w"> </span><span class="n">LanguageCodeDaoMapperFactoryFn</span><span class="p">())</span>
<a id="__codelineno-3-6" name="__codelineno-3-6" href="#__codelineno-3-6"></a><span class="w">  </span><span class="p">.</span><span class="na">withEntity</span><span class="p">(</span><span class="n">LanguageCode</span><span class="p">.</span><span class="na">class</span><span class="p">);</span>
</code></pre></div>
</details>
<h2 id="prerequisites">Prerequisites<a class="headerlink" href="#prerequisites" title="Permanent link">&para;</a></h2>
<ul class="prerequisites">
    <li class="nosurface">You should have Java11+, Maven, and Git installed</li>
    <li class="nosurface">You should have an <a href="https://astra.dev/3B7HcYo">Astra account</a></li>
    <li class="nosurface">You should <a href="https://awesome-astra.github.io/docs/pages/astra/create-instance/">Create an Astra Database</a></li>
    <li class="nosurface">You should <a href="https://awesome-astra.github.io/docs/pages/astra/create-token/">Have an Astra Token</a></li>
    <li class="nosurface">You should <a href="https://awesome-astra.github.io/docs/pages/astra/download-scb/">Download your Secure Connect Bundle</a></li>

</ul>
<div class="nosurface">
<!-- Prequisites for Java And Maven -->
<details class="abstract">
<summary>Setup your <code>JAVA</code> Development environment</summary>
<ul class="task-list">
<li class="task-list-item"><label class="task-list-control"><input type="checkbox" disabled checked/><span class="task-list-indicator"></span></label> <strong>Install Java Development Kit (JDK) 8+</strong></li>
</ul>
<p>Use <a href="https://docs.oracle.com/javase/8/docs/technotes/guides/install/install_overview.html">java reference documentation</a> targetting your operating system to install a Java Development Kit. You can then validate your installation with the following command.</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-4-1" name="__codelineno-4-1" href="#__codelineno-4-1"></a>java<span class="w"> </span>--version
</code></pre></div>
<ul class="task-list">
<li class="task-list-item"><label class="task-list-control"><input type="checkbox" disabled checked/><span class="task-list-indicator"></span></label> <strong>Install Apache Maven (3.8+)</strong></li>
</ul>
<p>Samples and tutorials have been designed with <code>Apache Maven</code>. Use the <a href="https://maven.apache.org/install.html">reference documentation</a> top install maven validate your installation with </p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-5-1" name="__codelineno-5-1" href="#__codelineno-5-1"></a>mvn<span class="w"> </span>-version
</code></pre></div>
</details>
</div>
<div class="nosurface">
<!-- Prequisite Astra DB including SCB -->
<details class="abstract">
<summary>Setup Datastax <code>Astra DB</code></summary>
<ul class="task-list">
<li class="task-list-item"><label class="task-list-control"><input type="checkbox" disabled checked/><span class="task-list-indicator"></span></label> <strong>Create your DataStax Astra account</strong>: </li>
</ul>
<p><a href="https://astra.dev/3B7HcYo" class=md-button>Sign Up</a></p>
<ul class="task-list">
<li class="task-list-item"><label class="task-list-control"><input type="checkbox" disabled checked/><span class="task-list-indicator"></span></label> <strong>Create an Astra Token</strong></li>
</ul>
<p>An astra token acts as your credentials, it holds the different permissions. The scope of a token is the whole organization (tenant) but permissions can be edited to limit usage to a single database.</p>
<p>To create a token, please follow <a href="https://awesome-astra.github.io/docs/pages/astra/create-token/#c-procedure">this guide</a></p>
<p>The Token is in fact three separate strings: a <code>Client ID</code>, a <code>Client Secret</code> and the <code>token</code> proper. You will need some of these strings to access the database, depending on the type of access you plan. Although the Client ID, strictly speaking, is not a secret, you should regard this whole object as a secret and make sure not to share it inadvertently (e.g. committing it to a Git repository) as it grants access to your databases.</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-6-1" name="__codelineno-6-1" href="#__codelineno-6-1"></a><span class="p">{</span>
<a id="__codelineno-6-2" name="__codelineno-6-2" href="#__codelineno-6-2"></a><span class="w">  </span><span class="nt">&quot;ClientId&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;ROkiiDZdvPOvHRSgoZtyAapp&quot;</span><span class="p">,</span>
<a id="__codelineno-6-3" name="__codelineno-6-3" href="#__codelineno-6-3"></a><span class="w">  </span><span class="nt">&quot;ClientSecret&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;fakedfaked&quot;</span><span class="p">,</span>
<a id="__codelineno-6-4" name="__codelineno-6-4" href="#__codelineno-6-4"></a><span class="w">  </span><span class="nt">&quot;Token&quot;</span><span class="p">:</span><span class="s2">&quot;AstraCS:fake&quot;</span>
<a id="__codelineno-6-5" name="__codelineno-6-5" href="#__codelineno-6-5"></a><span class="p">}</span>
</code></pre></div>
<p>It is handy to have your token declare as an environment variable (<em>replace with proper value</em>):</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-7-1" name="__codelineno-7-1" href="#__codelineno-7-1"></a>export ASTRA_TOKEN=&quot;AstraCS:replace_me&quot;
</code></pre></div>
<ul class="task-list">
<li class="task-list-item"><label class="task-list-control"><input type="checkbox" disabled checked/><span class="task-list-indicator"></span></label> <strong>Create a Database and a keyspace</strong></li>
</ul>
<p>With your account you can run multiple databases, a Databases is an Apache Cassandra cluster. It can live in one or multiple regions (dc). In each Database you can have multiple keyspaces. In the page we will use the database name <code>db_demo</code> and the keyspace <code>keyspace_demo</code>.</p>
<p>You can create the DB using the user interface and <a href="https://awesome-astra.github.io/docs/pages/astra/create-instance/#c-procedure">here is a tutorial</a>. You can also use Astra command line interface. To install and setup the CLI run the following:</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-8-1" name="__codelineno-8-1" href="#__codelineno-8-1"></a>curl -Ls &quot;https://dtsx.io/get-astra-cli&quot; | bash
<a id="__codelineno-8-2" name="__codelineno-8-2" href="#__codelineno-8-2"></a>source ~/.astra/cli/astra-init.sh
<a id="__codelineno-8-3" name="__codelineno-8-3" href="#__codelineno-8-3"></a>astra setup --token ${ASTRA_TOKEN}
</code></pre></div>
<p>To create DB and keyspace with the CLI:</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-9-1" name="__codelineno-9-1" href="#__codelineno-9-1"></a>astra db create db_demo -k keyspace_demo --if-not-exists
</code></pre></div>
<ul class="task-list">
<li class="task-list-item"><label class="task-list-control"><input type="checkbox" disabled checked/><span class="task-list-indicator"></span></label> <strong>Download the Secure Connect Bundle for current database</strong></li>
</ul>
<p>A <em>Secure Connect Bundle</em> contains the certificates and endpoints informations to open a <a href="https://www.cloudflare.com/learning/access-management/what-is-mutual-tls/">mTLS connection</a>. Often mentionned as <code>scb</code> its scope is a database AND a region. If your database is deployed on multiple regions you will have to download the bundle for each one and initiate the connection accordingly. Instructions to <a href="/docs/pages/astra/download-scb/">download Secure Connect Bundle are here</a></p>
<p><img src="https://github.com/awesome-astra/docs/blob/main/docs/img/drivers/drivers-connectivity.png?raw=true" /></p>
<p>You can download the secure connect bundle from the user interface and <a href="https://awesome-astra.github.io/docs/pages/astra/download-scb/">here is a tutorial</a>. You can also use Astra command line interface.</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-10-1" name="__codelineno-10-1" href="#__codelineno-10-1"></a>astra db download-scb db_demo -f /tmp/secure-connect-bundle-db-demo.zip
</code></pre></div>
</details>
</div>
<h2 id="installation-and-setup">Installation and Setup<a class="headerlink" href="#installation-and-setup" title="Permanent link">&para;</a></h2>
<ul>
<li>Clone the Repository with sample flows. The different flows are distributed in 2 different modules. <code>sample-beams</code> contains flows that do not interact with Google Cloud solutions and will be run with a direct runner. <code>sample-dataflows</code> contains flows that could be executed.</li>
</ul>
<div class="highlight"><pre><span></span><code><a id="__codelineno-11-1" name="__codelineno-11-1" href="#__codelineno-11-1"></a>git<span class="w"> </span>clone<span class="w"> </span>https://github.com/DataStax-Examples/astra-dataflow-starter.git
</code></pre></div>
<ul>
<li>Navigate to the repository and build the project with maven.</li>
</ul>
<div class="highlight"><pre><span></span><code><a id="__codelineno-12-1" name="__codelineno-12-1" href="#__codelineno-12-1"></a><span class="nb">cd</span><span class="w"> </span>astra-dataflow-starter
<a id="__codelineno-12-2" name="__codelineno-12-2" href="#__codelineno-12-2"></a>mvn<span class="w"> </span>clean<span class="w"> </span>install<span class="w"> </span>-Dmaven.test.skip<span class="o">=</span><span class="nb">true</span>
</code></pre></div>
<div class="nosurface">
<details class="abstract">
<summary>More on the <code>maven</code> project setup locally</summary>
<ul class="task-list">
<li class="task-list-item"><label class="task-list-control"><input type="checkbox" disabled checked/><span class="task-list-indicator"></span></label> <strong>Clone the Repository with <code>AstraIO</code> and sample flows</strong></li>
</ul>
<div class="highlight"><pre><span></span><code><a id="__codelineno-13-1" name="__codelineno-13-1" href="#__codelineno-13-1"></a>git clone https://github.com/DataStax-Examples/astra-dataflow-starter.git
</code></pre></div>
<ul class="task-list">
<li class="task-list-item"><label class="task-list-control"><input type="checkbox" disabled checked/><span class="task-list-indicator"></span></label> <strong>Build the project with maven</strong></li>
</ul>
<div class="highlight"><pre><span></span><code><a id="__codelineno-14-1" name="__codelineno-14-1" href="#__codelineno-14-1"></a>cd astra-dataflow-starter
<a id="__codelineno-14-2" name="__codelineno-14-2" href="#__codelineno-14-2"></a>mvn clean install -Dmaven.test.skip=true
</code></pre></div>
<p>The different flows are distributed in 2 different modules: </p>
<ul>
<li><code>sample-beams</code> contains flows that do not interact with Google Cloud solutions and will be run with a direct runner. </li>
</ul>
<p><img src="../../../../img/google-cloud-dataflow/flows-locally.png" /></p>
<ul>
<li><code>sample-dataflows</code> contains flow that could be executed </li>
</ul>
<p><img src="../../../../img/google-cloud-dataflow/flows-dataflows.png" /></p>
</details>
</div>
<div class="highlight"><pre><span></span><code>
</code></pre></div>
<h2 id="beam-samples">Beam Samples<a class="headerlink" href="#beam-samples" title="Permanent link">&para;</a></h2>
<h3 id="1-import-a-csv-file">1. Import a CSV File<a class="headerlink" href="#1-import-a-csv-file" title="Permanent link">&para;</a></h3>
<blockquote>
<p>In this flow a <code>CSV</code> file is parsed to populate a table with same structure in Astra. The mapping from CSV to the table is done manually. The dataset is a list of languages.</p>
</blockquote>
<p><img src="https://awesome-astra.github.io/docs/img/google-cloud-dataflow/csv-to-astra.png" /></p>
<ul>
<li><strong>Access folder <code>samples-beam</code> in the project.</strong></li>
</ul>
<div class="highlight"><pre><span></span><code><a id="__codelineno-15-1" name="__codelineno-15-1" href="#__codelineno-15-1"></a>cd samples-beam
<a id="__codelineno-15-2" name="__codelineno-15-2" href="#__codelineno-15-2"></a>pwd
</code></pre></div>
<ul>
<li><strong>Setup Environment variables</strong></li>
</ul>
<div class="highlight"><pre><span></span><code><a id="__codelineno-16-1" name="__codelineno-16-1" href="#__codelineno-16-1"></a><span class="c1"># Database name (use with CLI)</span>
<a id="__codelineno-16-2" name="__codelineno-16-2" href="#__codelineno-16-2"></a><span class="nb">export</span><span class="w"> </span><span class="nv">ASTRA_DB</span><span class="o">=</span>&lt;your-db-name&gt;
<a id="__codelineno-16-3" name="__codelineno-16-3" href="#__codelineno-16-3"></a><span class="c1"># Keyspace name </span>
<a id="__codelineno-16-4" name="__codelineno-16-4" href="#__codelineno-16-4"></a><span class="nb">export</span><span class="w"> </span><span class="nv">ASTRA_KEYSPACE</span><span class="o">=</span>&lt;your-keyspace-name&gt;
<a id="__codelineno-16-5" name="__codelineno-16-5" href="#__codelineno-16-5"></a><span class="c1"># Path of local secure connect bundle</span>
<a id="__codelineno-16-6" name="__codelineno-16-6" href="#__codelineno-16-6"></a><span class="nb">export</span><span class="w"> </span><span class="nv">ASTRA_SCB_PATH</span><span class="o">=</span>&lt;your-secure-connect-bundle&gt;
<a id="__codelineno-16-7" name="__codelineno-16-7" href="#__codelineno-16-7"></a><span class="c1"># Astra Token starting by AstraCS:...</span>
<a id="__codelineno-16-8" name="__codelineno-16-8" href="#__codelineno-16-8"></a><span class="nb">export</span><span class="w"> </span><span class="nv">ASTRA_TOKEN</span><span class="o">=</span>&lt;your-token&gt;
</code></pre></div>
<ul>
<li><strong>Run Beam pipeline</strong></li>
</ul>
<div class="highlight"><pre><span></span><code><a id="__codelineno-17-1" name="__codelineno-17-1" href="#__codelineno-17-1"></a><span class="w"> </span>mvn<span class="w"> </span>clean<span class="w"> </span>compile<span class="w"> </span>exec:java<span class="w"> </span><span class="se">\</span>
<a id="__codelineno-17-2" name="__codelineno-17-2" href="#__codelineno-17-2"></a><span class="w"> </span>-Dexec.mainClass<span class="o">=</span>com.datastax.astra.beam.Csv_to_AstraDb<span class="w"> </span><span class="se">\</span>
<a id="__codelineno-17-3" name="__codelineno-17-3" href="#__codelineno-17-3"></a><span class="w"> </span>-Dexec.args<span class="o">=</span><span class="s2">&quot;\</span>
<a id="__codelineno-17-4" name="__codelineno-17-4" href="#__codelineno-17-4"></a><span class="s2"> --astraToken=</span><span class="si">${</span><span class="nv">ASTRA_TOKEN</span><span class="si">}</span><span class="s2"> \</span>
<a id="__codelineno-17-5" name="__codelineno-17-5" href="#__codelineno-17-5"></a><span class="s2"> --astraSecureConnectBundle=</span><span class="si">${</span><span class="nv">ASTRA_SCB_PATH</span><span class="si">}</span><span class="s2"> \</span>
<a id="__codelineno-17-6" name="__codelineno-17-6" href="#__codelineno-17-6"></a><span class="s2"> --astraKeyspace=</span><span class="si">${</span><span class="nv">ASTRA_KEYSPACE</span><span class="si">}</span><span class="s2"> \</span>
<a id="__codelineno-17-7" name="__codelineno-17-7" href="#__codelineno-17-7"></a><span class="s2"> --csvInput=`pwd`/src/test/resources/language-codes.csv&quot;</span>
</code></pre></div>
<ul>
<li><strong>Check output data in Astra</strong></li>
</ul>
<div class="highlight"><pre><span></span><code><a id="__codelineno-18-1" name="__codelineno-18-1" href="#__codelineno-18-1"></a>astra<span class="w"> </span>db<span class="w"> </span>cqlsh<span class="w"> </span><span class="si">${</span><span class="nv">ASTRA_DB</span><span class="si">}</span><span class="w"> </span><span class="se">\</span>
<a id="__codelineno-18-2" name="__codelineno-18-2" href="#__codelineno-18-2"></a><span class="w">   </span>-k<span class="w"> </span><span class="si">${</span><span class="nv">ASTRA_KEYSPACE</span><span class="si">}</span><span class="w"> </span><span class="se">\</span>
<a id="__codelineno-18-3" name="__codelineno-18-3" href="#__codelineno-18-3"></a><span class="w">   </span>-e<span class="w"> </span><span class="s2">&quot;SELECT * FROM languages LIMIT 10;&quot;</span>
</code></pre></div>
<h3 id="2-export-table-as-csv">2. Export Table as CSV<a class="headerlink" href="#2-export-table-as-csv" title="Permanent link">&para;</a></h3>
<blockquote>
<p>In this flow a Cassandra table is exported as a CSV file. The mapping from table to csv row is done manually. The same objects are reused from <code>#1</code></p>
</blockquote>
<p><img src="https://awesome-astra.github.io/docs/img/google-cloud-dataflow/astra-to-csv.png" /></p>
<ul>
<li><strong>Access folder</strong></li>
</ul>
<div class="highlight"><pre><span></span><code><a id="__codelineno-19-1" name="__codelineno-19-1" href="#__codelineno-19-1"></a>cd samples-beam
<a id="__codelineno-19-2" name="__codelineno-19-2" href="#__codelineno-19-2"></a>pwd
</code></pre></div>
<ul>
<li><strong>Setup Environment variables</strong></li>
</ul>
<div class="highlight"><pre><span></span><code><a id="__codelineno-20-1" name="__codelineno-20-1" href="#__codelineno-20-1"></a><span class="c1"># Database name (use with CLI)</span>
<a id="__codelineno-20-2" name="__codelineno-20-2" href="#__codelineno-20-2"></a><span class="nb">export</span><span class="w"> </span><span class="nv">ASTRA_DB</span><span class="o">=</span>&lt;your-db-name&gt;
<a id="__codelineno-20-3" name="__codelineno-20-3" href="#__codelineno-20-3"></a><span class="c1"># Keyspace name </span>
<a id="__codelineno-20-4" name="__codelineno-20-4" href="#__codelineno-20-4"></a><span class="nb">export</span><span class="w"> </span><span class="nv">ASTRA_KEYSPACE</span><span class="o">=</span>&lt;your-keyspace-name&gt;
<a id="__codelineno-20-5" name="__codelineno-20-5" href="#__codelineno-20-5"></a><span class="c1"># Path of local secure connect bundle</span>
<a id="__codelineno-20-6" name="__codelineno-20-6" href="#__codelineno-20-6"></a><span class="nb">export</span><span class="w"> </span><span class="nv">ASTRA_SCB_PATH</span><span class="o">=</span>&lt;your-secure-connect-bundle&gt;
<a id="__codelineno-20-7" name="__codelineno-20-7" href="#__codelineno-20-7"></a><span class="c1"># Astra Token starting by AstraCS:...</span>
<a id="__codelineno-20-8" name="__codelineno-20-8" href="#__codelineno-20-8"></a><span class="nb">export</span><span class="w"> </span><span class="nv">ASTRA_TOKEN</span><span class="o">=</span>&lt;your-token&gt;
</code></pre></div>
<ul>
<li><strong>Run Beam pipeline</strong></li>
</ul>
<div class="highlight"><pre><span></span><code><a id="__codelineno-21-1" name="__codelineno-21-1" href="#__codelineno-21-1"></a><span class="w"> </span>mvn<span class="w"> </span>clean<span class="w"> </span>compile<span class="w"> </span>exec:java<span class="w"> </span><span class="se">\</span>
<a id="__codelineno-21-2" name="__codelineno-21-2" href="#__codelineno-21-2"></a><span class="w"> </span>-Dexec.mainClass<span class="o">=</span>com.datastax.astra.beam.AstraDb_To_Csv<span class="w"> </span><span class="se">\</span>
<a id="__codelineno-21-3" name="__codelineno-21-3" href="#__codelineno-21-3"></a><span class="w"> </span>-Dexec.args<span class="o">=</span><span class="s2">&quot;\</span>
<a id="__codelineno-21-4" name="__codelineno-21-4" href="#__codelineno-21-4"></a><span class="s2"> --astraToken=</span><span class="si">${</span><span class="nv">ASTRA_TOKEN</span><span class="si">}</span><span class="s2"> \</span>
<a id="__codelineno-21-5" name="__codelineno-21-5" href="#__codelineno-21-5"></a><span class="s2"> --astraSecureConnectBundle=</span><span class="si">${</span><span class="nv">ASTRA_SCB_PATH</span><span class="si">}</span><span class="s2"> \</span>
<a id="__codelineno-21-6" name="__codelineno-21-6" href="#__codelineno-21-6"></a><span class="s2"> --astraKeyspace=</span><span class="si">${</span><span class="nv">ASTRA_KEYSPACE</span><span class="si">}</span><span class="s2"> \</span>
<a id="__codelineno-21-7" name="__codelineno-21-7" href="#__codelineno-21-7"></a><span class="s2"> --table=languages \</span>
<a id="__codelineno-21-8" name="__codelineno-21-8" href="#__codelineno-21-8"></a><span class="s2"> --csvOutput=`pwd`/src/test/resources/out/language&quot;</span>
</code></pre></div>
<ul>
<li><strong>Check output data in astra</strong></li>
</ul>
<div class="highlight"><pre><span></span><code><a id="__codelineno-22-1" name="__codelineno-22-1" href="#__codelineno-22-1"></a>ls<span class="w"> </span>-l<span class="w"> </span><span class="sb">`</span><span class="nb">pwd</span><span class="sb">`</span>/src/test/resources/out
<a id="__codelineno-22-2" name="__codelineno-22-2" href="#__codelineno-22-2"></a>cat<span class="w"> </span><span class="sb">`</span><span class="nb">pwd</span><span class="sb">`</span>/src/test/resources/out/language-00001-of-00004
</code></pre></div>
<h3 id="3-import-cassandra-table">3. Import Cassandra Table<a class="headerlink" href="#3-import-cassandra-table" title="Permanent link">&para;</a></h3>
<blockquote>
<p>Similar to ZDM a cassandra Table is imported into Astra. We are reusing the same data model as before. Mapping is manual. We can note that Cassandra reading is operated with <code>CassandraIO</code> (driver3x) where the load is done with <code>AstraDbIO</code> (drivers4x).</p>
</blockquote>
<p><img src="https://awesome-astra.github.io/docs/img/google-cloud-dataflow/cassandra-to-astra.png" /></p>
<ul>
<li><strong>Access folder</strong></li>
</ul>
<div class="highlight"><pre><span></span><code><a id="__codelineno-23-1" name="__codelineno-23-1" href="#__codelineno-23-1"></a><span class="nb">cd</span><span class="w"> </span>samples-beam
<a id="__codelineno-23-2" name="__codelineno-23-2" href="#__codelineno-23-2"></a><span class="nb">pwd</span>
</code></pre></div>
<ul>
<li><strong>Start Cassandra as a docker image with docker compose</strong>: Project propose a docker-compose to run Cassandra locally. Use <code>docker-compose</code> to start the containers</li>
</ul>
<div class="highlight"><pre><span></span><code><a id="__codelineno-24-1" name="__codelineno-24-1" href="#__codelineno-24-1"></a>docker-compose<span class="w"> </span>-f<span class="w"> </span>./src/main/docker/docker-compose.yml<span class="w"> </span>up<span class="w"> </span>-d
</code></pre></div>
<ul>
<li><strong>Wait a few seconds for Cassandra to Start.</strong> The following command give you the status of the container</li>
</ul>
<div class="highlight"><pre><span></span><code><a id="__codelineno-25-1" name="__codelineno-25-1" href="#__codelineno-25-1"></a>docker-compose<span class="w"> </span>-f<span class="w"> </span>./src/main/docker/docker-compose.yml<span class="w"> </span>ps<span class="w"> </span><span class="p">|</span><span class="w"> </span>cut<span class="w"> </span>-b<span class="w"> </span><span class="m">55</span>-61
</code></pre></div>
<ul>
<li><strong>Validate Cassandra is ready</strong>: By connecting with <code>cqlsh</code> and displaying the datacenter.</li>
</ul>
<div class="highlight"><pre><span></span><code><a id="__codelineno-26-1" name="__codelineno-26-1" href="#__codelineno-26-1"></a>docker<span class="w"> </span><span class="nb">exec</span><span class="w"> </span>-it<span class="w"> </span><span class="sb">`</span>docker<span class="w"> </span>ps<span class="w"> </span><span class="p">|</span><span class="w"> </span><span class="se">\</span>
<a id="__codelineno-26-2" name="__codelineno-26-2" href="#__codelineno-26-2"></a><span class="w">  </span>grep<span class="w"> </span>cassandra:4.1.1<span class="w"> </span><span class="p">|</span><span class="w"> </span><span class="se">\</span>
<a id="__codelineno-26-3" name="__codelineno-26-3" href="#__codelineno-26-3"></a><span class="w">  </span>cut<span class="w"> </span>-b<span class="w"> </span><span class="m">1</span>-12<span class="sb">`</span><span class="w"> </span>cqlsh<span class="w"> </span>-e<span class="w"> </span><span class="s2">&quot;SELECT data_center FROM system.local;&quot;</span>
</code></pre></div>
<ul>
<li><strong>Setup Env variables</strong></li>
</ul>
<div class="highlight"><pre><span></span><code><a id="__codelineno-27-1" name="__codelineno-27-1" href="#__codelineno-27-1"></a><span class="nb">export</span><span class="w"> </span><span class="nv">ASTRA_DB</span><span class="o">=</span>&lt;your-db-name&gt;
<a id="__codelineno-27-2" name="__codelineno-27-2" href="#__codelineno-27-2"></a><span class="nb">export</span><span class="w"> </span><span class="nv">ASTRA_KEYSPACE</span><span class="o">=</span>&lt;your-keyspace-name&gt;
<a id="__codelineno-27-3" name="__codelineno-27-3" href="#__codelineno-27-3"></a><span class="nb">export</span><span class="w"> </span><span class="nv">ASTRA_SCB_PATH</span><span class="o">=</span>&lt;your-secure-connect-bundle&gt;
<a id="__codelineno-27-4" name="__codelineno-27-4" href="#__codelineno-27-4"></a><span class="nb">export</span><span class="w"> </span><span class="nv">ASTRA_TOKEN</span><span class="o">=</span>&lt;your-token&gt;
</code></pre></div>
<ul>
<li><strong>Run the pipeline</strong>: Keyspaces and Tables are created in local cassandra before starting the copy into Astra.</li>
</ul>
<div class="highlight"><pre><span></span><code><a id="__codelineno-28-1" name="__codelineno-28-1" href="#__codelineno-28-1"></a><span class="w"> </span>mvn<span class="w"> </span>clean<span class="w"> </span>compile<span class="w"> </span>exec:java<span class="w"> </span><span class="se">\</span>
<a id="__codelineno-28-2" name="__codelineno-28-2" href="#__codelineno-28-2"></a><span class="w"> </span>-Dexec.mainClass<span class="o">=</span>com.datastax.astra.beam.Cassandra_To_AstraDb<span class="w"> </span><span class="se">\</span>
<a id="__codelineno-28-3" name="__codelineno-28-3" href="#__codelineno-28-3"></a><span class="w"> </span>-Dexec.args<span class="o">=</span><span class="s2">&quot;\</span>
<a id="__codelineno-28-4" name="__codelineno-28-4" href="#__codelineno-28-4"></a><span class="s2"> --astraToken=</span><span class="si">${</span><span class="nv">ASTRA_TOKEN</span><span class="si">}</span><span class="s2"> \</span>
<a id="__codelineno-28-5" name="__codelineno-28-5" href="#__codelineno-28-5"></a><span class="s2"> --astraSecureConnectBundle=</span><span class="si">${</span><span class="nv">ASTRA_SCB_PATH</span><span class="si">}</span><span class="s2"> \</span>
<a id="__codelineno-28-6" name="__codelineno-28-6" href="#__codelineno-28-6"></a><span class="s2"> --astraKeyspace=</span><span class="si">${</span><span class="nv">ASTRA_KEYSPACE</span><span class="si">}</span><span class="s2"> \</span>
<a id="__codelineno-28-7" name="__codelineno-28-7" href="#__codelineno-28-7"></a><span class="s2"> --cassandraHost=localhost \</span>
<a id="__codelineno-28-8" name="__codelineno-28-8" href="#__codelineno-28-8"></a><span class="s2"> --cassandraKeyspace=demo \</span>
<a id="__codelineno-28-9" name="__codelineno-28-9" href="#__codelineno-28-9"></a><span class="s2"> --cassandraTableName=languages \</span>
<a id="__codelineno-28-10" name="__codelineno-28-10" href="#__codelineno-28-10"></a><span class="s2"> --cassandraPort=9042 \</span>
<a id="__codelineno-28-11" name="__codelineno-28-11" href="#__codelineno-28-11"></a><span class="s2"> --tableName=languages&quot;</span>
</code></pre></div>
<ul>
<li><strong>Check data in Cassandra with <code>cqlsh</code></strong></li>
</ul>
<div class="highlight"><pre><span></span><code><a id="__codelineno-29-1" name="__codelineno-29-1" href="#__codelineno-29-1"></a>docker<span class="w"> </span><span class="nb">exec</span><span class="w"> </span>-it<span class="w"> </span><span class="sb">`</span>docker<span class="w"> </span>ps<span class="w"> </span><span class="se">\</span>
<a id="__codelineno-29-2" name="__codelineno-29-2" href="#__codelineno-29-2"></a><span class="w">  </span><span class="p">|</span><span class="w"> </span>grep<span class="w"> </span>cassandra:4.1.1<span class="w"> </span><span class="se">\</span>
<a id="__codelineno-29-3" name="__codelineno-29-3" href="#__codelineno-29-3"></a><span class="w">  </span><span class="p">|</span><span class="w"> </span>cut<span class="w"> </span>-b<span class="w"> </span><span class="m">1</span>-12<span class="sb">`</span><span class="w"> </span><span class="se">\</span>
<a id="__codelineno-29-4" name="__codelineno-29-4" href="#__codelineno-29-4"></a><span class="w">  </span>cqlsh<span class="w"> </span>-e<span class="w"> </span><span class="s2">&quot;SELECT *  FROM samples_beam.languages LIMIT 10;&quot;</span>
</code></pre></div>
<ul>
<li><strong>Check data in Astra destination with <code>cqlsh</code> (CLI)</strong></li>
</ul>
<div class="highlight"><pre><span></span><code><a id="__codelineno-30-1" name="__codelineno-30-1" href="#__codelineno-30-1"></a>astra<span class="w"> </span>db<span class="w"> </span>cqlsh<span class="w"> </span><span class="si">${</span><span class="nv">ASTRA_DB</span><span class="si">}</span><span class="w"> </span><span class="se">\</span>
<a id="__codelineno-30-2" name="__codelineno-30-2" href="#__codelineno-30-2"></a><span class="w">   </span>-k<span class="w"> </span><span class="si">${</span><span class="nv">ASTRA_KEYSPACE</span><span class="si">}</span><span class="w"> </span><span class="se">\</span>
<a id="__codelineno-30-3" name="__codelineno-30-3" href="#__codelineno-30-3"></a><span class="w">   </span>-e<span class="w"> </span><span class="s2">&quot;SELECT * FROM languages LIMIT 10;&quot;</span>
</code></pre></div>
<h3 id="4-generative-ai">4. Generative AI<a class="headerlink" href="#4-generative-ai" title="Permanent link">&para;</a></h3>
<blockquote>
<p>This use cases is divided in 2 flows. In the first step we will import a CSV file as before mapping the CSV schema in destination table. Second flow will alter the table to add the embeddings vector and populate it after calling <a href="https://platform.openai.com/docs/guides/embeddings">OpenAI Embedding API</a></p>
</blockquote>
<p><img src="https://awesome-astra.github.io/docs/img/google-cloud-dataflow/genai-01.png" /></p>
<ul>
<li><strong>Access folder</strong></li>
</ul>
<div class="highlight"><pre><span></span><code><a id="__codelineno-31-1" name="__codelineno-31-1" href="#__codelineno-31-1"></a><span class="nb">cd</span><span class="w"> </span>samples-beam
<a id="__codelineno-31-2" name="__codelineno-31-2" href="#__codelineno-31-2"></a><span class="nb">pwd</span>
</code></pre></div>
<ul>
<li><strong>Setup Env variables</strong></li>
</ul>
<div class="highlight"><pre><span></span><code><a id="__codelineno-32-1" name="__codelineno-32-1" href="#__codelineno-32-1"></a><span class="nb">export</span><span class="w"> </span><span class="nv">ASTRA_DB</span><span class="o">=</span>&lt;your-db-name&gt;
<a id="__codelineno-32-2" name="__codelineno-32-2" href="#__codelineno-32-2"></a><span class="nb">export</span><span class="w"> </span><span class="nv">ASTRA_KEYSPACE</span><span class="o">=</span>&lt;your-keyspace-name&gt;
<a id="__codelineno-32-3" name="__codelineno-32-3" href="#__codelineno-32-3"></a><span class="nb">export</span><span class="w"> </span><span class="nv">ASTRA_SCB_PATH</span><span class="o">=</span>&lt;your-secure-connect-bundle&gt;
<a id="__codelineno-32-4" name="__codelineno-32-4" href="#__codelineno-32-4"></a><span class="nb">export</span><span class="w"> </span><span class="nv">ASTRA_TOKEN</span><span class="o">=</span>&lt;your-token&gt;
</code></pre></div>
<ul>
<li><strong>Import Data with first flow</strong></li>
</ul>
<div class="highlight"><pre><span></span><code><a id="__codelineno-33-1" name="__codelineno-33-1" href="#__codelineno-33-1"></a><span class="w"> </span>mvn<span class="w"> </span>clean<span class="w"> </span>compile<span class="w"> </span>exec:java<span class="w"> </span><span class="se">\</span>
<a id="__codelineno-33-2" name="__codelineno-33-2" href="#__codelineno-33-2"></a><span class="w"> </span>-Dexec.mainClass<span class="o">=</span>com.datastax.astra.beam.genai.GenAI_01_ImportData<span class="w"> </span><span class="se">\</span>
<a id="__codelineno-33-3" name="__codelineno-33-3" href="#__codelineno-33-3"></a><span class="w"> </span>-Dexec.args<span class="o">=</span><span class="s2">&quot;\</span>
<a id="__codelineno-33-4" name="__codelineno-33-4" href="#__codelineno-33-4"></a><span class="s2"> --astraToken=</span><span class="si">${</span><span class="nv">ASTRA_TOKEN</span><span class="si">}</span><span class="s2"> \</span>
<a id="__codelineno-33-5" name="__codelineno-33-5" href="#__codelineno-33-5"></a><span class="s2"> --astraSecureConnectBundle=</span><span class="si">${</span><span class="nv">ASTRA_SCB_PATH</span><span class="si">}</span><span class="s2"> \</span>
<a id="__codelineno-33-6" name="__codelineno-33-6" href="#__codelineno-33-6"></a><span class="s2"> --astraKeyspace=</span><span class="si">${</span><span class="nv">ASTRA_KEYSPACE</span><span class="si">}</span><span class="s2"> \</span>
<a id="__codelineno-33-7" name="__codelineno-33-7" href="#__codelineno-33-7"></a><span class="s2"> --csvInput=`pwd`/src/main/resources/fables_of_fontaine.csv&quot;</span>
</code></pre></div>
<p>A table is created with the following structure:</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-34-1" name="__codelineno-34-1" href="#__codelineno-34-1"></a><span class="k">CREATE</span><span class="w"> </span><span class="k">TABLE</span><span class="w"> </span><span class="k">IF</span><span class="w"> </span><span class="k">NOT</span><span class="w"> </span><span class="k">EXISTS</span><span class="w"> </span><span class="n">ai</span><span class="p">.</span><span class="n">fable</span><span class="w"> </span><span class="p">(</span>
<a id="__codelineno-34-2" name="__codelineno-34-2" href="#__codelineno-34-2"></a><span class="w">    </span><span class="n">document_id</span><span class="w"> </span><span class="nb">text</span><span class="w"> </span><span class="k">PRIMARY</span><span class="w"> </span><span class="k">KEY</span><span class="p">,</span>
<a id="__codelineno-34-3" name="__codelineno-34-3" href="#__codelineno-34-3"></a><span class="w">    </span><span class="n">document</span><span class="w"> </span><span class="nb">text</span><span class="p">,</span>
<a id="__codelineno-34-4" name="__codelineno-34-4" href="#__codelineno-34-4"></a><span class="w">    </span><span class="n">title</span><span class="w"> </span><span class="nb">text</span>
<a id="__codelineno-34-5" name="__codelineno-34-5" href="#__codelineno-34-5"></a><span class="p">);</span>
</code></pre></div>
<ul>
<li><strong>Check output data in Astra</strong></li>
</ul>
<div class="highlight"><pre><span></span><code><a id="__codelineno-35-1" name="__codelineno-35-1" href="#__codelineno-35-1"></a>astra<span class="w"> </span>db<span class="w"> </span>cqlsh<span class="w"> </span><span class="si">${</span><span class="nv">ASTRA_DB</span><span class="si">}</span><span class="w"> </span><span class="se">\</span>
<a id="__codelineno-35-2" name="__codelineno-35-2" href="#__codelineno-35-2"></a><span class="w">   </span>-k<span class="w"> </span><span class="si">${</span><span class="nv">ASTRA_KEYSPACE</span><span class="si">}</span><span class="w"> </span><span class="se">\</span>
<a id="__codelineno-35-3" name="__codelineno-35-3" href="#__codelineno-35-3"></a><span class="w">   </span>-e<span class="w"> </span><span class="s2">&quot;SELECT * FROM fable LIMIT 10;&quot;</span>
</code></pre></div>
<p><img src="https://awesome-astra.github.io/docs/img/google-cloud-dataflow/genai-02.png" /></p>
<ul>
<li><strong>Add extra environment variables</strong></li>
</ul>
<div class="highlight"><pre><span></span><code><a id="__codelineno-36-1" name="__codelineno-36-1" href="#__codelineno-36-1"></a><span class="nb">export</span><span class="w"> </span><span class="nv">ASTRA_TABLE</span><span class="o">=</span>fable
<a id="__codelineno-36-2" name="__codelineno-36-2" href="#__codelineno-36-2"></a><span class="nb">export</span><span class="w"> </span><span class="nv">OPENAI_KEY</span><span class="o">=</span>&lt;change_me&gt;
</code></pre></div>
<ul>
<li><strong>Run pipeline</strong></li>
</ul>
<div class="highlight"><pre><span></span><code><a id="__codelineno-37-1" name="__codelineno-37-1" href="#__codelineno-37-1"></a><span class="w"> </span>mvn<span class="w"> </span>clean<span class="w"> </span>compile<span class="w"> </span>exec:java<span class="w"> </span><span class="se">\</span>
<a id="__codelineno-37-2" name="__codelineno-37-2" href="#__codelineno-37-2"></a><span class="w"> </span>-Dexec.mainClass<span class="o">=</span>com.datastax.astra.beam.genai.GenAI_02_CreateEmbeddings<span class="w"> </span><span class="se">\</span>
<a id="__codelineno-37-3" name="__codelineno-37-3" href="#__codelineno-37-3"></a><span class="w"> </span>-Dexec.args<span class="o">=</span><span class="s2">&quot;\</span>
<a id="__codelineno-37-4" name="__codelineno-37-4" href="#__codelineno-37-4"></a><span class="s2"> --astraToken=</span><span class="si">${</span><span class="nv">ASTRA_TOKEN</span><span class="si">}</span><span class="s2"> \</span>
<a id="__codelineno-37-5" name="__codelineno-37-5" href="#__codelineno-37-5"></a><span class="s2"> --astraSecureConnectBundle=</span><span class="si">${</span><span class="nv">ASTRA_SCB_PATH</span><span class="si">}</span><span class="s2"> \</span>
<a id="__codelineno-37-6" name="__codelineno-37-6" href="#__codelineno-37-6"></a><span class="s2"> --astraKeyspace=</span><span class="si">${</span><span class="nv">ASTRA_KEYSPACE</span><span class="si">}</span><span class="s2"> \</span>
<a id="__codelineno-37-7" name="__codelineno-37-7" href="#__codelineno-37-7"></a><span class="s2"> --openAiKey=</span><span class="si">${</span><span class="nv">OPENAI_KEY</span><span class="si">}</span><span class="s2"> \</span>
<a id="__codelineno-37-8" name="__codelineno-37-8" href="#__codelineno-37-8"></a><span class="s2"> --table=</span><span class="si">${</span><span class="nv">ASTRA_TABLE</span><span class="si">}</span><span class="s2">&quot;</span>
</code></pre></div>
<h2 id="google-dataflow-samples">Google Dataflow Samples<a class="headerlink" href="#google-dataflow-samples" title="Permanent link">&para;</a></h2>
<h3 id="1-setup-gcloud-cli">1. Setup gCloud CLI<a class="headerlink" href="#1-setup-gcloud-cli" title="Permanent link">&para;</a></h3>
<ul>
<li><strong>Create GCP Project</strong></li>
</ul>
<blockquote>
<p>Note: If you don't plan to keep the resources that you create in this guide, create a project instead of selecting an existing project. After you finish these steps, you can delete the project, removing all resources associated with the project. Create a new Project in Google Cloud Console or select an existing one.</p>
</blockquote>
<p>In the Google Cloud console, on the project selector page, select or <a href="https://cloud.google.com/resource-manager/docs/creating-managing-projects">create a Google Cloud project</a></p>
<ul>
<li><strong>Enable Billing</strong></li>
</ul>
<p>Make sure that billing is enabled for your Cloud project. Learn how to <a href="https://cloud.google.com/billing/docs/how-to/verify-billing-enabled">check if billing is enabled on a project</a></p>
<ul>
<li><strong>Save project ID</strong></li>
</ul>
<p><em>The project identifier is available in the column <code>ID</code>. We will need it so let's save it as an environment variable</em></p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-38-1" name="__codelineno-38-1" href="#__codelineno-38-1"></a><span class="nb">export</span><span class="w"> </span><span class="nv">GCP_PROJECT_ID</span><span class="o">=</span>&lt;your-gcp-project-id&gt;
<a id="__codelineno-38-2" name="__codelineno-38-2" href="#__codelineno-38-2"></a><span class="nb">export</span><span class="w"> </span><span class="nv">GCP_PROJECT_CODE</span><span class="o">=</span>&lt;your-gcp-project-code&gt;
<a id="__codelineno-38-3" name="__codelineno-38-3" href="#__codelineno-38-3"></a><span class="nb">export</span><span class="w"> </span><span class="nv">GCP_USER</span><span class="o">=</span>&lt;your-gcp-email&gt;
<a id="__codelineno-38-4" name="__codelineno-38-4" href="#__codelineno-38-4"></a><span class="nb">export</span><span class="w"> </span><span class="nv">GCP_COMPUTE_ENGINE</span><span class="o">=</span><span class="si">${</span><span class="nv">GCP_PROJECT_CODE</span><span class="si">}</span>-compute@developer.gserviceaccount.com
</code></pre></div>
<ul>
<li><strong>Install gCloud CLI</strong></li>
</ul>
<div class="highlight"><pre><span></span><code><a id="__codelineno-39-1" name="__codelineno-39-1" href="#__codelineno-39-1"></a>curl https://sdk.cloud.google.com | bash
</code></pre></div>
<ul>
<li><strong>Login to gCloud</strong>: Run the following command to authenticate with Google Cloud:</li>
</ul>
<div class="highlight"><pre><span></span><code><a id="__codelineno-40-1" name="__codelineno-40-1" href="#__codelineno-40-1"></a>gcloud auth login
</code></pre></div>
<ul>
<li><strong>Setup your project</strong>: If you haven't set your project yet, use the following command to set your project ID:</li>
</ul>
<div class="highlight"><pre><span></span><code><a id="__codelineno-41-1" name="__codelineno-41-1" href="#__codelineno-41-1"></a>gcloud config set project ${GCP_PROJECT_ID}
<a id="__codelineno-41-2" name="__codelineno-41-2" href="#__codelineno-41-2"></a>gcloud projects describe ${GCP_PROJECT_ID}
</code></pre></div>
<ul>
<li><strong>Enable needed APIs</strong></li>
</ul>
<div class="highlight"><pre><span></span><code><a id="__codelineno-42-1" name="__codelineno-42-1" href="#__codelineno-42-1"></a>gcloud services enable dataflow compute_component \
<a id="__codelineno-42-2" name="__codelineno-42-2" href="#__codelineno-42-2"></a>   logging storage_component storage_api \
<a id="__codelineno-42-3" name="__codelineno-42-3" href="#__codelineno-42-3"></a>   bigquery pubsub datastore.googleapis.com \
<a id="__codelineno-42-4" name="__codelineno-42-4" href="#__codelineno-42-4"></a>   cloudresourcemanager.googleapis.com
</code></pre></div>
<ul>
<li><strong>Add Roles</strong></li>
</ul>
<p>To complete the steps, your user account must have the Dataflow Admin role and the Service Account User role. The Compute Engine default service account must have the Dataflow Worker role. To add the required roles in the Google Cloud console:</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-43-1" name="__codelineno-43-1" href="#__codelineno-43-1"></a>gcloud projects add-iam-policy-binding ${GCP_PROJECT_ID} \
<a id="__codelineno-43-2" name="__codelineno-43-2" href="#__codelineno-43-2"></a>    --member=&quot;user:${GCP_USER}&quot; \
<a id="__codelineno-43-3" name="__codelineno-43-3" href="#__codelineno-43-3"></a>    --role=roles/iam.serviceAccountUser
<a id="__codelineno-43-4" name="__codelineno-43-4" href="#__codelineno-43-4"></a>gcloud projects add-iam-policy-binding ${GCP_PROJECT_ID}  \
<a id="__codelineno-43-5" name="__codelineno-43-5" href="#__codelineno-43-5"></a>    --member=&quot;serviceAccount:${GCP_COMPUTE_ENGINE}&quot; \
<a id="__codelineno-43-6" name="__codelineno-43-6" href="#__codelineno-43-6"></a>    --role=roles/dataflow.admin
<a id="__codelineno-43-7" name="__codelineno-43-7" href="#__codelineno-43-7"></a>gcloud projects add-iam-policy-binding ${GCP_PROJECT_ID}  \
<a id="__codelineno-43-8" name="__codelineno-43-8" href="#__codelineno-43-8"></a>    --member=&quot;serviceAccount:${GCP_COMPUTE_ENGINE}&quot; \
<a id="__codelineno-43-9" name="__codelineno-43-9" href="#__codelineno-43-9"></a>    --role=roles/dataflow.worker
<a id="__codelineno-43-10" name="__codelineno-43-10" href="#__codelineno-43-10"></a>gcloud projects add-iam-policy-binding ${GCP_PROJECT_ID}  \
<a id="__codelineno-43-11" name="__codelineno-43-11" href="#__codelineno-43-11"></a>    --member=&quot;serviceAccount:${GCP_COMPUTE_ENGINE}&quot; \
<a id="__codelineno-43-12" name="__codelineno-43-12" href="#__codelineno-43-12"></a>    --role=roles/storage.objectAdmin
</code></pre></div>
<h3 id="2-gcs-to-astradb">2. GCS to AstraDB<a class="headerlink" href="#2-gcs-to-astradb" title="Permanent link">&para;</a></h3>
<p><img src="https://awesome-astra.github.io/docs/img/google-cloud-dataflow/gcs-to-astra.png" /></p>
<ul>
<li>
<p><strong>Access Folder</strong></p>
</li>
<li>
<p>Make sure you are in <code>samples-dataflow</code> folder</p>
</li>
</ul>
<div class="highlight"><pre><span></span><code><a id="__codelineno-44-1" name="__codelineno-44-1" href="#__codelineno-44-1"></a><span class="nb">cd</span><span class="w"> </span>samples-dataflow
<a id="__codelineno-44-2" name="__codelineno-44-2" href="#__codelineno-44-2"></a><span class="nb">pwd</span>
</code></pre></div>
<ul>
<li><strong>Create <code>buckets</code></strong>: Create the bucket for the for the project in cloud storage:</li>
</ul>
<div class="highlight"><pre><span></span><code><a id="__codelineno-45-1" name="__codelineno-45-1" href="#__codelineno-45-1"></a><span class="nb">export</span><span class="w"> </span><span class="nv">GCP_BUCKET_INPUT</span><span class="o">=</span>gs://astra_dataflow_inputs
<a id="__codelineno-45-2" name="__codelineno-45-2" href="#__codelineno-45-2"></a>gsutil<span class="w"> </span>mb<span class="w"> </span>-c<span class="w"> </span>STANDARD<span class="w"> </span>-l<span class="w"> </span>US<span class="w"> </span><span class="si">${</span><span class="nv">GCP_BUCKET_INPUT</span><span class="si">}</span>
</code></pre></div>
<p>Copy the CSV file in the bucket</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-46-1" name="__codelineno-46-1" href="#__codelineno-46-1"></a>gsutil<span class="w"> </span>cp<span class="w"> </span>src/test/resources/language-codes.csv<span class="w"> </span><span class="si">${</span><span class="nv">GCP_BUCKET_INPUT</span><span class="si">}</span>/csv/
<a id="__codelineno-46-2" name="__codelineno-46-2" href="#__codelineno-46-2"></a>gsutil<span class="w"> </span>ls
</code></pre></div>
<ul>
<li><strong>Create Secrets</strong></li>
</ul>
<p><a href="https://cloud.google.com/secret-manager/docs/creating-and-accessing-secrets#secretmanager-create-secret-gcloud">Create secrets for the project in secret manager</a>**. To connect to <code>AstraDB</code> you need a token (credentials) and a zip used to secure the transport. Those two inputs should be defined as <em>secrets</em>.</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-47-1" name="__codelineno-47-1" href="#__codelineno-47-1"></a><span class="nb">export</span><span class="w"> </span><span class="nv">GCP_SECRET_TOKEN</span><span class="o">=</span>token
<a id="__codelineno-47-2" name="__codelineno-47-2" href="#__codelineno-47-2"></a><span class="nb">export</span><span class="w"> </span><span class="nv">GCP_SECRET_SECURE_BUNDLE</span><span class="o">=</span>cedrick-demo-scb
<a id="__codelineno-47-3" name="__codelineno-47-3" href="#__codelineno-47-3"></a>gcloud<span class="w"> </span>secrets<span class="w"> </span>create<span class="w"> </span><span class="si">${</span><span class="nv">GCP_SECRET_TOKEN</span><span class="si">}</span><span class="w"> </span><span class="se">\</span>
<a id="__codelineno-47-4" name="__codelineno-47-4" href="#__codelineno-47-4"></a><span class="w">  </span>--data-file<span class="w"> </span>&lt;<span class="o">(</span><span class="nb">echo</span><span class="w"> </span>-n<span class="w"> </span><span class="s2">&quot;</span><span class="si">${</span><span class="nv">ASTRA_TOKEN</span><span class="si">}</span><span class="s2">&quot;</span><span class="o">)</span><span class="w"> </span><span class="se">\</span>
<a id="__codelineno-47-5" name="__codelineno-47-5" href="#__codelineno-47-5"></a><span class="w">  </span>--replication-policy<span class="o">=</span><span class="s2">&quot;automatic&quot;</span>
<a id="__codelineno-47-6" name="__codelineno-47-6" href="#__codelineno-47-6"></a>
<a id="__codelineno-47-7" name="__codelineno-47-7" href="#__codelineno-47-7"></a>gcloud<span class="w"> </span>secrets<span class="w"> </span>add-iam-policy-binding<span class="w"> </span><span class="si">${</span><span class="nv">GCP_SECRET_TOKEN</span><span class="si">}</span><span class="w"> </span><span class="se">\</span>
<a id="__codelineno-47-8" name="__codelineno-47-8" href="#__codelineno-47-8"></a><span class="w">   </span>--member<span class="o">=</span><span class="s2">&quot;serviceAccount:</span><span class="si">${</span><span class="nv">GCP_COMPUTE_ENGINE</span><span class="si">}</span><span class="s2">&quot;</span><span class="w"> </span><span class="se">\</span>
<a id="__codelineno-47-9" name="__codelineno-47-9" href="#__codelineno-47-9"></a><span class="w">   </span>--role<span class="o">=</span><span class="s1">&#39;roles/secretmanager.secretAccessor&#39;</span>
<a id="__codelineno-47-10" name="__codelineno-47-10" href="#__codelineno-47-10"></a>
<a id="__codelineno-47-11" name="__codelineno-47-11" href="#__codelineno-47-11"></a>gcloud<span class="w"> </span>secrets<span class="w"> </span>create<span class="w"> </span><span class="si">${</span><span class="nv">GCP_SECRET_SECURE_BUNDLE</span><span class="si">}</span><span class="w"> </span><span class="se">\</span>
<a id="__codelineno-47-12" name="__codelineno-47-12" href="#__codelineno-47-12"></a><span class="w">  </span>--data-file<span class="w"> </span><span class="si">${</span><span class="nv">ASTRA_SCB_PATH</span><span class="si">}</span><span class="w"> </span><span class="se">\</span>
<a id="__codelineno-47-13" name="__codelineno-47-13" href="#__codelineno-47-13"></a><span class="w">  </span>--replication-policy<span class="o">=</span><span class="s2">&quot;automatic&quot;</span>
<a id="__codelineno-47-14" name="__codelineno-47-14" href="#__codelineno-47-14"></a>
<a id="__codelineno-47-15" name="__codelineno-47-15" href="#__codelineno-47-15"></a>gcloud<span class="w"> </span>secrets<span class="w"> </span>add-iam-policy-binding<span class="w"> </span><span class="si">${</span><span class="nv">GCP_SECRET_SECURE_BUNDLE</span><span class="si">}</span><span class="w"> </span><span class="se">\</span>
<a id="__codelineno-47-16" name="__codelineno-47-16" href="#__codelineno-47-16"></a><span class="w">   </span>--member<span class="o">=</span><span class="s2">&quot;serviceAccount:</span><span class="si">${</span><span class="nv">GCP_COMPUTE_ENGINE</span><span class="si">}</span><span class="s2">&quot;</span><span class="w"> </span><span class="se">\</span>
<a id="__codelineno-47-17" name="__codelineno-47-17" href="#__codelineno-47-17"></a><span class="w">   </span>--role<span class="o">=</span><span class="s1">&#39;roles/secretmanager.secretAccessor&#39;</span>
<a id="__codelineno-47-18" name="__codelineno-47-18" href="#__codelineno-47-18"></a>
<a id="__codelineno-47-19" name="__codelineno-47-19" href="#__codelineno-47-19"></a>gcloud<span class="w"> </span>secrets<span class="w"> </span>list
</code></pre></div>
<ul>
<li><strong>Create Keyspace</strong></li>
</ul>
<div class="highlight"><pre><span></span><code><a id="__codelineno-48-1" name="__codelineno-48-1" href="#__codelineno-48-1"></a>astra<span class="w"> </span>db<span class="w"> </span>create-keyspace<span class="w"> </span>demo<span class="w"> </span><span class="se">\</span>
<a id="__codelineno-48-2" name="__codelineno-48-2" href="#__codelineno-48-2"></a><span class="w">   </span>-k<span class="w"> </span>samples_dataflow<span class="w"> </span><span class="se">\</span>
<a id="__codelineno-48-3" name="__codelineno-48-3" href="#__codelineno-48-3"></a><span class="w">   </span>--if-not-exist
</code></pre></div>
<ul>
<li><strong>Setup Env. variables</strong></li>
</ul>
<div class="highlight"><pre><span></span><code><a id="__codelineno-49-1" name="__codelineno-49-1" href="#__codelineno-49-1"></a><span class="nb">export</span><span class="w"> </span><span class="nv">ASTRA_DB</span><span class="o">=</span>&lt;your-db-name&gt;
<a id="__codelineno-49-2" name="__codelineno-49-2" href="#__codelineno-49-2"></a><span class="nb">export</span><span class="w"> </span><span class="nv">ASTRA_KEYSPACE</span><span class="o">=</span>&lt;your-keyspace&gt;
<a id="__codelineno-49-3" name="__codelineno-49-3" href="#__codelineno-49-3"></a><span class="nb">export</span><span class="w"> </span><span class="nv">ASTRA_SECRET_TOKEN</span><span class="o">=</span>projects/<span class="si">${</span><span class="nv">GCP_PROJECT_CODE</span><span class="si">}</span>/secrets/<span class="si">${</span><span class="nv">GCP_SECRET_TOKEN</span><span class="si">}</span>/versions/1
<a id="__codelineno-49-4" name="__codelineno-49-4" href="#__codelineno-49-4"></a><span class="nb">export</span><span class="w"> </span><span class="nv">ASTRA_SECRET_SECURE_BUNDLE</span><span class="o">=</span>projects/<span class="si">${</span><span class="nv">GCP_PROJECT_CODE</span><span class="si">}</span>/secrets/<span class="si">${</span><span class="nv">GCP_SECRET_SECURE_BUNDLE</span><span class="si">}</span>/versions/1
<a id="__codelineno-49-5" name="__codelineno-49-5" href="#__codelineno-49-5"></a><span class="nb">export</span><span class="w"> </span><span class="nv">GCP_INPUT_CSV</span><span class="o">=</span><span class="si">${</span><span class="nv">GCP_BUCKET_INPUT</span><span class="si">}</span>/csv/language-codes.csv
</code></pre></div>
<ul>
<li><strong>Run the demo</strong></li>
</ul>
<div class="highlight"><pre><span></span><code><a id="__codelineno-50-1" name="__codelineno-50-1" href="#__codelineno-50-1"></a><span class="w"> </span>mvn<span class="w"> </span>compile<span class="w"> </span>exec:java<span class="w"> </span><span class="se">\</span>
<a id="__codelineno-50-2" name="__codelineno-50-2" href="#__codelineno-50-2"></a><span class="w"> </span>-Dexec.mainClass<span class="o">=</span>com.datastax.astra.dataflow.Gcs_To_AstraDb<span class="w"> </span><span class="se">\</span>
<a id="__codelineno-50-3" name="__codelineno-50-3" href="#__codelineno-50-3"></a><span class="w"> </span>-Dexec.args<span class="o">=</span><span class="s2">&quot;\</span>
<a id="__codelineno-50-4" name="__codelineno-50-4" href="#__codelineno-50-4"></a><span class="s2"> --astraToken=</span><span class="si">${</span><span class="nv">ASTRA_SECRET_TOKEN</span><span class="si">}</span><span class="s2"> \</span>
<a id="__codelineno-50-5" name="__codelineno-50-5" href="#__codelineno-50-5"></a><span class="s2"> --astraSecureConnectBundle=</span><span class="si">${</span><span class="nv">ASTRA_SECRET_SECURE_BUNDLE</span><span class="si">}</span><span class="s2"> \</span>
<a id="__codelineno-50-6" name="__codelineno-50-6" href="#__codelineno-50-6"></a><span class="s2"> --astraKeyspace=</span><span class="si">${</span><span class="nv">ASTRA_KEYSPACE</span><span class="si">}</span><span class="s2"> \</span>
<a id="__codelineno-50-7" name="__codelineno-50-7" href="#__codelineno-50-7"></a><span class="s2"> --csvInput=</span><span class="si">${</span><span class="nv">GCP_INPUT_CSV</span><span class="si">}</span><span class="s2"> \</span>
<a id="__codelineno-50-8" name="__codelineno-50-8" href="#__codelineno-50-8"></a><span class="s2"> --project=</span><span class="si">${</span><span class="nv">GCP_PROJECT_ID</span><span class="si">}</span><span class="s2"> \</span>
<a id="__codelineno-50-9" name="__codelineno-50-9" href="#__codelineno-50-9"></a><span class="s2"> --runner=DataflowRunner \</span>
<a id="__codelineno-50-10" name="__codelineno-50-10" href="#__codelineno-50-10"></a><span class="s2"> --region=us-central1&quot;</span>
</code></pre></div>
<ul>
<li><strong>Check Astra table is populated</strong></li>
</ul>
<div class="highlight"><pre><span></span><code><a id="__codelineno-51-1" name="__codelineno-51-1" href="#__codelineno-51-1"></a>astra<span class="w"> </span>db<span class="w"> </span>cqlsh<span class="w"> </span><span class="si">${</span><span class="nv">ASTRA_DB</span><span class="si">}</span><span class="w"> </span><span class="se">\</span>
<a id="__codelineno-51-2" name="__codelineno-51-2" href="#__codelineno-51-2"></a><span class="w">   </span>-k<span class="w"> </span><span class="si">${</span><span class="nv">ASTRA_KEYSPACE</span><span class="si">}</span><span class="w"> </span><span class="se">\</span>
<a id="__codelineno-51-3" name="__codelineno-51-3" href="#__codelineno-51-3"></a><span class="w">   </span>-e<span class="w"> </span><span class="s2">&quot;SELECT * FROM languages LIMIT 10;&quot;</span>
</code></pre></div>
<h3 id="3-astradb-to-gcs">3. AstraDb to GCS<a class="headerlink" href="#3-astradb-to-gcs" title="Permanent link">&para;</a></h3>
<p><img src="https://awesome-astra.github.io/docs/img/google-cloud-dataflow/astra-to-gcs.png" /></p>
<div class="admonition note">
<p class="admonition-title">Note<p>We assume that you have already executed pipeline described in <code>D.1</code> to <code>D.5</code> and that gcloud is set up.</p>
</p>
</div>
<ul>
<li><strong>Environment Variables</strong></li>
</ul>
<div class="highlight"><pre><span></span><code><a id="__codelineno-52-1" name="__codelineno-52-1" href="#__codelineno-52-1"></a><span class="nb">export</span><span class="w"> </span><span class="nv">ASTRA_DB</span><span class="o">=</span>&lt;your-db-name&gt;
<a id="__codelineno-52-2" name="__codelineno-52-2" href="#__codelineno-52-2"></a><span class="nb">export</span><span class="w"> </span><span class="nv">ASTRA_KEYSPACE</span><span class="o">=</span>&lt;your-keyspace&gt;
<a id="__codelineno-52-3" name="__codelineno-52-3" href="#__codelineno-52-3"></a><span class="nb">export</span><span class="w"> </span><span class="nv">ASTRA_TABLE</span><span class="o">=</span>&lt;your-table&gt;
<a id="__codelineno-52-4" name="__codelineno-52-4" href="#__codelineno-52-4"></a><span class="nb">export</span><span class="w"> </span><span class="nv">ASTRA_SECRET_TOKEN</span><span class="o">=</span>projects/<span class="si">${</span><span class="nv">GCP_PROJECT_CODE</span><span class="si">}</span>/secrets/<span class="si">${</span><span class="nv">GCP_SECRET_TOKEN</span><span class="si">}</span>/versions/1
<a id="__codelineno-52-5" name="__codelineno-52-5" href="#__codelineno-52-5"></a><span class="nb">export</span><span class="w"> </span><span class="nv">ASTRA_SECRET_SECURE_BUNDLE</span><span class="o">=</span>projects/<span class="si">${</span><span class="nv">GCP_PROJECT_CODE</span><span class="si">}</span>/secrets/<span class="si">${</span><span class="nv">GCP_SECRET_SECURE_BUNDLE</span><span class="si">}</span>/versions/1
<a id="__codelineno-52-6" name="__codelineno-52-6" href="#__codelineno-52-6"></a><span class="nb">export</span><span class="w"> </span><span class="nv">GCP_PROJECT_ID</span><span class="o">=</span>&lt;your-gcp-project-id&gt;
</code></pre></div>
<ul>
<li><strong>Create output bucket</strong></li>
</ul>
<div class="highlight"><pre><span></span><code><a id="__codelineno-53-1" name="__codelineno-53-1" href="#__codelineno-53-1"></a><span class="nb">export</span><span class="w"> </span><span class="nv">GCP_OUTPUT_CSV</span><span class="o">=</span>gs://astra_dataflow_outputs
<a id="__codelineno-53-2" name="__codelineno-53-2" href="#__codelineno-53-2"></a>gsutil<span class="w"> </span>mb<span class="w"> </span>-c<span class="w"> </span>STANDARD<span class="w"> </span>-l<span class="w"> </span>US<span class="w"> </span><span class="si">${</span><span class="nv">GCP_OUTPUT_CSV</span><span class="si">}</span>
</code></pre></div>
<ul>
<li><strong>Access folder</strong></li>
</ul>
<div class="highlight"><pre><span></span><code><a id="__codelineno-54-1" name="__codelineno-54-1" href="#__codelineno-54-1"></a><span class="nb">cd</span><span class="w"> </span>samples-dataflow
<a id="__codelineno-54-2" name="__codelineno-54-2" href="#__codelineno-54-2"></a><span class="nb">pwd</span>
</code></pre></div>
<ul>
<li><strong>Run the pipeline</strong></li>
</ul>
<div class="highlight"><pre><span></span><code><a id="__codelineno-55-1" name="__codelineno-55-1" href="#__codelineno-55-1"></a><span class="w"> </span>mvn<span class="w"> </span>compile<span class="w"> </span>exec:java<span class="w"> </span><span class="se">\</span>
<a id="__codelineno-55-2" name="__codelineno-55-2" href="#__codelineno-55-2"></a><span class="w"> </span>-Dexec.mainClass<span class="o">=</span>com.datastax.astra.dataflow.AstraDb_To_Gcs<span class="w"> </span><span class="se">\</span>
<a id="__codelineno-55-3" name="__codelineno-55-3" href="#__codelineno-55-3"></a><span class="w"> </span>-Dexec.args<span class="o">=</span><span class="s2">&quot;\</span>
<a id="__codelineno-55-4" name="__codelineno-55-4" href="#__codelineno-55-4"></a><span class="s2"> --astraToken=</span><span class="si">${</span><span class="nv">ASTRA_SECRET_TOKEN</span><span class="si">}</span><span class="s2"> \</span>
<a id="__codelineno-55-5" name="__codelineno-55-5" href="#__codelineno-55-5"></a><span class="s2"> --astraSecureConnectBundle=</span><span class="si">${</span><span class="nv">ASTRA_SECRET_SECURE_BUNDLE</span><span class="si">}</span><span class="s2"> \</span>
<a id="__codelineno-55-6" name="__codelineno-55-6" href="#__codelineno-55-6"></a><span class="s2"> --astraKeyspace=</span><span class="si">${</span><span class="nv">ASTRA_KEYSPACE</span><span class="si">}</span><span class="s2"> \</span>
<a id="__codelineno-55-7" name="__codelineno-55-7" href="#__codelineno-55-7"></a><span class="s2"> --table=</span><span class="si">${</span><span class="nv">ASTRA_TABLE</span><span class="si">}</span><span class="s2"> \</span>
<a id="__codelineno-55-8" name="__codelineno-55-8" href="#__codelineno-55-8"></a><span class="s2"> --outputFolder=</span><span class="si">${</span><span class="nv">GCP_OUTPUT_CSV</span><span class="si">}</span><span class="s2"> \</span>
<a id="__codelineno-55-9" name="__codelineno-55-9" href="#__codelineno-55-9"></a><span class="s2"> --project=</span><span class="si">${</span><span class="nv">GCP_PROJECT_ID</span><span class="si">}</span><span class="s2"> \</span>
<a id="__codelineno-55-10" name="__codelineno-55-10" href="#__codelineno-55-10"></a><span class="s2"> --runner=DataflowRunner \</span>
<a id="__codelineno-55-11" name="__codelineno-55-11" href="#__codelineno-55-11"></a><span class="s2"> --region=us-central1&quot;</span>
</code></pre></div>
<h3 id="4-astradb-to-bigquery">4. AstraDb to BigQuery<a class="headerlink" href="#4-astradb-to-bigquery" title="Permanent link">&para;</a></h3>
<div class="admonition note">
<p class="admonition-title">Note<p>We assume that you have already executed pipeline described in <code>D.1</code> to <code>D.5</code> and that gcloud is set up.</p>
</p>
</div>
<p><img src="https://awesome-astra.github.io/docs/img/google-cloud-dataflow/astra-to-bigquery.png" /></p>
<ul>
<li><strong>Access Folder</strong></li>
</ul>
<div class="highlight"><pre><span></span><code><a id="__codelineno-56-1" name="__codelineno-56-1" href="#__codelineno-56-1"></a><span class="nb">cd</span><span class="w"> </span>samples-dataflow
<a id="__codelineno-56-2" name="__codelineno-56-2" href="#__codelineno-56-2"></a><span class="nb">pwd</span>
</code></pre></div>
<ul>
<li><strong>Setup Env. Variables</strong></li>
</ul>
<div class="highlight"><pre><span></span><code><a id="__codelineno-57-1" name="__codelineno-57-1" href="#__codelineno-57-1"></a><span class="nb">export</span><span class="w"> </span><span class="nv">ASTRA_DB</span><span class="o">=</span>&lt;your-db-name&gt;
<a id="__codelineno-57-2" name="__codelineno-57-2" href="#__codelineno-57-2"></a><span class="nb">export</span><span class="w"> </span><span class="nv">ASTRA_KEYSPACE</span><span class="o">=</span>&lt;your-keyspace&gt;
<a id="__codelineno-57-3" name="__codelineno-57-3" href="#__codelineno-57-3"></a><span class="nb">export</span><span class="w"> </span><span class="nv">ASTRA_SECRET_TOKEN</span><span class="o">=</span>projects/<span class="si">${</span><span class="nv">GCP_PROJECT_CODE</span><span class="si">}</span>/secrets/<span class="si">${</span><span class="nv">GCP_SECRET_TOKEN</span><span class="si">}</span>/versions/1
<a id="__codelineno-57-4" name="__codelineno-57-4" href="#__codelineno-57-4"></a><span class="nb">export</span><span class="w"> </span><span class="nv">ASTRA_SECRET_SECURE_BUNDLE</span><span class="o">=</span>projects/<span class="si">${</span><span class="nv">GCP_PROJECT_CODE</span><span class="si">}</span>/secrets/<span class="si">${</span><span class="nv">GCP_SECRET_SECURE_BUNDLE</span><span class="si">}</span>/versions/1
<a id="__codelineno-57-5" name="__codelineno-57-5" href="#__codelineno-57-5"></a><span class="nb">export</span><span class="w"> </span><span class="nv">GCP_PROJECT_ID</span><span class="o">=</span>&lt;your-gcp-project-id&gt;
</code></pre></div>
<ul>
<li>
<p><strong>Create BigQuery dataset</strong></p>
</li>
<li>
<p>Create a dataset in <code>dataflow_input_us</code> BigQuery with the following command</p>
</li>
</ul>
<div class="highlight"><pre><span></span><code><a id="__codelineno-58-1" name="__codelineno-58-1" href="#__codelineno-58-1"></a><span class="nb">export</span><span class="w"> </span><span class="nv">GCP_BIGQUERY_DATASET</span><span class="o">=</span>dataflow_input_us
<a id="__codelineno-58-2" name="__codelineno-58-2" href="#__codelineno-58-2"></a>bq<span class="w"> </span>mk<span class="w"> </span><span class="si">${</span><span class="nv">GCP_BIGQUERY_DATASET</span><span class="si">}</span>
<a id="__codelineno-58-3" name="__codelineno-58-3" href="#__codelineno-58-3"></a>bq<span class="w"> </span>ls<span class="w"> </span>--format<span class="o">=</span>pretty
</code></pre></div>
<ul>
<li>
<p><strong>Create BigQuery Schema</strong></p>
</li>
<li>
<p>Create a json <code>schema_language_codes.json</code> file with the schema of the table** We have created it for you <a href="samples-dataflow/src/main/resources/schema_language_codes.json">here</a></p>
</li>
</ul>
<div class="highlight"><pre><span></span><code><a id="__codelineno-59-1" name="__codelineno-59-1" href="#__codelineno-59-1"></a><span class="p">[</span>
<a id="__codelineno-59-2" name="__codelineno-59-2" href="#__codelineno-59-2"></a><span class="w">  </span><span class="p">{</span>
<a id="__codelineno-59-3" name="__codelineno-59-3" href="#__codelineno-59-3"></a><span class="w">    </span><span class="nt">&quot;mode&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;REQUIRED&quot;</span><span class="p">,</span>
<a id="__codelineno-59-4" name="__codelineno-59-4" href="#__codelineno-59-4"></a><span class="w">    </span><span class="nt">&quot;name&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;code&quot;</span><span class="p">,</span>
<a id="__codelineno-59-5" name="__codelineno-59-5" href="#__codelineno-59-5"></a><span class="w">    </span><span class="nt">&quot;type&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;STRING&quot;</span>
<a id="__codelineno-59-6" name="__codelineno-59-6" href="#__codelineno-59-6"></a><span class="w">  </span><span class="p">},</span>
<a id="__codelineno-59-7" name="__codelineno-59-7" href="#__codelineno-59-7"></a><span class="w">  </span><span class="p">{</span>
<a id="__codelineno-59-8" name="__codelineno-59-8" href="#__codelineno-59-8"></a><span class="w">    </span><span class="nt">&quot;mode&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;REQUIRED&quot;</span><span class="p">,</span>
<a id="__codelineno-59-9" name="__codelineno-59-9" href="#__codelineno-59-9"></a><span class="w">    </span><span class="nt">&quot;name&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;language&quot;</span><span class="p">,</span>
<a id="__codelineno-59-10" name="__codelineno-59-10" href="#__codelineno-59-10"></a><span class="w">    </span><span class="nt">&quot;type&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;STRING&quot;</span>
<a id="__codelineno-59-11" name="__codelineno-59-11" href="#__codelineno-59-11"></a><span class="w">  </span><span class="p">}</span>
<a id="__codelineno-59-12" name="__codelineno-59-12" href="#__codelineno-59-12"></a><span class="p">]</span>
</code></pre></div>
<ul>
<li><strong>Create BigQuery Table</strong></li>
</ul>
<div class="highlight"><pre><span></span><code><a id="__codelineno-60-1" name="__codelineno-60-1" href="#__codelineno-60-1"></a><span class="nb">export</span><span class="w"> </span><span class="nv">GCP_BIGQUERY_TABLE</span><span class="o">=</span>destination
<a id="__codelineno-60-2" name="__codelineno-60-2" href="#__codelineno-60-2"></a>bq<span class="w"> </span>mk<span class="w"> </span>--table<span class="w"> </span>--schema<span class="w"> </span>src/main/resources/schema_language_codes.json<span class="w"> </span><span class="si">${</span><span class="nv">GCP_BIGQUERY_DATASET</span><span class="si">}</span>.<span class="si">${</span><span class="nv">GCP_BIGQUERY_TABLE</span><span class="si">}</span>
</code></pre></div>
<ul>
<li><strong>List tables dataset</strong></li>
</ul>
<div class="highlight"><pre><span></span><code><a id="__codelineno-61-1" name="__codelineno-61-1" href="#__codelineno-61-1"></a>bq<span class="w"> </span>ls<span class="w"> </span>--format<span class="o">=</span>pretty<span class="w"> </span><span class="si">${</span><span class="nv">GCP_PROJECT_ID</span><span class="si">}</span>:<span class="si">${</span><span class="nv">GCP_BIGQUERY_DATASET</span><span class="si">}</span>
</code></pre></div>
<ul>
<li><strong>Show Table schema</strong></li>
</ul>
<div class="highlight"><pre><span></span><code><a id="__codelineno-62-1" name="__codelineno-62-1" href="#__codelineno-62-1"></a>bq<span class="w"> </span>show<span class="w"> </span>--schema<span class="w"> </span>--format<span class="o">=</span>prettyjson<span class="w"> </span><span class="si">${</span><span class="nv">GCP_PROJECT_ID</span><span class="si">}</span>:<span class="si">${</span><span class="nv">GCP_BIGQUERY_DATASET</span><span class="si">}</span>.<span class="si">${</span><span class="nv">GCP_BIGQUERY_TABLE</span><span class="si">}</span>
</code></pre></div>
<ul>
<li><strong>&gt;Run the pipeline</strong></li>
</ul>
<div class="highlight"><pre><span></span><code><a id="__codelineno-63-1" name="__codelineno-63-1" href="#__codelineno-63-1"></a>mvn<span class="w"> </span>compile<span class="w"> </span>exec:java<span class="w"> </span><span class="se">\</span>
<a id="__codelineno-63-2" name="__codelineno-63-2" href="#__codelineno-63-2"></a><span class="w"> </span>-Dexec.mainClass<span class="o">=</span>com.datastax.astra.dataflow.AstraDb_To_BigQuery<span class="w"> </span><span class="se">\</span>
<a id="__codelineno-63-3" name="__codelineno-63-3" href="#__codelineno-63-3"></a><span class="w"> </span>-Dexec.args<span class="o">=</span><span class="s2">&quot;\</span>
<a id="__codelineno-63-4" name="__codelineno-63-4" href="#__codelineno-63-4"></a><span class="s2"> --astraToken=</span><span class="si">${</span><span class="nv">ASTRA_SECRET_TOKEN</span><span class="si">}</span><span class="s2"> \</span>
<a id="__codelineno-63-5" name="__codelineno-63-5" href="#__codelineno-63-5"></a><span class="s2"> --astraSecureConnectBundle=</span><span class="si">${</span><span class="nv">ASTRA_SECRET_SECURE_BUNDLE</span><span class="si">}</span><span class="s2"> \</span>
<a id="__codelineno-63-6" name="__codelineno-63-6" href="#__codelineno-63-6"></a><span class="s2"> --astraKeyspace=</span><span class="si">${</span><span class="nv">ASTRA_KEYSPACE</span><span class="si">}</span><span class="s2"> \</span>
<a id="__codelineno-63-7" name="__codelineno-63-7" href="#__codelineno-63-7"></a><span class="s2"> --table=languages \</span>
<a id="__codelineno-63-8" name="__codelineno-63-8" href="#__codelineno-63-8"></a><span class="s2"> --bigQueryDataset=</span><span class="si">${</span><span class="nv">GCP_BIGQUERY_DATASET</span><span class="si">}</span><span class="s2"> \</span>
<a id="__codelineno-63-9" name="__codelineno-63-9" href="#__codelineno-63-9"></a><span class="s2"> --bigQueryTable=</span><span class="si">${</span><span class="nv">GCP_BIGQUERY_TABLE</span><span class="si">}</span><span class="s2"> \</span>
<a id="__codelineno-63-10" name="__codelineno-63-10" href="#__codelineno-63-10"></a><span class="s2"> --runner=DataflowRunner \</span>
<a id="__codelineno-63-11" name="__codelineno-63-11" href="#__codelineno-63-11"></a><span class="s2"> --project=</span><span class="si">${</span><span class="nv">GCP_PROJECT_ID</span><span class="si">}</span><span class="s2"> \</span>
<a id="__codelineno-63-12" name="__codelineno-63-12" href="#__codelineno-63-12"></a><span class="s2"> --region=us-central1&quot;</span>
</code></pre></div>
<ul>
<li><strong>Show Output Table</strong></li>
</ul>
<div class="highlight"><pre><span></span><code><a id="__codelineno-64-1" name="__codelineno-64-1" href="#__codelineno-64-1"></a>bq<span class="w"> </span>head<span class="w"> </span>-n<span class="w"> </span><span class="m">10</span><span class="w"> </span><span class="si">${</span><span class="nv">GCP_BIGQUERY_DATASET</span><span class="si">}</span>.<span class="si">${</span><span class="nv">GCP_BIGQUERY_TABLE</span><span class="si">}</span>
</code></pre></div>
<h3 id="5-bigquery-to-astradb">5. BigQuery to AstraDb<a class="headerlink" href="#5-bigquery-to-astradb" title="Permanent link">&para;</a></h3>
<p><img src="https://awesome-astra.github.io/docs/img/google-cloud-dataflow/bigquery-to-astra.png" /></p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>We assume that you have already executed pipeline described in <code>D.1</code> to <code>D.5</code> and that gcloud is set up. We also assume that you have a bigquery table populated as describe in <code>#F</code>,</p>
</div>
<ul>
<li><strong>Access Folder</strong></li>
</ul>
<div class="highlight"><pre><span></span><code><a id="__codelineno-65-1" name="__codelineno-65-1" href="#__codelineno-65-1"></a><span class="nb">cd</span><span class="w"> </span>samples-dataflow
<a id="__codelineno-65-2" name="__codelineno-65-2" href="#__codelineno-65-2"></a><span class="nb">pwd</span>
</code></pre></div>
<ul>
<li><strong>Setup Env. Variables</strong></li>
</ul>
<p><em>Replace with values coming from your gcp project. 
The destination table has been created in flow <code>3.3</code></em></p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-66-1" name="__codelineno-66-1" href="#__codelineno-66-1"></a><span class="nb">export</span><span class="w"> </span><span class="nv">ASTRA_DB</span><span class="o">=</span>&lt;your-db-name&gt;
<a id="__codelineno-66-2" name="__codelineno-66-2" href="#__codelineno-66-2"></a><span class="nb">export</span><span class="w"> </span><span class="nv">ASTRA_KEYSPACE</span><span class="o">=</span>&lt;your-keyspace&gt;
<a id="__codelineno-66-3" name="__codelineno-66-3" href="#__codelineno-66-3"></a><span class="nb">export</span><span class="w"> </span><span class="nv">ASTRA_TABLE</span><span class="o">=</span>languages
<a id="__codelineno-66-4" name="__codelineno-66-4" href="#__codelineno-66-4"></a><span class="nb">export</span><span class="w"> </span><span class="nv">ASTRA_SECRET_TOKEN</span><span class="o">=</span>projects/<span class="si">${</span><span class="nv">GCP_PROJECT_CODE</span><span class="si">}</span>/secrets/<span class="si">${</span><span class="nv">GCP_SECRET_TOKEN</span><span class="si">}</span>/versions/1
<a id="__codelineno-66-5" name="__codelineno-66-5" href="#__codelineno-66-5"></a><span class="nb">export</span><span class="w"> </span><span class="nv">ASTRA_SECRET_SECURE_BUNDLE</span><span class="o">=</span>projects/<span class="si">${</span><span class="nv">GCP_PROJECT_CODE</span><span class="si">}</span>/secrets/<span class="si">${</span><span class="nv">GCP_SECRET_SECURE_BUNDLE</span><span class="si">}</span>/versions/1
<a id="__codelineno-66-6" name="__codelineno-66-6" href="#__codelineno-66-6"></a><span class="nb">export</span><span class="w"> </span><span class="nv">GCP_PROJECT_ID</span><span class="o">=</span>&lt;your-gcp-project-id&gt;
<a id="__codelineno-66-7" name="__codelineno-66-7" href="#__codelineno-66-7"></a><span class="nb">export</span><span class="w"> </span><span class="nv">GCP_BIGQUERY_DATASET</span><span class="o">=</span>dataflow_input_us
<a id="__codelineno-66-8" name="__codelineno-66-8" href="#__codelineno-66-8"></a><span class="nb">export</span><span class="w"> </span><span class="nv">GCP_BIGQUERY_TABLE</span><span class="o">=</span>destination
</code></pre></div>
<ul>
<li><strong>Clear astra table</strong></li>
</ul>
<div class="highlight"><pre><span></span><code><a id="__codelineno-67-1" name="__codelineno-67-1" href="#__codelineno-67-1"></a>astra<span class="w"> </span>db<span class="w"> </span>cqlsh<span class="w"> </span><span class="si">${</span><span class="nv">ASTRA_DB</span><span class="si">}</span><span class="w"> </span><span class="se">\</span>
<a id="__codelineno-67-2" name="__codelineno-67-2" href="#__codelineno-67-2"></a><span class="w">  </span>-k<span class="w"> </span><span class="si">${</span><span class="nv">ASTRA_KEYSPACE</span><span class="si">}</span><span class="w"> </span><span class="se">\</span>
<a id="__codelineno-67-3" name="__codelineno-67-3" href="#__codelineno-67-3"></a><span class="w">  </span>-e<span class="w"> </span><span class="s2">&quot;TRUNCATE </span><span class="si">${</span><span class="nv">ASTRA_TABLE</span><span class="si">}</span><span class="s2">;&quot;</span>
</code></pre></div>
<ul>
<li><strong>Clear the Pipeline</strong></li>
</ul>
<div class="highlight"><pre><span></span><code><a id="__codelineno-68-1" name="__codelineno-68-1" href="#__codelineno-68-1"></a>mvn<span class="w"> </span>compile<span class="w"> </span>exec:java<span class="w"> </span><span class="se">\</span>
<a id="__codelineno-68-2" name="__codelineno-68-2" href="#__codelineno-68-2"></a><span class="w"> </span>-Dexec.mainClass<span class="o">=</span>com.datastax.astra.dataflow.BigQuery_To_AstraDb<span class="w"> </span><span class="se">\</span>
<a id="__codelineno-68-3" name="__codelineno-68-3" href="#__codelineno-68-3"></a><span class="w"> </span>-Dexec.args<span class="o">=</span><span class="s2">&quot;\</span>
<a id="__codelineno-68-4" name="__codelineno-68-4" href="#__codelineno-68-4"></a><span class="s2"> --astraToken=</span><span class="si">${</span><span class="nv">ASTRA_SECRET_TOKEN</span><span class="si">}</span><span class="s2"> \</span>
<a id="__codelineno-68-5" name="__codelineno-68-5" href="#__codelineno-68-5"></a><span class="s2"> --astraSecureConnectBundle=</span><span class="si">${</span><span class="nv">ASTRA_SECRET_SECURE_BUNDLE</span><span class="si">}</span><span class="s2"> \</span>
<a id="__codelineno-68-6" name="__codelineno-68-6" href="#__codelineno-68-6"></a><span class="s2"> --astraKeyspace=</span><span class="si">${</span><span class="nv">ASTRA_KEYSPACE</span><span class="si">}</span><span class="s2"> \</span>
<a id="__codelineno-68-7" name="__codelineno-68-7" href="#__codelineno-68-7"></a><span class="s2"> --bigQueryDataset=</span><span class="si">${</span><span class="nv">GCP_BIGQUERY_DATASET</span><span class="si">}</span><span class="s2"> \</span>
<a id="__codelineno-68-8" name="__codelineno-68-8" href="#__codelineno-68-8"></a><span class="s2"> --bigQueryTable=</span><span class="si">${</span><span class="nv">GCP_BIGQUERY_TABLE</span><span class="si">}</span><span class="s2"> \</span>
<a id="__codelineno-68-9" name="__codelineno-68-9" href="#__codelineno-68-9"></a><span class="s2"> --runner=DataflowRunner \</span>
<a id="__codelineno-68-10" name="__codelineno-68-10" href="#__codelineno-68-10"></a><span class="s2"> --project=</span><span class="si">${</span><span class="nv">GCP_PROJECT_ID</span><span class="si">}</span><span class="s2"> \</span>
<a id="__codelineno-68-11" name="__codelineno-68-11" href="#__codelineno-68-11"></a><span class="s2"> --region=us-central1&quot;</span>
</code></pre></div>
<ul>
<li><strong>Check output data</strong></li>
</ul>
<div class="highlight"><pre><span></span><code><a id="__codelineno-69-1" name="__codelineno-69-1" href="#__codelineno-69-1"></a>astra<span class="w"> </span>db<span class="w"> </span>cqlsh<span class="w"> </span><span class="si">${</span><span class="nv">ASTRA_DB</span><span class="si">}</span><span class="w"> </span><span class="se">\</span>
<a id="__codelineno-69-2" name="__codelineno-69-2" href="#__codelineno-69-2"></a><span class="w">  </span>-k<span class="w"> </span><span class="si">${</span><span class="nv">ASTRA_KEYSPACE</span><span class="si">}</span><span class="w"> </span><span class="se">\</span>
<a id="__codelineno-69-3" name="__codelineno-69-3" href="#__codelineno-69-3"></a><span class="w">  </span>-e<span class="w"> </span><span class="s2">&quot;select * FROM languages LIMIT 10;&quot;</span>
</code></pre></div>
<h3 id="6-bigquery-dynamic-mapping">6. BigQuery Dynamic Mapping<a class="headerlink" href="#6-bigquery-dynamic-mapping" title="Permanent link">&para;</a></h3>
<p><img src="https://awesome-astra.github.io/docs/img/google-cloud-dataflow/astra-to-bigquery.png" /></p>
<div class="admonition note">
<p class="admonition-title">Note<p>We assume that you have already executed pipeline described in <code>D.1</code> to <code>D.5</code> and that gcloud is set up.</p>
</p>
</div>
<ul>
<li><strong>Access Folder</strong></li>
</ul>
<div class="highlight"><pre><span></span><code><a id="__codelineno-70-1" name="__codelineno-70-1" href="#__codelineno-70-1"></a><span class="nb">cd</span><span class="w"> </span>samples-dataflow
<a id="__codelineno-70-2" name="__codelineno-70-2" href="#__codelineno-70-2"></a><span class="nb">pwd</span>
</code></pre></div>
<ul>
<li><strong>Setup Env. Variables</strong></li>
</ul>
<div class="highlight"><pre><span></span><code><a id="__codelineno-71-1" name="__codelineno-71-1" href="#__codelineno-71-1"></a><span class="nb">export</span><span class="w"> </span><span class="nv">GCP_PROJECT_ID</span><span class="o">=</span>&lt;your-gcp-project-id&gt;
<a id="__codelineno-71-2" name="__codelineno-71-2" href="#__codelineno-71-2"></a><span class="nb">export</span><span class="w"> </span><span class="nv">GCP_PROJECT_CODE</span><span class="o">=</span>&lt;your-gcp-project-code&gt;
<a id="__codelineno-71-3" name="__codelineno-71-3" href="#__codelineno-71-3"></a><span class="nb">export</span><span class="w"> </span><span class="nv">ASTRA_DB</span><span class="o">=</span>&lt;your-db-name&gt;
<a id="__codelineno-71-4" name="__codelineno-71-4" href="#__codelineno-71-4"></a><span class="nb">export</span><span class="w"> </span><span class="nv">ASTRA_KEYSPACE</span><span class="o">=</span>&lt;your-keyspace&gt;
<a id="__codelineno-71-5" name="__codelineno-71-5" href="#__codelineno-71-5"></a><span class="nb">export</span><span class="w"> </span><span class="nv">ASTRA_TABLE</span><span class="o">=</span>&lt;your-table&gt;
<a id="__codelineno-71-6" name="__codelineno-71-6" href="#__codelineno-71-6"></a><span class="nb">export</span><span class="w"> </span><span class="nv">ASTRA_SECRET_TOKEN</span><span class="o">=</span>projects/<span class="si">${</span><span class="nv">GCP_PROJECT_CODE</span><span class="si">}</span>/secrets/<span class="si">${</span><span class="nv">GCP_SECRET_TOKEN</span><span class="si">}</span>/versions/1
<a id="__codelineno-71-7" name="__codelineno-71-7" href="#__codelineno-71-7"></a><span class="nb">export</span><span class="w"> </span><span class="nv">ASTRA_SECRET_SECURE_BUNDLE</span><span class="o">=</span>projects/<span class="si">${</span><span class="nv">GCP_PROJECT_CODE</span><span class="si">}</span>/secrets/<span class="si">${</span><span class="nv">GCP_SECRET_SECURE_BUNDLE</span><span class="si">}</span>/versions/1
</code></pre></div>
<ul>
<li><strong>Run the pipeline</strong></li>
</ul>
<div class="highlight"><pre><span></span><code><a id="__codelineno-72-1" name="__codelineno-72-1" href="#__codelineno-72-1"></a>mvn<span class="w"> </span>compile<span class="w"> </span>exec:java<span class="w"> </span><span class="se">\</span>
<a id="__codelineno-72-2" name="__codelineno-72-2" href="#__codelineno-72-2"></a><span class="w"> </span>-Dexec.mainClass<span class="o">=</span>com.datastax.astra.dataflow.AstraDb_To_BigQuery_Dynamic<span class="w"> </span><span class="se">\</span>
<a id="__codelineno-72-3" name="__codelineno-72-3" href="#__codelineno-72-3"></a><span class="w"> </span>-Dexec.args<span class="o">=</span><span class="s2">&quot;\</span>
<a id="__codelineno-72-4" name="__codelineno-72-4" href="#__codelineno-72-4"></a><span class="s2"> --astraToken=</span><span class="si">${</span><span class="nv">ASTRA_SECRET_TOKEN</span><span class="si">}</span><span class="s2"> \</span>
<a id="__codelineno-72-5" name="__codelineno-72-5" href="#__codelineno-72-5"></a><span class="s2"> --astraSecureConnectBundle=</span><span class="si">${</span><span class="nv">ASTRA_SECRET_SECURE_BUNDLE</span><span class="si">}</span><span class="s2"> \</span>
<a id="__codelineno-72-6" name="__codelineno-72-6" href="#__codelineno-72-6"></a><span class="s2"> --keyspace=</span><span class="si">${</span><span class="nv">ASTRA_KEYSPACE</span><span class="si">}</span><span class="s2"> \</span>
<a id="__codelineno-72-7" name="__codelineno-72-7" href="#__codelineno-72-7"></a><span class="s2"> --table=</span><span class="si">${</span><span class="nv">ASTRA_TABLE</span><span class="si">}</span><span class="s2"> \</span>
<a id="__codelineno-72-8" name="__codelineno-72-8" href="#__codelineno-72-8"></a><span class="s2"> --runner=DataflowRunner \</span>
<a id="__codelineno-72-9" name="__codelineno-72-9" href="#__codelineno-72-9"></a><span class="s2"> --project=</span><span class="si">${</span><span class="nv">GCP_PROJECT_ID</span><span class="si">}</span><span class="s2"> \</span>
<a id="__codelineno-72-10" name="__codelineno-72-10" href="#__codelineno-72-10"></a><span class="s2"> --region=us-central1&quot;</span>
</code></pre></div>
<ul>
<li><strong>Show Content of Table</strong></li>
</ul>
<p>A dataset with the keyspace name and a table 
with the table name have been created in BigQuery.</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-73-1" name="__codelineno-73-1" href="#__codelineno-73-1"></a>bq<span class="w"> </span>head<span class="w"> </span>-n<span class="w"> </span><span class="m">10</span><span class="w"> </span><span class="si">${</span><span class="nv">ASTRA_KEYSPACE</span><span class="si">}</span>.<span class="si">${</span><span class="nv">ASTRA_TABLE</span><span class="si">}</span>
</code></pre></div>
</div>

  <hr>
<div class="md-source-file">
  <small>
    
      Last update:
      2023-06-24
    
  </small>
</div>


  




                
              </article>
            </div>
          
          
        </div>
        
          <button type="button" class="md-top md-icon" data-md-component="top" hidden>
            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M13 20h-2V8l-5.5 5.5-1.42-1.42L12 4.16l7.92 7.92-1.42 1.42L13 8v12Z"/></svg>
            Back to top
          </button>
        
      </main>
      
<footer class="md-footer">
    <div class="md-footer-meta md-typeset">
        <div class="md-footer-meta__inner md-grid">
            <!-- Copyright and theme information -->
            <div class="md-footer-copyright">
                
                Built by DataStax powered by
                <a href="https://www.mkdocs.org" title="MkDocs">MkDocs</a>
                and
                <a href="https://squidfunk.github.io/mkdocs-material/"
                   title="Material for MkDocs">
                    Material for MkDocs</a>
            </div>
            
            <div class="md-social">
  
    
    
    
    
      
      
    
    <a href="https://dtsx.io/discord" target="_blank" rel="noopener" title="dtsx.io" class="md-social__link">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 640 512"><!--! Font Awesome Free 6.4.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2023 Fonticons, Inc.--><path d="M524.531 69.836a1.5 1.5 0 0 0-.764-.7A485.065 485.065 0 0 0 404.081 32.03a1.816 1.816 0 0 0-1.923.91 337.461 337.461 0 0 0-14.9 30.6 447.848 447.848 0 0 0-134.426 0 309.541 309.541 0 0 0-15.135-30.6 1.89 1.89 0 0 0-1.924-.91 483.689 483.689 0 0 0-119.688 37.107 1.712 1.712 0 0 0-.788.676C39.068 183.651 18.186 294.69 28.43 404.354a2.016 2.016 0 0 0 .765 1.375 487.666 487.666 0 0 0 146.825 74.189 1.9 1.9 0 0 0 2.063-.676A348.2 348.2 0 0 0 208.12 430.4a1.86 1.86 0 0 0-1.019-2.588 321.173 321.173 0 0 1-45.868-21.853 1.885 1.885 0 0 1-.185-3.126 251.047 251.047 0 0 0 9.109-7.137 1.819 1.819 0 0 1 1.9-.256c96.229 43.917 200.41 43.917 295.5 0a1.812 1.812 0 0 1 1.924.233 234.533 234.533 0 0 0 9.132 7.16 1.884 1.884 0 0 1-.162 3.126 301.407 301.407 0 0 1-45.89 21.83 1.875 1.875 0 0 0-1 2.611 391.055 391.055 0 0 0 30.014 48.815 1.864 1.864 0 0 0 2.063.7A486.048 486.048 0 0 0 610.7 405.729a1.882 1.882 0 0 0 .765-1.352c12.264-126.783-20.532-236.912-86.934-334.541ZM222.491 337.58c-28.972 0-52.844-26.587-52.844-59.239s23.409-59.241 52.844-59.241c29.665 0 53.306 26.82 52.843 59.239 0 32.654-23.41 59.241-52.843 59.241Zm195.38 0c-28.971 0-52.843-26.587-52.843-59.239s23.409-59.241 52.843-59.241c29.667 0 53.307 26.82 52.844 59.239 0 32.654-23.177 59.241-52.844 59.241Z"/></svg>
    </a>
  
    
    
    
    
      
      
    
    <a href="https://www.facebook.com/datastax" target="_blank" rel="noopener" title="www.facebook.com" class="md-social__link">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><!--! Font Awesome Free 6.4.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2023 Fonticons, Inc.--><path d="M504 256C504 119 393 8 256 8S8 119 8 256c0 123.78 90.69 226.38 209.25 245V327.69h-63V256h63v-54.64c0-62.15 37-96.48 93.67-96.48 27.14 0 55.52 4.84 55.52 4.84v61h-31.28c-30.8 0-40.41 19.12-40.41 38.73V256h68.78l-11 71.69h-57.78V501C413.31 482.38 504 379.78 504 256z"/></svg>
    </a>
  
    
    
    
    
      
      
    
    <a href="https://github.com/datastaxdevs" target="_blank" rel="noopener" title="github.com" class="md-social__link">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 496 512"><!--! Font Awesome Free 6.4.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2023 Fonticons, Inc.--><path d="M165.9 397.4c0 2-2.3 3.6-5.2 3.6-3.3.3-5.6-1.3-5.6-3.6 0-2 2.3-3.6 5.2-3.6 3-.3 5.6 1.3 5.6 3.6zm-31.1-4.5c-.7 2 1.3 4.3 4.3 4.9 2.6 1 5.6 0 6.2-2s-1.3-4.3-4.3-5.2c-2.6-.7-5.5.3-6.2 2.3zm44.2-1.7c-2.9.7-4.9 2.6-4.6 4.9.3 2 2.9 3.3 5.9 2.6 2.9-.7 4.9-2.6 4.6-4.6-.3-1.9-3-3.2-5.9-2.9zM244.8 8C106.1 8 0 113.3 0 252c0 110.9 69.8 205.8 169.5 239.2 12.8 2.3 17.3-5.6 17.3-12.1 0-6.2-.3-40.4-.3-61.4 0 0-70 15-84.7-29.8 0 0-11.4-29.1-27.8-36.6 0 0-22.9-15.7 1.6-15.4 0 0 24.9 2 38.6 25.8 21.9 38.6 58.6 27.5 72.9 20.9 2.3-16 8.8-27.1 16-33.7-55.9-6.2-112.3-14.3-112.3-110.5 0-27.5 7.6-41.3 23.6-58.9-2.6-6.5-11.1-33.3 2.6-67.9 20.9-6.5 69 27 69 27 20-5.6 41.5-8.5 62.8-8.5s42.8 2.9 62.8 8.5c0 0 48.1-33.6 69-27 13.7 34.7 5.2 61.4 2.6 67.9 16 17.7 25.8 31.5 25.8 58.9 0 96.5-58.9 104.2-114.8 110.5 9.2 7.9 17 22.9 17 46.4 0 33.7-.3 75.4-.3 83.6 0 6.5 4.6 14.4 17.3 12.1C428.2 457.8 496 362.9 496 252 496 113.3 383.5 8 244.8 8zM97.2 352.9c-1.3 1-1 3.3.7 5.2 1.6 1.6 3.9 2.3 5.2 1 1.3-1 1-3.3-.7-5.2-1.6-1.6-3.9-2.3-5.2-1zm-10.8-8.1c-.7 1.3.3 2.9 2.3 3.9 1.6 1 3.6.7 4.3-.7.7-1.3-.3-2.9-2.3-3.9-2-.6-3.6-.3-4.3.7zm32.4 35.6c-1.6 1.3-1 4.3 1.3 6.2 2.3 2.3 5.2 2.6 6.5 1 1.3-1.3.7-4.3-1.3-6.2-2.2-2.3-5.2-2.6-6.5-1zm-11.4-14.7c-1.6 1-1.6 3.6 0 5.9 1.6 2.3 4.3 3.3 5.6 2.3 1.6-1.3 1.6-3.9 0-6.2-1.4-2.3-4-3.3-5.6-2z"/></svg>
    </a>
  
    
    
    
    
      
      
    
    <a href="https://datastax.medium.com/" target="_blank" rel="noopener" title="datastax.medium.com" class="md-social__link">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 640 512"><!--! Font Awesome Free 6.4.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2023 Fonticons, Inc.--><path d="M180.5 74.262C80.813 74.262 0 155.633 0 256s80.819 181.738 180.5 181.738S361 356.373 361 256 280.191 74.262 180.5 74.262Zm288.25 10.646c-49.845 0-90.245 76.619-90.245 171.095s40.406 171.1 90.251 171.1 90.251-76.619 90.251-171.1H559c0-94.503-40.4-171.095-90.248-171.095Zm139.506 17.821c-17.526 0-31.735 68.628-31.735 153.274s14.2 153.274 31.735 153.274S640 340.631 640 256c0-84.649-14.215-153.271-31.742-153.271Z"/></svg>
    </a>
  
    
    
    
    
      
      
    
    <a href="https://www.twitch.tv/datastaxdevs" target="_blank" rel="noopener" title="www.twitch.tv" class="md-social__link">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><!--! Font Awesome Free 6.4.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2023 Fonticons, Inc.--><path d="M391.17 103.47h-38.63v109.7h38.63ZM285 103h-38.63v109.75H285ZM120.83 0 24.31 91.42v329.16h115.83V512l96.53-91.42h77.25L487.69 256V0Zm328.24 237.75-77.22 73.12h-77.24l-67.6 64v-64h-86.87V36.58h308.93Z"/></svg>
    </a>
  
    
    
    
    
      
      
    
    <a href="https://twitter.com/datastax" target="_blank" rel="noopener" title="twitter.com" class="md-social__link">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><!--! Font Awesome Free 6.4.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2023 Fonticons, Inc.--><path d="M459.37 151.716c.325 4.548.325 9.097.325 13.645 0 138.72-105.583 298.558-298.558 298.558-59.452 0-114.68-17.219-161.137-47.106 8.447.974 16.568 1.299 25.34 1.299 49.055 0 94.213-16.568 130.274-44.832-46.132-.975-84.792-31.188-98.112-72.772 6.498.974 12.995 1.624 19.818 1.624 9.421 0 18.843-1.3 27.614-3.573-48.081-9.747-84.143-51.98-84.143-102.985v-1.299c13.969 7.797 30.214 12.67 47.431 13.319-28.264-18.843-46.781-51.005-46.781-87.391 0-19.492 5.197-37.36 14.294-52.954 51.655 63.675 129.3 105.258 216.365 109.807-1.624-7.797-2.599-15.918-2.599-24.04 0-57.828 46.782-104.934 104.934-104.934 30.213 0 57.502 12.67 76.67 33.137 23.715-4.548 46.456-13.32 66.599-25.34-7.798 24.366-24.366 44.833-46.132 57.827 21.117-2.273 41.584-8.122 60.426-16.243-14.292 20.791-32.161 39.308-52.628 54.253z"/></svg>
    </a>
  
    
    
    
    
      
      
    
    <a href="https://www.youtube.com/channel/UCAIQY251avaMv7bBv5PCo-A" target="_blank" rel="noopener" title="www.youtube.com" class="md-social__link">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 576 512"><!--! Font Awesome Free 6.4.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2023 Fonticons, Inc.--><path d="M549.655 124.083c-6.281-23.65-24.787-42.276-48.284-48.597C458.781 64 288 64 288 64S117.22 64 74.629 75.486c-23.497 6.322-42.003 24.947-48.284 48.597-11.412 42.867-11.412 132.305-11.412 132.305s0 89.438 11.412 132.305c6.281 23.65 24.787 41.5 48.284 47.821C117.22 448 288 448 288 448s170.78 0 213.371-11.486c23.497-6.321 42.003-24.171 48.284-47.821 11.412-42.867 11.412-132.305 11.412-132.305s0-89.438-11.412-132.305zm-317.51 213.508V175.185l142.739 81.205-142.739 81.201z"/></svg>
    </a>
  
</div>
            
        </div>
    </div>
</footer>

    </div>
    <div class="md-dialog" data-md-component="dialog">
      <div class="md-dialog__inner md-typeset"></div>
    </div>
    
    <script id="__config" type="application/json">{"base": "../../../..", "features": ["content.code.annotate", "navigation.indexes", "navigation.sections", "navigation.tabs", "navigation.top", "navigation.tracking", "search.highlight", "search.share", "search.suggest", "toc.follow"], "search": "../../../../assets/javascripts/workers/search.74e28a9f.min.js", "translations": {"clipboard.copied": "Copied to clipboard", "clipboard.copy": "Copy to clipboard", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.placeholder": "Type to start searching", "search.result.term.missing": "Missing", "select.version": "Select version"}}</script>
    
    
      <script src="../../../../assets/javascripts/bundle.220ee61c.min.js"></script>
      
    
  </body>
</html>